import{_ as u,c as i,a as s,b as d,w as m,d as l,v as g,t as c,o as r}from"./index-LgNIJTkV.js";const p={name:"AdminLogin",data(){return{credentials:{username:"",password:""},errorMessage:"",isLoading:!1,isLoggedIn:!1,defaultAdmin:{username:"admin",password:"020912"}}},mounted(){this.checkLoginStatus()},methods:{handleLogin(){this.isLoading=!0,this.errorMessage="",setTimeout(()=>{if(this.credentials.username===this.defaultAdmin.username&&this.credentials.password===this.defaultAdmin.password){const o={username:this.credentials.username,loginTime:new Date().toISOString(),isAdmin:!0};localStorage.setItem("adminLogin",JSON.stringify(o)),this.isLoggedIn=!0,this.credentials={username:"",password:""},this.$router.push("/admin-dashboard"),this.$emit("login-success",o)}else this.errorMessage="Invalid username or password";this.isLoading=!1},1e3)},handleLogout(){localStorage.removeItem("adminLogin"),this.isLoggedIn=!1,this.credentials={username:"",password:""},this.errorMessage="",this.$emit("logout")},checkLoginStatus(){const o=localStorage.getItem("adminLogin");if(o)try{JSON.parse(o).isAdmin&&(this.isLoggedIn=!0)}catch{localStorage.removeItem("adminLogin")}},getLoginData(){const o=localStorage.getItem("adminLogin");return o?JSON.parse(o):null}}},h={class:"admin-login"},L={class:"login-container"},f={class:"login-card"},w={class:"form-group"},v={class:"form-group"},_={key:0,class:"error-message"},S=["disabled"],I={key:0},b={key:1},y={key:0,class:"success-message"};function k(o,e,A,D,n,a){return r(),i("div",h,[s("div",L,[s("div",f,[e[7]||(e[7]=s("div",{class:"login-header"},[s("h2",null,"Admin Login"),s("p",null,"Please enter your credentials")],-1)),s("form",{onSubmit:e[2]||(e[2]=m((...t)=>a.handleLogin&&a.handleLogin(...t),["prevent"])),class:"login-form"},[s("div",w,[e[4]||(e[4]=s("label",{for:"username"},"Username",-1)),l(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>n.credentials.username=t),type:"text",placeholder:"Enter username",required:""},null,512),[[g,n.credentials.username]])]),s("div",v,[e[5]||(e[5]=s("label",{for:"password"},"Password",-1)),l(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>n.credentials.password=t),type:"password",placeholder:"Enter password",required:""},null,512),[[g,n.credentials.password]])]),n.errorMessage?(r(),i("div",_,c(n.errorMessage),1)):d("",!0),s("button",{type:"submit",class:"login-btn",disabled:n.isLoading},[n.isLoading?(r(),i("span",I,"Logging in...")):(r(),i("span",b,"Login"))],8,S)],32),n.isLoggedIn?(r(),i("div",y,[e[6]||(e[6]=s("p",null,"Welcome, Admin! You are successfully logged in.",-1)),s("button",{onClick:e[3]||(e[3]=(...t)=>a.handleLogout&&a.handleLogout(...t)),class:"logout-btn"},"Logout")])):d("",!0)])])])}const x=u(p,[["render",k],["__scopeId","data-v-8f2ffa6d"]]);export{x as default};
