const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminLogin-_IK4ptr6.js","assets/AdminLogin-CQHoAEMA.css","assets/AdminDashboard-NvdDzRVX.js","assets/AdminDashboard-DQtI6Jes.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Hg(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ct={},_a=[],Wr=()=>{},Sk=()=>!1,Mh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),jg=t=>t.startsWith("onUpdate:"),kn=Object.assign,Wg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Tk=Object.prototype.hasOwnProperty,vt=(t,e)=>Tk.call(t,e),Pe=Array.isArray,ya=t=>qc(t)==="[object Map]",Ka=t=>qc(t)==="[object Set]",f_=t=>qc(t)==="[object Date]",Ge=t=>typeof t=="function",Wt=t=>typeof t=="string",Jr=t=>typeof t=="symbol",xt=t=>t!==null&&typeof t=="object",Sw=t=>(xt(t)||Ge(t))&&Ge(t.then)&&Ge(t.catch),Tw=Object.prototype.toString,qc=t=>Tw.call(t),Ck=t=>qc(t).slice(8,-1),Cw=t=>qc(t)==="[object Object]",qg=t=>Wt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ql=Hg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ak=/-(\w)/g,mr=Oh(t=>t.replace(Ak,(e,n)=>n?n.toUpperCase():"")),Rk=/\B([A-Z])/g,No=Oh(t=>t.replace(Rk,"-$1").toLowerCase()),Nh=Oh(t=>t.charAt(0).toUpperCase()+t.slice(1)),Lf=Oh(t=>t?`on${Nh(t)}`:""),vo=(t,e)=>!Object.is(t,e),gd=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},xp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},$d=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let p_;const Lh=()=>p_||(p_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bh(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Wt(r)?Pk(r):Bh(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Wt(t)||xt(t))return t}const kk=/;(?![^(]*\))/g,Ik=/:([^]+)/,xk=/\/\*[^]*?\*\//g;function Pk(t){const e={};return t.replace(xk,"").split(kk).forEach(n=>{if(n){const r=n.split(Ik);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ut(t){let e="";if(Wt(t))e=t;else if(Pe(t))for(let n=0;n<t.length;n++){const r=Ut(t[n]);r&&(e+=r+" ")}else if(xt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Dk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mk=Hg(Dk);function Aw(t){return!!t||t===""}function Ok(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Gc(t[r],e[r]);return n}function Gc(t,e){if(t===e)return!0;let n=f_(t),r=f_(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Jr(t),r=Jr(e),n||r)return t===e;if(n=Pe(t),r=Pe(e),n||r)return n&&r?Ok(t,e):!1;if(n=xt(t),r=xt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const l=t.hasOwnProperty(s),u=e.hasOwnProperty(s);if(l&&!u||!l&&u||!Gc(t[s],e[s]))return!1}}return String(t)===String(e)}function Gg(t,e){return t.findIndex(n=>Gc(n,e))}const Rw=t=>!!(t&&t.__v_isRef===!0),ve=t=>Wt(t)?t:t==null?"":Pe(t)||xt(t)&&(t.toString===Tw||!Ge(t.toString))?Rw(t)?ve(t.value):JSON.stringify(t,kw,2):String(t),kw=(t,e)=>Rw(e)?kw(t,e.value):ya(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[Bf(r,o)+" =>"]=i,n),{})}:Ka(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bf(n))}:Jr(e)?Bf(e):xt(e)&&!Pe(e)&&!Cw(e)?String(e):e,Bf=(t,e="")=>{var n;return Jr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zn;class Nk{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zn,!e&&zn&&(this.index=(zn.scopes||(zn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=zn;try{return zn=this,e()}finally{zn=n}}}on(){++this._on===1&&(this.prevScope=zn,zn=this)}off(){this._on>0&&--this._on===0&&(zn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Lk(){return zn}let At;const Vf=new WeakSet;class Iw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zn&&zn.active&&zn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vf.has(this)&&(Vf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Pw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,g_(this),Dw(this);const e=At,n=Rr;At=this,Rr=!0;try{return this.fn()}finally{Mw(this),At=e,Rr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yg(e);this.deps=this.depsTail=void 0,g_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pp(this)&&this.run()}get dirty(){return Pp(this)}}let xw=0,Xl,Jl;function Pw(t,e=!1){if(t.flags|=8,e){t.next=Jl,Jl=t;return}t.next=Xl,Xl=t}function Zg(){xw++}function Kg(){if(--xw>0)return;if(Jl){let e=Jl;for(Jl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Xl;){let e=Xl;for(Xl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Dw(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Mw(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Yg(r),Bk(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Pp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ow(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ow(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===vc)||(t.globalVersion=vc,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Pp(t))))return;t.flags|=2;const e=t.dep,n=At,r=Rr;At=t,Rr=!0;try{Dw(t);const i=t.fn(t._value);(e.version===0||vo(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{At=n,Rr=r,Mw(t),t.flags&=-3}}function Yg(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Yg(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Bk(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Rr=!0;const Nw=[];function Mi(){Nw.push(Rr),Rr=!1}function Oi(){const t=Nw.pop();Rr=t===void 0?!0:t}function g_(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=At;At=void 0;try{e()}finally{At=n}}}let vc=0;class Vk{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qg{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!At||!Rr||At===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==At)n=this.activeLink=new Vk(At,this),At.deps?(n.prevDep=At.depsTail,At.depsTail.nextDep=n,At.depsTail=n):At.deps=At.depsTail=n,Lw(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=At.depsTail,n.nextDep=void 0,At.depsTail.nextDep=n,At.depsTail=n,At.deps===n&&(At.deps=r)}return n}trigger(e){this.version++,vc++,this.notify(e)}notify(e){Zg();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Kg()}}}function Lw(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Lw(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Dp=new WeakMap,ls=Symbol(""),Mp=Symbol(""),_c=Symbol("");function Sn(t,e,n){if(Rr&&At){let r=Dp.get(t);r||Dp.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Qg),i.map=r,i.key=n),i.track()}}function Ei(t,e,n,r,i,o){const s=Dp.get(t);if(!s){vc++;return}const l=u=>{u&&u.trigger()};if(Zg(),e==="clear")s.forEach(l);else{const u=Pe(t),h=u&&qg(n);if(u&&n==="length"){const f=Number(r);s.forEach((g,v)=>{(v==="length"||v===_c||!Jr(v)&&v>=f)&&l(g)})}else switch((n!==void 0||s.has(void 0))&&l(s.get(n)),h&&l(s.get(_c)),e){case"add":u?h&&l(s.get("length")):(l(s.get(ls)),ya(t)&&l(s.get(Mp)));break;case"delete":u||(l(s.get(ls)),ya(t)&&l(s.get(Mp)));break;case"set":ya(t)&&l(s.get(ls));break}}Kg()}function ra(t){const e=mt(t);return e===t?e:(Sn(e,"iterate",_c),pr(t)?e:e.map(fn))}function Vh(t){return Sn(t=mt(t),"iterate",_c),t}const Fk={__proto__:null,[Symbol.iterator](){return Ff(this,Symbol.iterator,fn)},concat(...t){return ra(this).concat(...t.map(e=>Pe(e)?ra(e):e))},entries(){return Ff(this,"entries",t=>(t[1]=fn(t[1]),t))},every(t,e){return mi(this,"every",t,e,void 0,arguments)},filter(t,e){return mi(this,"filter",t,e,n=>n.map(fn),arguments)},find(t,e){return mi(this,"find",t,e,fn,arguments)},findIndex(t,e){return mi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return mi(this,"findLast",t,e,fn,arguments)},findLastIndex(t,e){return mi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return mi(this,"forEach",t,e,void 0,arguments)},includes(...t){return $f(this,"includes",t)},indexOf(...t){return $f(this,"indexOf",t)},join(t){return ra(this).join(t)},lastIndexOf(...t){return $f(this,"lastIndexOf",t)},map(t,e){return mi(this,"map",t,e,void 0,arguments)},pop(){return Vl(this,"pop")},push(...t){return Vl(this,"push",t)},reduce(t,...e){return m_(this,"reduce",t,e)},reduceRight(t,...e){return m_(this,"reduceRight",t,e)},shift(){return Vl(this,"shift")},some(t,e){return mi(this,"some",t,e,void 0,arguments)},splice(...t){return Vl(this,"splice",t)},toReversed(){return ra(this).toReversed()},toSorted(t){return ra(this).toSorted(t)},toSpliced(...t){return ra(this).toSpliced(...t)},unshift(...t){return Vl(this,"unshift",t)},values(){return Ff(this,"values",fn)}};function Ff(t,e,n){const r=Vh(t),i=r[e]();return r!==t&&!pr(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const $k=Array.prototype;function mi(t,e,n,r,i,o){const s=Vh(t),l=s!==t&&!pr(t),u=s[e];if(u!==$k[e]){const g=u.apply(t,o);return l?fn(g):g}let h=n;s!==t&&(l?h=function(g,v){return n.call(this,fn(g),v,t)}:n.length>2&&(h=function(g,v){return n.call(this,g,v,t)}));const f=u.call(s,h,r);return l&&i?i(f):f}function m_(t,e,n,r){const i=Vh(t);let o=n;return i!==t&&(pr(t)?n.length>3&&(o=function(s,l,u){return n.call(this,s,l,u,t)}):o=function(s,l,u){return n.call(this,s,fn(l),u,t)}),i[e](o,...r)}function $f(t,e,n){const r=mt(t);Sn(r,"iterate",_c);const i=r[e](...n);return(i===-1||i===!1)&&tm(n[0])?(n[0]=mt(n[0]),r[e](...n)):i}function Vl(t,e,n=[]){Mi(),Zg();const r=mt(t)[e].apply(t,n);return Kg(),Oi(),r}const Uk=Hg("__proto__,__v_isRef,__isVue"),Bw=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Jr));function zk(t){Jr(t)||(t=String(t));const e=mt(this);return Sn(e,"has",t),e.hasOwnProperty(t)}class Vw{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?Xk:zw:o?Uw:$w).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=Pe(e);if(!i){let u;if(s&&(u=Fk[n]))return u;if(n==="hasOwnProperty")return zk}const l=Reflect.get(e,n,Rn(e)?e:r);return(Jr(n)?Bw.has(n):Uk(n))||(i||Sn(e,"get",n),o)?l:Rn(l)?s&&qg(n)?l:l.value:xt(l)?i?Jg(l):Zc(l):l}}class Fw extends Vw{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const u=Co(o);if(!pr(r)&&!Co(r)&&(o=mt(o),r=mt(r)),!Pe(e)&&Rn(o)&&!Rn(r))return u?!1:(o.value=r,!0)}const s=Pe(e)&&qg(n)?Number(n)<e.length:vt(e,n),l=Reflect.set(e,n,r,Rn(e)?e:i);return e===mt(i)&&(s?vo(r,o)&&Ei(e,"set",n,r):Ei(e,"add",n,r)),l}deleteProperty(e,n){const r=vt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ei(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Jr(n)||!Bw.has(n))&&Sn(e,"has",n),r}ownKeys(e){return Sn(e,"iterate",Pe(e)?"length":ls),Reflect.ownKeys(e)}}class Hk extends Vw{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const jk=new Fw,Wk=new Hk,qk=new Fw(!0);const Op=t=>t,Gu=t=>Reflect.getPrototypeOf(t);function Gk(t,e,n){return function(...r){const i=this.__v_raw,o=mt(i),s=ya(o),l=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,h=i[t](...r),f=n?Op:e?Ud:fn;return!e&&Sn(o,"iterate",u?Mp:ls),{next(){const{value:g,done:v}=h.next();return v?{value:g,done:v}:{value:l?[f(g[0]),f(g[1])]:f(g),done:v}},[Symbol.iterator](){return this}}}}function Zu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Zk(t,e){const n={get(i){const o=this.__v_raw,s=mt(o),l=mt(i);t||(vo(i,l)&&Sn(s,"get",i),Sn(s,"get",l));const{has:u}=Gu(s),h=e?Op:t?Ud:fn;if(u.call(s,i))return h(o.get(i));if(u.call(s,l))return h(o.get(l));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!t&&Sn(mt(i),"iterate",ls),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=mt(o),l=mt(i);return t||(vo(i,l)&&Sn(s,"has",i),Sn(s,"has",l)),i===l?o.has(i):o.has(i)||o.has(l)},forEach(i,o){const s=this,l=s.__v_raw,u=mt(l),h=e?Op:t?Ud:fn;return!t&&Sn(u,"iterate",ls),l.forEach((f,g)=>i.call(o,h(f),h(g),s))}};return kn(n,t?{add:Zu("add"),set:Zu("set"),delete:Zu("delete"),clear:Zu("clear")}:{add(i){!e&&!pr(i)&&!Co(i)&&(i=mt(i));const o=mt(this);return Gu(o).has.call(o,i)||(o.add(i),Ei(o,"add",i,i)),this},set(i,o){!e&&!pr(o)&&!Co(o)&&(o=mt(o));const s=mt(this),{has:l,get:u}=Gu(s);let h=l.call(s,i);h||(i=mt(i),h=l.call(s,i));const f=u.call(s,i);return s.set(i,o),h?vo(o,f)&&Ei(s,"set",i,o):Ei(s,"add",i,o),this},delete(i){const o=mt(this),{has:s,get:l}=Gu(o);let u=s.call(o,i);u||(i=mt(i),u=s.call(o,i)),l&&l.call(o,i);const h=o.delete(i);return u&&Ei(o,"delete",i,void 0),h},clear(){const i=mt(this),o=i.size!==0,s=i.clear();return o&&Ei(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Gk(i,t,e)}),n}function Xg(t,e){const n=Zk(t,e);return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(vt(n,i)&&i in r?n:r,i,o)}const Kk={get:Xg(!1,!1)},Yk={get:Xg(!1,!0)},Qk={get:Xg(!0,!1)};const $w=new WeakMap,Uw=new WeakMap,zw=new WeakMap,Xk=new WeakMap;function Jk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eI(t){return t.__v_skip||!Object.isExtensible(t)?0:Jk(Ck(t))}function Zc(t){return Co(t)?t:em(t,!1,jk,Kk,$w)}function Hw(t){return em(t,!1,qk,Yk,Uw)}function Jg(t){return em(t,!0,Wk,Qk,zw)}function em(t,e,n,r,i){if(!xt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=eI(t);if(o===0)return t;const s=i.get(t);if(s)return s;const l=new Proxy(t,o===2?r:n);return i.set(t,l),l}function ba(t){return Co(t)?ba(t.__v_raw):!!(t&&t.__v_isReactive)}function Co(t){return!!(t&&t.__v_isReadonly)}function pr(t){return!!(t&&t.__v_isShallow)}function tm(t){return t?!!t.__v_raw:!1}function mt(t){const e=t&&t.__v_raw;return e?mt(e):t}function tI(t){return!vt(t,"__v_skip")&&Object.isExtensible(t)&&xp(t,"__v_skip",!0),t}const fn=t=>xt(t)?Zc(t):t,Ud=t=>xt(t)?Jg(t):t;function Rn(t){return t?t.__v_isRef===!0:!1}function et(t){return jw(t,!1)}function nI(t){return jw(t,!0)}function jw(t,e){return Rn(t)?t:new rI(t,e)}class rI{constructor(e,n){this.dep=new Qg,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:mt(e),this._value=n?e:fn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||pr(e)||Co(e);e=r?e:mt(e),vo(e,n)&&(this._rawValue=e,this._value=r?e:fn(e),this.dep.trigger())}}function wa(t){return Rn(t)?t.value:t}const iI={get:(t,e,n)=>e==="__v_raw"?t:wa(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Rn(i)&&!Rn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Ww(t){return ba(t)?t:new Proxy(t,iI)}class oI{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Qg(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&At!==this)return Pw(this,!0),!0}get value(){const e=this.dep.track();return Ow(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sI(t,e,n=!1){let r,i;return Ge(t)?r=t:(r=t.get,i=t.set),new oI(r,i,n)}const Ku={},zd=new WeakMap;let ts;function aI(t,e=!1,n=ts){if(n){let r=zd.get(n);r||zd.set(n,r=[]),r.push(t)}}function lI(t,e,n=Ct){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:l,call:u}=n,h=q=>i?q:pr(q)||i===!1||i===0?Si(q,1):Si(q);let f,g,v,_,S=!1,T=!1;if(Rn(t)?(g=()=>t.value,S=pr(t)):ba(t)?(g=()=>h(t),S=!0):Pe(t)?(T=!0,S=t.some(q=>ba(q)||pr(q)),g=()=>t.map(q=>{if(Rn(q))return q.value;if(ba(q))return h(q);if(Ge(q))return u?u(q,2):q()})):Ge(t)?e?g=u?()=>u(t,2):t:g=()=>{if(v){Mi();try{v()}finally{Oi()}}const q=ts;ts=f;try{return u?u(t,3,[_]):t(_)}finally{ts=q}}:g=Wr,e&&i){const q=g,oe=i===!0?1/0:i;g=()=>Si(q(),oe)}const A=Lk(),P=()=>{f.stop(),A&&A.active&&Wg(A.effects,f)};if(o&&e){const q=e;e=(...oe)=>{q(...oe),P()}}let M=T?new Array(t.length).fill(Ku):Ku;const U=q=>{if(!(!(f.flags&1)||!f.dirty&&!q))if(e){const oe=f.run();if(i||S||(T?oe.some((se,D)=>vo(se,M[D])):vo(oe,M))){v&&v();const se=ts;ts=f;try{const D=[oe,M===Ku?void 0:T&&M[0]===Ku?[]:M,_];M=oe,u?u(e,3,D):e(...D)}finally{ts=se}}}else f.run()};return l&&l(U),f=new Iw(g),f.scheduler=s?()=>s(U,!1):U,_=q=>aI(q,!1,f),v=f.onStop=()=>{const q=zd.get(f);if(q){if(u)u(q,4);else for(const oe of q)oe();zd.delete(f)}},e?r?U(!0):M=f.run():s?s(U.bind(null,!0),!0):f.run(),P.pause=f.pause.bind(f),P.resume=f.resume.bind(f),P.stop=P,P}function Si(t,e=1/0,n){if(e<=0||!xt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Rn(t))Si(t.value,e,n);else if(Pe(t))for(let r=0;r<t.length;r++)Si(t[r],e,n);else if(Ka(t)||ya(t))t.forEach(r=>{Si(r,e,n)});else if(Cw(t)){for(const r in t)Si(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Si(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Kc(t,e,n,r){try{return r?t(...r):t()}catch(i){Fh(i,e,n)}}function ei(t,e,n,r){if(Ge(t)){const i=Kc(t,e,n,r);return i&&Sw(i)&&i.catch(o=>{Fh(o,e,n)}),i}if(Pe(t)){const i=[];for(let o=0;o<t.length;o++)i.push(ei(t[o],e,n,r));return i}}function Fh(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Ct;if(e){let l=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](t,u,h)===!1)return}l=l.parent}if(o){Mi(),Kc(o,null,10,[t,u,h]),Oi();return}}cI(t,n,i,r,s)}function cI(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Ln=[];let $r=-1;const Ea=[];let ro=null,aa=0;const qw=Promise.resolve();let Hd=null;function $h(t){const e=Hd||qw;return t?e.then(this?t.bind(this):t):e}function uI(t){let e=$r+1,n=Ln.length;for(;e<n;){const r=e+n>>>1,i=Ln[r],o=yc(i);o<t||o===t&&i.flags&2?e=r+1:n=r}return e}function nm(t){if(!(t.flags&1)){const e=yc(t),n=Ln[Ln.length-1];!n||!(t.flags&2)&&e>=yc(n)?Ln.push(t):Ln.splice(uI(e),0,t),t.flags|=1,Gw()}}function Gw(){Hd||(Hd=qw.then(Kw))}function dI(t){Pe(t)?Ea.push(...t):ro&&t.id===-1?ro.splice(aa+1,0,t):t.flags&1||(Ea.push(t),t.flags|=1),Gw()}function v_(t,e,n=$r+1){for(;n<Ln.length;n++){const r=Ln[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ln.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Zw(t){if(Ea.length){const e=[...new Set(Ea)].sort((n,r)=>yc(n)-yc(r));if(Ea.length=0,ro){ro.push(...e);return}for(ro=e,aa=0;aa<ro.length;aa++){const n=ro[aa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ro=null,aa=0}}const yc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Kw(t){try{for($r=0;$r<Ln.length;$r++){const e=Ln[$r];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Kc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;$r<Ln.length;$r++){const e=Ln[$r];e&&(e.flags&=-2)}$r=-1,Ln.length=0,Zw(),Hd=null,(Ln.length||Ea.length)&&Kw()}}let qn=null,Yw=null;function jd(t){const e=qn;return qn=t,Yw=t&&t.type.__scopeId||null,e}function jn(t,e=qn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&x_(-1);const o=jd(e);let s;try{s=t(...i)}finally{jd(o),r._d&&x_(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Ne(t,e){if(qn===null)return t;const n=Wh(qn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,l,u=Ct]=e[i];o&&(Ge(o)&&(o={mounted:o,updated:o}),o.deep&&Si(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u}))}return t}function Xo(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let u=l.dir[r];u&&(Mi(),ei(u,n,8,[t.el,l,t,e]),Oi())}}const Qw=Symbol("_vte"),hI=t=>t.__isTeleport,ec=t=>t&&(t.disabled||t.disabled===""),__=t=>t&&(t.defer||t.defer===""),y_=t=>typeof SVGElement<"u"&&t instanceof SVGElement,b_=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Np=(t,e)=>{const n=t&&t.to;return Wt(n)?e?e(n):null:n},Xw={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,l,u,h){const{mc:f,pc:g,pbc:v,o:{insert:_,querySelector:S,createText:T,createComment:A}}=h,P=ec(e.props);let{shapeFlag:M,children:U,dynamicChildren:q}=e;if(t==null){const oe=e.el=T(""),se=e.anchor=T("");_(oe,n,r),_(se,n,r);const D=(I,F)=>{M&16&&(i&&i.isCE&&(i.ce._teleportTarget=I),f(U,I,F,i,o,s,l,u))},k=()=>{const I=e.target=Np(e.props,S),F=Jw(I,e,T,_);I&&(s!=="svg"&&y_(I)?s="svg":s!=="mathml"&&b_(I)&&(s="mathml"),P||(D(I,F),md(e,!1)))};P&&(D(n,se),md(e,!0)),__(e.props)?(e.el.__isMounted=!1,Nn(()=>{k(),delete e.el.__isMounted},o)):k()}else{if(__(e.props)&&t.el.__isMounted===!1){Nn(()=>{Xw.process(t,e,n,r,i,o,s,l,u,h)},o);return}e.el=t.el,e.targetStart=t.targetStart;const oe=e.anchor=t.anchor,se=e.target=t.target,D=e.targetAnchor=t.targetAnchor,k=ec(t.props),I=k?n:se,F=k?oe:D;if(s==="svg"||y_(se)?s="svg":(s==="mathml"||b_(se))&&(s="mathml"),q?(v(t.dynamicChildren,q,I,i,o,s,l),am(t,e,!0)):u||g(t,e,I,F,i,o,s,l,!1),P)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Yu(e,n,oe,h,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=Np(e.props,S);$&&Yu(e,$,null,h,0)}else k&&Yu(e,se,D,h,1);md(e,P)}},remove(t,e,n,{um:r,o:{remove:i}},o){const{shapeFlag:s,children:l,anchor:u,targetStart:h,targetAnchor:f,target:g,props:v}=t;if(g&&(i(h),i(f)),o&&i(u),s&16){const _=o||!ec(v);for(let S=0;S<l.length;S++){const T=l[S];r(T,e,n,_,!!T.dynamicChildren)}}},move:Yu,hydrate:fI};function Yu(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:l,shapeFlag:u,children:h,props:f}=t,g=o===2;if(g&&r(s,e,n),(!g||ec(f))&&u&16)for(let v=0;v<h.length;v++)i(h[v],e,n,2);g&&r(l,e,n)}function fI(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:l,querySelector:u,insert:h,createText:f}},g){const v=e.target=Np(e.props,u);if(v){const _=ec(e.props),S=v._lpa||v.firstChild;if(e.shapeFlag&16)if(_)e.anchor=g(s(t),e,l(t),n,r,i,o),e.targetStart=S,e.targetAnchor=S&&s(S);else{e.anchor=s(t);let T=S;for(;T;){if(T&&T.nodeType===8){if(T.data==="teleport start anchor")e.targetStart=T;else if(T.data==="teleport anchor"){e.targetAnchor=T,v._lpa=e.targetAnchor&&s(e.targetAnchor);break}}T=s(T)}e.targetAnchor||Jw(v,e,f,h),g(S&&s(S),e,v,n,r,i,o)}md(e,_)}return e.anchor&&s(e.anchor)}const pI=Xw;function md(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Jw(t,e,n,r){const i=e.targetStart=n(""),o=e.targetAnchor=n("");return i[Qw]=o,t&&(r(i,t),r(o,t)),o}function rm(t,e){t.shapeFlag&6&&t.component?(t.transition=e,rm(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Uh(t,e){return Ge(t)?kn({name:t.name},e,{setup:t}):t}function eE(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function tc(t,e,n,r,i=!1){if(Pe(t)){t.forEach((S,T)=>tc(S,e&&(Pe(e)?e[T]:e),n,r,i));return}if(nc(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&tc(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?Wh(r.component):r.el,s=i?null:o,{i:l,r:u}=t,h=e&&e.r,f=l.refs===Ct?l.refs={}:l.refs,g=l.setupState,v=mt(g),_=g===Ct?()=>!1:S=>vt(v,S);if(h!=null&&h!==u&&(Wt(h)?(f[h]=null,_(h)&&(g[h]=null)):Rn(h)&&(h.value=null)),Ge(u))Kc(u,l,12,[s,f]);else{const S=Wt(u),T=Rn(u);if(S||T){const A=()=>{if(t.f){const P=S?_(u)?g[u]:f[u]:u.value;i?Pe(P)&&Wg(P,o):Pe(P)?P.includes(o)||P.push(o):S?(f[u]=[o],_(u)&&(g[u]=f[u])):(u.value=[o],t.k&&(f[t.k]=u.value))}else S?(f[u]=s,_(u)&&(g[u]=s)):T&&(u.value=s,t.k&&(f[t.k]=s))};s?(A.id=-1,Nn(A,n)):A()}}}Lh().requestIdleCallback;Lh().cancelIdleCallback;const nc=t=>!!t.type.__asyncLoader,tE=t=>t.type.__isKeepAlive;function gI(t,e){nE(t,"a",e)}function mI(t,e){nE(t,"da",e)}function nE(t,e,n=gn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(zh(e,r,n),n){let i=n.parent;for(;i&&i.parent;)tE(i.parent.vnode)&&vI(r,e,n,i),i=i.parent}}function vI(t,e,n,r){const i=zh(e,t,r,!0);im(()=>{Wg(r[e],i)},n)}function zh(t,e,n=gn,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{Mi();const l=Yc(n),u=ei(e,n,t,s);return l(),Oi(),u});return r?i.unshift(o):i.push(o),o}}const Ui=t=>(e,n=gn)=>{(!Ec||t==="sp")&&zh(t,(...r)=>e(...r),n)},_I=Ui("bm"),Cs=Ui("m"),yI=Ui("bu"),bI=Ui("u"),wI=Ui("bum"),im=Ui("um"),EI=Ui("sp"),SI=Ui("rtg"),TI=Ui("rtc");function CI(t,e=gn){zh("ec",t,e)}const AI="components";function jr(t,e){return kI(AI,t,!0,e)||t}const RI=Symbol.for("v-ndc");function kI(t,e,n=!0,r=!1){const i=qn||gn;if(i){const o=i.type;{const l=g1(o,!1);if(l&&(l===e||l===mr(e)||l===Nh(mr(e))))return o}const s=w_(i[t]||o[t],e)||w_(i.appContext[t],e);return!s&&r?o:s}}function w_(t,e){return t&&(t[e]||t[mr(e)]||t[Nh(mr(e))])}function Ni(t,e,n,r){let i;const o=n,s=Pe(t);if(s||Wt(t)){const l=s&&ba(t);let u=!1,h=!1;l&&(u=!pr(t),h=Co(t),t=Vh(t)),i=new Array(t.length);for(let f=0,g=t.length;f<g;f++)i[f]=e(u?h?Ud(fn(t[f])):fn(t[f]):t[f],f,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,o)}else if(xt(t))if(t[Symbol.iterator])i=Array.from(t,(l,u)=>e(l,u,void 0,o));else{const l=Object.keys(t);i=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const f=l[u];i[u]=e(t[f],f,u,o)}}else i=[];return i}const Lp=t=>t?wE(t)?Wh(t):Lp(t.parent):null,rc=kn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Lp(t.parent),$root:t=>Lp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>iE(t),$forceUpdate:t=>t.f||(t.f=()=>{nm(t.update)}),$nextTick:t=>t.n||(t.n=$h.bind(t.proxy)),$watch:t=>KI.bind(t)}),Uf=(t,e)=>t!==Ct&&!t.__isScriptSetup&&vt(t,e),II={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:u}=t;let h;if(e[0]!=="$"){const _=s[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(Uf(r,e))return s[e]=1,r[e];if(i!==Ct&&vt(i,e))return s[e]=2,i[e];if((h=t.propsOptions[0])&&vt(h,e))return s[e]=3,o[e];if(n!==Ct&&vt(n,e))return s[e]=4,n[e];Bp&&(s[e]=0)}}const f=rc[e];let g,v;if(f)return e==="$attrs"&&Sn(t.attrs,"get",""),f(t);if((g=l.__cssModules)&&(g=g[e]))return g;if(n!==Ct&&vt(n,e))return s[e]=4,n[e];if(v=u.config.globalProperties,vt(v,e))return v[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return Uf(i,e)?(i[e]=n,!0):r!==Ct&&vt(r,e)?(r[e]=n,!0):vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||t!==Ct&&vt(t,s)||Uf(e,s)||(l=o[0])&&vt(l,s)||vt(r,s)||vt(rc,s)||vt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:vt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function E_(t){return Pe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Bp=!0;function xI(t){const e=iE(t),n=t.proxy,r=t.ctx;Bp=!1,e.beforeCreate&&S_(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:l,provide:u,inject:h,created:f,beforeMount:g,mounted:v,beforeUpdate:_,updated:S,activated:T,deactivated:A,beforeDestroy:P,beforeUnmount:M,destroyed:U,unmounted:q,render:oe,renderTracked:se,renderTriggered:D,errorCaptured:k,serverPrefetch:I,expose:F,inheritAttrs:$,components:z,directives:O,filters:dt}=e;if(h&&PI(h,r,null),s)for(const Ve in s){const le=s[Ve];Ge(le)&&(r[Ve]=le.bind(n))}if(i){const Ve=i.call(n,n);xt(Ve)&&(t.data=Zc(Ve))}if(Bp=!0,o)for(const Ve in o){const le=o[Ve],Ot=Ge(le)?le.bind(n,n):Ge(le.get)?le.get.bind(n,n):Wr,Ee=!Ge(le)&&Ge(le.set)?le.set.bind(n):Wr,Fe=Bn({get:Ot,set:Ee});Object.defineProperty(r,Ve,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:$e=>Fe.value=$e})}if(l)for(const Ve in l)rE(l[Ve],r,n,Ve);if(u){const Ve=Ge(u)?u.call(n):u;Reflect.ownKeys(Ve).forEach(le=>{vd(le,Ve[le])})}f&&S_(f,t,"c");function Qe(Ve,le){Pe(le)?le.forEach(Ot=>Ve(Ot.bind(n))):le&&Ve(le.bind(n))}if(Qe(_I,g),Qe(Cs,v),Qe(yI,_),Qe(bI,S),Qe(gI,T),Qe(mI,A),Qe(CI,k),Qe(TI,se),Qe(SI,D),Qe(wI,M),Qe(im,q),Qe(EI,I),Pe(F))if(F.length){const Ve=t.exposed||(t.exposed={});F.forEach(le=>{Object.defineProperty(Ve,le,{get:()=>n[le],set:Ot=>n[le]=Ot})})}else t.exposed||(t.exposed={});oe&&t.render===Wr&&(t.render=oe),$!=null&&(t.inheritAttrs=$),z&&(t.components=z),O&&(t.directives=O),I&&eE(t)}function PI(t,e,n=Wr){Pe(t)&&(t=Vp(t));for(const r in t){const i=t[r];let o;xt(i)?"default"in i?o=gr(i.from||r,i.default,!0):o=gr(i.from||r):o=gr(i),Rn(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function S_(t,e,n){ei(Pe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function rE(t,e,n,r){let i=r.includes(".")?mE(n,r):()=>n[r];if(Wt(t)){const o=e[t];Ge(o)&&Ti(i,o)}else if(Ge(t))Ti(i,t.bind(n));else if(xt(t))if(Pe(t))t.forEach(o=>rE(o,e,n,r));else{const o=Ge(t.handler)?t.handler.bind(n):e[t.handler];Ge(o)&&Ti(i,o,t)}}function iE(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let u;return l?u=l:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(h=>Wd(u,h,s,!0)),Wd(u,e,s)),xt(e)&&o.set(e,u),u}function Wd(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Wd(t,o,n,!0),i&&i.forEach(s=>Wd(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const l=DI[s]||n&&n[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const DI={data:T_,props:C_,emits:C_,methods:Hl,computed:Hl,beforeCreate:On,created:On,beforeMount:On,mounted:On,beforeUpdate:On,updated:On,beforeDestroy:On,beforeUnmount:On,destroyed:On,unmounted:On,activated:On,deactivated:On,errorCaptured:On,serverPrefetch:On,components:Hl,directives:Hl,watch:OI,provide:T_,inject:MI};function T_(t,e){return e?t?function(){return kn(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function MI(t,e){return Hl(Vp(t),Vp(e))}function Vp(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function On(t,e){return t?[...new Set([].concat(t,e))]:e}function Hl(t,e){return t?kn(Object.create(null),t,e):e}function C_(t,e){return t?Pe(t)&&Pe(e)?[...new Set([...t,...e])]:kn(Object.create(null),E_(t),E_(e??{})):e}function OI(t,e){if(!t)return e;if(!e)return t;const n=kn(Object.create(null),t);for(const r in e)n[r]=On(t[r],e[r]);return n}function oE(){return{app:null,config:{isNativeTag:Sk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let NI=0;function LI(t,e){return function(r,i=null){Ge(r)||(r=kn({},r)),i!=null&&!xt(i)&&(i=null);const o=oE(),s=new WeakSet,l=[];let u=!1;const h=o.app={_uid:NI++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:v1,get config(){return o.config},set config(f){},use(f,...g){return s.has(f)||(f&&Ge(f.install)?(s.add(f),f.install(h,...g)):Ge(f)&&(s.add(f),f(h,...g))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,g){return g?(o.components[f]=g,h):o.components[f]},directive(f,g){return g?(o.directives[f]=g,h):o.directives[f]},mount(f,g,v){if(!u){const _=h._ceVNode||ut(r,i);return _.appContext=o,v===!0?v="svg":v===!1&&(v=void 0),t(_,f,v),u=!0,h._container=f,f.__vue_app__=h,Wh(_.component)}},onUnmount(f){l.push(f)},unmount(){u&&(ei(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(f,g){return o.provides[f]=g,h},runWithContext(f){const g=Sa;Sa=h;try{return f()}finally{Sa=g}}};return h}}let Sa=null;function vd(t,e){if(gn){let n=gn.provides;const r=gn.parent&&gn.parent.provides;r===n&&(n=gn.provides=Object.create(r)),n[t]=e}}function gr(t,e,n=!1){const r=gn||qn;if(r||Sa){let i=Sa?Sa._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ge(e)?e.call(r&&r.proxy):e}}const sE={},aE=()=>Object.create(sE),lE=t=>Object.getPrototypeOf(t)===sE;function BI(t,e,n,r=!1){const i={},o=aE();t.propsDefaults=Object.create(null),cE(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:Hw(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function VI(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,l=mt(i),[u]=t.propsOptions;let h=!1;if((r||s>0)&&!(s&16)){if(s&8){const f=t.vnode.dynamicProps;for(let g=0;g<f.length;g++){let v=f[g];if(Hh(t.emitsOptions,v))continue;const _=e[v];if(u)if(vt(o,v))_!==o[v]&&(o[v]=_,h=!0);else{const S=mr(v);i[S]=Fp(u,l,S,_,t,!1)}else _!==o[v]&&(o[v]=_,h=!0)}}}else{cE(t,e,i,o)&&(h=!0);let f;for(const g in l)(!e||!vt(e,g)&&((f=No(g))===g||!vt(e,f)))&&(u?n&&(n[g]!==void 0||n[f]!==void 0)&&(i[g]=Fp(u,l,g,void 0,t,!0)):delete i[g]);if(o!==l)for(const g in o)(!e||!vt(e,g))&&(delete o[g],h=!0)}h&&Ei(t.attrs,"set","")}function cE(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,l;if(e)for(let u in e){if(Ql(u))continue;const h=e[u];let f;i&&vt(i,f=mr(u))?!o||!o.includes(f)?n[f]=h:(l||(l={}))[f]=h:Hh(t.emitsOptions,u)||(!(u in r)||h!==r[u])&&(r[u]=h,s=!0)}if(o){const u=mt(n),h=l||Ct;for(let f=0;f<o.length;f++){const g=o[f];n[g]=Fp(i,u,g,h[g],t,!vt(h,g))}}return s}function Fp(t,e,n,r,i,o){const s=t[n];if(s!=null){const l=vt(s,"default");if(l&&r===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&Ge(u)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const f=Yc(i);r=h[n]=u.call(null,e),f()}}else r=u;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===No(n))&&(r=!0))}return r}const FI=new WeakMap;function uE(t,e,n=!1){const r=n?FI:e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},l=[];let u=!1;if(!Ge(t)){const f=g=>{u=!0;const[v,_]=uE(g,e,!0);kn(s,v),_&&l.push(..._)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!o&&!u)return xt(t)&&r.set(t,_a),_a;if(Pe(o))for(let f=0;f<o.length;f++){const g=mr(o[f]);A_(g)&&(s[g]=Ct)}else if(o)for(const f in o){const g=mr(f);if(A_(g)){const v=o[f],_=s[g]=Pe(v)||Ge(v)?{type:v}:kn({},v),S=_.type;let T=!1,A=!0;if(Pe(S))for(let P=0;P<S.length;++P){const M=S[P],U=Ge(M)&&M.name;if(U==="Boolean"){T=!0;break}else U==="String"&&(A=!1)}else T=Ge(S)&&S.name==="Boolean";_[0]=T,_[1]=A,(T||vt(_,"default"))&&l.push(g)}}const h=[s,l];return xt(t)&&r.set(t,h),h}function A_(t){return t[0]!=="$"&&!Ql(t)}const om=t=>t[0]==="_"||t==="$stable",sm=t=>Pe(t)?t.map(zr):[zr(t)],$I=(t,e,n)=>{if(e._n)return e;const r=jn((...i)=>sm(e(...i)),n);return r._c=!1,r},dE=(t,e,n)=>{const r=t._ctx;for(const i in t){if(om(i))continue;const o=t[i];if(Ge(o))e[i]=$I(i,o,r);else if(o!=null){const s=sm(o);e[i]=()=>s}}},hE=(t,e)=>{const n=sm(e);t.slots.default=()=>n},fE=(t,e,n)=>{for(const r in e)(n||!om(r))&&(t[r]=e[r])},UI=(t,e,n)=>{const r=t.slots=aE();if(t.vnode.shapeFlag&32){const i=e.__;i&&xp(r,"__",i,!0);const o=e._;o?(fE(r,e,n),n&&xp(r,"_",o,!0)):dE(e,r)}else e&&hE(t,e)},zI=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Ct;if(r.shapeFlag&32){const l=e._;l?n&&l===1?o=!1:fE(i,e,n):(o=!e.$stable,dE(e,i)),s=e}else e&&(hE(t,e),s={default:1});if(o)for(const l in i)!om(l)&&s[l]==null&&delete i[l]},Nn=n1;function HI(t){return jI(t)}function jI(t,e){const n=Lh();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:u,setText:h,setElementText:f,parentNode:g,nextSibling:v,setScopeId:_=Wr,insertStaticContent:S}=t,T=(x,N,H,X=null,te=null,J=null,de=void 0,ce=null,ae=!!N.dynamicChildren)=>{if(x===N)return;x&&!Fl(x,N)&&(X=Q(x),$e(x,te,J,!0),x=null),N.patchFlag===-2&&(ae=!1,N.dynamicChildren=null);const{type:ie,ref:Te,shapeFlag:he}=N;switch(ie){case jh:A(x,N,H,X);break;case Ao:P(x,N,H,X);break;case _d:x==null&&M(N,H,X,de);break;case Xt:z(x,N,H,X,te,J,de,ce,ae);break;default:he&1?oe(x,N,H,X,te,J,de,ce,ae):he&6?O(x,N,H,X,te,J,de,ce,ae):(he&64||he&128)&&ie.process(x,N,H,X,te,J,de,ce,ae,be)}Te!=null&&te?tc(Te,x&&x.ref,J,N||x,!N):Te==null&&x&&x.ref!=null&&tc(x.ref,null,J,x,!0)},A=(x,N,H,X)=>{if(x==null)r(N.el=l(N.children),H,X);else{const te=N.el=x.el;N.children!==x.children&&h(te,N.children)}},P=(x,N,H,X)=>{x==null?r(N.el=u(N.children||""),H,X):N.el=x.el},M=(x,N,H,X)=>{[x.el,x.anchor]=S(x.children,N,H,X,x.el,x.anchor)},U=({el:x,anchor:N},H,X)=>{let te;for(;x&&x!==N;)te=v(x),r(x,H,X),x=te;r(N,H,X)},q=({el:x,anchor:N})=>{let H;for(;x&&x!==N;)H=v(x),i(x),x=H;i(N)},oe=(x,N,H,X,te,J,de,ce,ae)=>{N.type==="svg"?de="svg":N.type==="math"&&(de="mathml"),x==null?se(N,H,X,te,J,de,ce,ae):I(x,N,te,J,de,ce,ae)},se=(x,N,H,X,te,J,de,ce)=>{let ae,ie;const{props:Te,shapeFlag:he,transition:Se,dirs:De}=x;if(ae=x.el=s(x.type,J,Te&&Te.is,Te),he&8?f(ae,x.children):he&16&&k(x.children,ae,null,X,te,zf(x,J),de,ce),De&&Xo(x,null,X,"created"),D(ae,x,x.scopeId,de,X),Te){for(const ze in Te)ze!=="value"&&!Ql(ze)&&o(ae,ze,null,Te[ze],J,X);"value"in Te&&o(ae,"value",null,Te.value,J),(ie=Te.onVnodeBeforeMount)&&Vr(ie,X,x)}De&&Xo(x,null,X,"beforeMount");const Ae=WI(te,Se);Ae&&Se.beforeEnter(ae),r(ae,N,H),((ie=Te&&Te.onVnodeMounted)||Ae||De)&&Nn(()=>{ie&&Vr(ie,X,x),Ae&&Se.enter(ae),De&&Xo(x,null,X,"mounted")},te)},D=(x,N,H,X,te)=>{if(H&&_(x,H),X)for(let J=0;J<X.length;J++)_(x,X[J]);if(te){let J=te.subTree;if(N===J||_E(J.type)&&(J.ssContent===N||J.ssFallback===N)){const de=te.vnode;D(x,de,de.scopeId,de.slotScopeIds,te.parent)}}},k=(x,N,H,X,te,J,de,ce,ae=0)=>{for(let ie=ae;ie<x.length;ie++){const Te=x[ie]=ce?io(x[ie]):zr(x[ie]);T(null,Te,N,H,X,te,J,de,ce)}},I=(x,N,H,X,te,J,de)=>{const ce=N.el=x.el;let{patchFlag:ae,dynamicChildren:ie,dirs:Te}=N;ae|=x.patchFlag&16;const he=x.props||Ct,Se=N.props||Ct;let De;if(H&&Jo(H,!1),(De=Se.onVnodeBeforeUpdate)&&Vr(De,H,N,x),Te&&Xo(N,x,H,"beforeUpdate"),H&&Jo(H,!0),(he.innerHTML&&Se.innerHTML==null||he.textContent&&Se.textContent==null)&&f(ce,""),ie?F(x.dynamicChildren,ie,ce,H,X,zf(N,te),J):de||le(x,N,ce,null,H,X,zf(N,te),J,!1),ae>0){if(ae&16)$(ce,he,Se,H,te);else if(ae&2&&he.class!==Se.class&&o(ce,"class",null,Se.class,te),ae&4&&o(ce,"style",he.style,Se.style,te),ae&8){const Ae=N.dynamicProps;for(let ze=0;ze<Ae.length;ze++){const nt=Ae[ze],nn=he[nt],Gt=Se[nt];(Gt!==nn||nt==="value")&&o(ce,nt,nn,Gt,te,H)}}ae&1&&x.children!==N.children&&f(ce,N.children)}else!de&&ie==null&&$(ce,he,Se,H,te);((De=Se.onVnodeUpdated)||Te)&&Nn(()=>{De&&Vr(De,H,N,x),Te&&Xo(N,x,H,"updated")},X)},F=(x,N,H,X,te,J,de)=>{for(let ce=0;ce<N.length;ce++){const ae=x[ce],ie=N[ce],Te=ae.el&&(ae.type===Xt||!Fl(ae,ie)||ae.shapeFlag&198)?g(ae.el):H;T(ae,ie,Te,null,X,te,J,de,!0)}},$=(x,N,H,X,te)=>{if(N!==H){if(N!==Ct)for(const J in N)!Ql(J)&&!(J in H)&&o(x,J,N[J],null,te,X);for(const J in H){if(Ql(J))continue;const de=H[J],ce=N[J];de!==ce&&J!=="value"&&o(x,J,ce,de,te,X)}"value"in H&&o(x,"value",N.value,H.value,te)}},z=(x,N,H,X,te,J,de,ce,ae)=>{const ie=N.el=x?x.el:l(""),Te=N.anchor=x?x.anchor:l("");let{patchFlag:he,dynamicChildren:Se,slotScopeIds:De}=N;De&&(ce=ce?ce.concat(De):De),x==null?(r(ie,H,X),r(Te,H,X),k(N.children||[],H,Te,te,J,de,ce,ae)):he>0&&he&64&&Se&&x.dynamicChildren?(F(x.dynamicChildren,Se,H,te,J,de,ce),(N.key!=null||te&&N===te.subTree)&&am(x,N,!0)):le(x,N,H,Te,te,J,de,ce,ae)},O=(x,N,H,X,te,J,de,ce,ae)=>{N.slotScopeIds=ce,x==null?N.shapeFlag&512?te.ctx.activate(N,H,X,de,ae):dt(N,H,X,te,J,de,ae):Ft(x,N,ae)},dt=(x,N,H,X,te,J,de)=>{const ce=x.component=u1(x,X,te);if(tE(x)&&(ce.ctx.renderer=be),d1(ce,!1,de),ce.asyncDep){if(te&&te.registerDep(ce,Qe,de),!x.el){const ae=ce.subTree=ut(Ao);P(null,ae,N,H)}}else Qe(ce,x,N,H,te,J,de)},Ft=(x,N,H)=>{const X=N.component=x.component;if(e1(x,N,H))if(X.asyncDep&&!X.asyncResolved){Ve(X,N,H);return}else X.next=N,X.update();else N.el=x.el,X.vnode=N},Qe=(x,N,H,X,te,J,de)=>{const ce=()=>{if(x.isMounted){let{next:he,bu:Se,u:De,parent:Ae,vnode:ze}=x;{const sn=pE(x);if(sn){he&&(he.el=ze.el,Ve(x,he,de)),sn.asyncDep.then(()=>{x.isUnmounted||ce()});return}}let nt=he,nn;Jo(x,!1),he?(he.el=ze.el,Ve(x,he,de)):he=ze,Se&&gd(Se),(nn=he.props&&he.props.onVnodeBeforeUpdate)&&Vr(nn,Ae,he,ze),Jo(x,!0);const Gt=k_(x),Pn=x.subTree;x.subTree=Gt,T(Pn,Gt,g(Pn.el),Q(Pn),x,te,J),he.el=Gt.el,nt===null&&t1(x,Gt.el),De&&Nn(De,te),(nn=he.props&&he.props.onVnodeUpdated)&&Nn(()=>Vr(nn,Ae,he,ze),te)}else{let he;const{el:Se,props:De}=N,{bm:Ae,m:ze,parent:nt,root:nn,type:Gt}=x,Pn=nc(N);Jo(x,!1),Ae&&gd(Ae),!Pn&&(he=De&&De.onVnodeBeforeMount)&&Vr(he,nt,N),Jo(x,!0);{nn.ce&&nn.ce._def.shadowRoot!==!1&&nn.ce._injectChildStyle(Gt);const sn=x.subTree=k_(x);T(null,sn,H,X,x,te,J),N.el=sn.el}if(ze&&Nn(ze,te),!Pn&&(he=De&&De.onVnodeMounted)){const sn=N;Nn(()=>Vr(he,nt,sn),te)}(N.shapeFlag&256||nt&&nc(nt.vnode)&&nt.vnode.shapeFlag&256)&&x.a&&Nn(x.a,te),x.isMounted=!0,N=H=X=null}};x.scope.on();const ae=x.effect=new Iw(ce);x.scope.off();const ie=x.update=ae.run.bind(ae),Te=x.job=ae.runIfDirty.bind(ae);Te.i=x,Te.id=x.uid,ae.scheduler=()=>nm(Te),Jo(x,!0),ie()},Ve=(x,N,H)=>{N.component=x;const X=x.vnode.props;x.vnode=N,x.next=null,VI(x,N.props,X,H),zI(x,N.children,H),Mi(),v_(x),Oi()},le=(x,N,H,X,te,J,de,ce,ae=!1)=>{const ie=x&&x.children,Te=x?x.shapeFlag:0,he=N.children,{patchFlag:Se,shapeFlag:De}=N;if(Se>0){if(Se&128){Ee(ie,he,H,X,te,J,de,ce,ae);return}else if(Se&256){Ot(ie,he,H,X,te,J,de,ce,ae);return}}De&8?(Te&16&&ke(ie,te,J),he!==ie&&f(H,he)):Te&16?De&16?Ee(ie,he,H,X,te,J,de,ce,ae):ke(ie,te,J,!0):(Te&8&&f(H,""),De&16&&k(he,H,X,te,J,de,ce,ae))},Ot=(x,N,H,X,te,J,de,ce,ae)=>{x=x||_a,N=N||_a;const ie=x.length,Te=N.length,he=Math.min(ie,Te);let Se;for(Se=0;Se<he;Se++){const De=N[Se]=ae?io(N[Se]):zr(N[Se]);T(x[Se],De,H,null,te,J,de,ce,ae)}ie>Te?ke(x,te,J,!0,!1,he):k(N,H,X,te,J,de,ce,ae,he)},Ee=(x,N,H,X,te,J,de,ce,ae)=>{let ie=0;const Te=N.length;let he=x.length-1,Se=Te-1;for(;ie<=he&&ie<=Se;){const De=x[ie],Ae=N[ie]=ae?io(N[ie]):zr(N[ie]);if(Fl(De,Ae))T(De,Ae,H,null,te,J,de,ce,ae);else break;ie++}for(;ie<=he&&ie<=Se;){const De=x[he],Ae=N[Se]=ae?io(N[Se]):zr(N[Se]);if(Fl(De,Ae))T(De,Ae,H,null,te,J,de,ce,ae);else break;he--,Se--}if(ie>he){if(ie<=Se){const De=Se+1,Ae=De<Te?N[De].el:X;for(;ie<=Se;)T(null,N[ie]=ae?io(N[ie]):zr(N[ie]),H,Ae,te,J,de,ce,ae),ie++}}else if(ie>Se)for(;ie<=he;)$e(x[ie],te,J,!0),ie++;else{const De=ie,Ae=ie,ze=new Map;for(ie=Ae;ie<=Se;ie++){const Zt=N[ie]=ae?io(N[ie]):zr(N[ie]);Zt.key!=null&&ze.set(Zt.key,ie)}let nt,nn=0;const Gt=Se-Ae+1;let Pn=!1,sn=0;const vr=new Array(Gt);for(ie=0;ie<Gt;ie++)vr[ie]=0;for(ie=De;ie<=he;ie++){const Zt=x[ie];if(nn>=Gt){$e(Zt,te,J,!0);continue}let Fn;if(Zt.key!=null)Fn=ze.get(Zt.key);else for(nt=Ae;nt<=Se;nt++)if(vr[nt-Ae]===0&&Fl(Zt,N[nt])){Fn=nt;break}Fn===void 0?$e(Zt,te,J,!0):(vr[Fn-Ae]=ie+1,Fn>=sn?sn=Fn:Pn=!0,T(Zt,N[Fn],H,null,te,J,de,ce,ae),nn++)}const ii=Pn?qI(vr):_a;for(nt=ii.length-1,ie=Gt-1;ie>=0;ie--){const Zt=Ae+ie,Fn=N[Zt],Mr=Zt+1<Te?N[Zt+1].el:X;vr[ie]===0?T(null,Fn,H,Mr,te,J,de,ce,ae):Pn&&(nt<0||ie!==ii[nt]?Fe(Fn,H,Mr,2):nt--)}}},Fe=(x,N,H,X,te=null)=>{const{el:J,type:de,transition:ce,children:ae,shapeFlag:ie}=x;if(ie&6){Fe(x.component.subTree,N,H,X);return}if(ie&128){x.suspense.move(N,H,X);return}if(ie&64){de.move(x,N,H,be);return}if(de===Xt){r(J,N,H);for(let he=0;he<ae.length;he++)Fe(ae[he],N,H,X);r(x.anchor,N,H);return}if(de===_d){U(x,N,H);return}if(X!==2&&ie&1&&ce)if(X===0)ce.beforeEnter(J),r(J,N,H),Nn(()=>ce.enter(J),te);else{const{leave:he,delayLeave:Se,afterLeave:De}=ce,Ae=()=>{x.ctx.isUnmounted?i(J):r(J,N,H)},ze=()=>{he(J,()=>{Ae(),De&&De()})};Se?Se(J,Ae,ze):ze()}else r(J,N,H)},$e=(x,N,H,X=!1,te=!1)=>{const{type:J,props:de,ref:ce,children:ae,dynamicChildren:ie,shapeFlag:Te,patchFlag:he,dirs:Se,cacheIndex:De}=x;if(he===-2&&(te=!1),ce!=null&&(Mi(),tc(ce,null,H,x,!0),Oi()),De!=null&&(N.renderCache[De]=void 0),Te&256){N.ctx.deactivate(x);return}const Ae=Te&1&&Se,ze=!nc(x);let nt;if(ze&&(nt=de&&de.onVnodeBeforeUnmount)&&Vr(nt,N,x),Te&6)Ze(x.component,H,X);else{if(Te&128){x.suspense.unmount(H,X);return}Ae&&Xo(x,null,N,"beforeUnmount"),Te&64?x.type.remove(x,N,H,be,X):ie&&!ie.hasOnce&&(J!==Xt||he>0&&he&64)?ke(ie,N,H,!1,!0):(J===Xt&&he&384||!te&&Te&16)&&ke(ae,N,H),X&&We(x)}(ze&&(nt=de&&de.onVnodeUnmounted)||Ae)&&Nn(()=>{nt&&Vr(nt,N,x),Ae&&Xo(x,null,N,"unmounted")},H)},We=x=>{const{type:N,el:H,anchor:X,transition:te}=x;if(N===Xt){it(H,X);return}if(N===_d){q(x);return}const J=()=>{i(H),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(x.shapeFlag&1&&te&&!te.persisted){const{leave:de,delayLeave:ce}=te,ae=()=>de(H,J);ce?ce(x.el,J,ae):ae()}else J()},it=(x,N)=>{let H;for(;x!==N;)H=v(x),i(x),x=H;i(N)},Ze=(x,N,H)=>{const{bum:X,scope:te,job:J,subTree:de,um:ce,m:ae,a:ie,parent:Te,slots:{__:he}}=x;R_(ae),R_(ie),X&&gd(X),Te&&Pe(he)&&he.forEach(Se=>{Te.renderCache[Se]=void 0}),te.stop(),J&&(J.flags|=8,$e(de,x,N,H)),ce&&Nn(ce,N),Nn(()=>{x.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},ke=(x,N,H,X=!1,te=!1,J=0)=>{for(let de=J;de<x.length;de++)$e(x[de],N,H,X,te)},Q=x=>{if(x.shapeFlag&6)return Q(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const N=v(x.anchor||x.el),H=N&&N[Qw];return H?v(H):N};let fe=!1;const pe=(x,N,H)=>{x==null?N._vnode&&$e(N._vnode,null,null,!0):T(N._vnode||null,x,N,null,null,null,H),N._vnode=x,fe||(fe=!0,v_(),Zw(),fe=!1)},be={p:T,um:$e,m:Fe,r:We,mt:dt,mc:k,pc:le,pbc:F,n:Q,o:t};return{render:pe,hydrate:void 0,createApp:LI(pe)}}function zf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Jo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function WI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function am(t,e,n=!1){const r=t.children,i=e.children;if(Pe(r)&&Pe(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=io(i[o]),l.el=s.el),!n&&l.patchFlag!==-2&&am(s,l)),l.type===jh&&(l.el=s.el),l.type===Ao&&!l.el&&(l.el=s.el)}}function qI(t){const e=t.slice(),n=[0];let r,i,o,s,l;const u=t.length;for(r=0;r<u;r++){const h=t[r];if(h!==0){if(i=n[n.length-1],t[i]<h){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,t[n[l]]<h?o=l+1:s=l;h<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function pE(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:pE(e)}function R_(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const GI=Symbol.for("v-scx"),ZI=()=>gr(GI);function Ti(t,e,n){return gE(t,e,n)}function gE(t,e,n=Ct){const{immediate:r,deep:i,flush:o,once:s}=n,l=kn({},n),u=e&&r||!e&&o!=="post";let h;if(Ec){if(o==="sync"){const _=ZI();h=_.__watcherHandles||(_.__watcherHandles=[])}else if(!u){const _=()=>{};return _.stop=Wr,_.resume=Wr,_.pause=Wr,_}}const f=gn;l.call=(_,S,T)=>ei(_,f,S,T);let g=!1;o==="post"?l.scheduler=_=>{Nn(_,f&&f.suspense)}:o!=="sync"&&(g=!0,l.scheduler=(_,S)=>{S?_():nm(_)}),l.augmentJob=_=>{e&&(_.flags|=4),g&&(_.flags|=2,f&&(_.id=f.uid,_.i=f))};const v=lI(t,e,l);return Ec&&(h?h.push(v):u&&v()),v}function KI(t,e,n){const r=this.proxy,i=Wt(t)?t.includes(".")?mE(r,t):()=>r[t]:t.bind(r,r);let o;Ge(e)?o=e:(o=e.handler,n=e);const s=Yc(this),l=gE(i,o.bind(r),n);return s(),l}function mE(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const YI=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${mr(e)}Modifiers`]||t[`${No(e)}Modifiers`];function QI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ct;let i=n;const o=e.startsWith("update:"),s=o&&YI(r,e.slice(7));s&&(s.trim&&(i=n.map(f=>Wt(f)?f.trim():f)),s.number&&(i=n.map($d)));let l,u=r[l=Lf(e)]||r[l=Lf(mr(e))];!u&&o&&(u=r[l=Lf(No(e))]),u&&ei(u,t,6,i);const h=r[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ei(h,t,6,i)}}function vE(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},l=!1;if(!Ge(t)){const u=h=>{const f=vE(h,e,!0);f&&(l=!0,kn(s,f))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!o&&!l?(xt(t)&&r.set(t,null),null):(Pe(o)?o.forEach(u=>s[u]=null):kn(s,o),xt(t)&&r.set(t,s),s)}function Hh(t,e){return!t||!Mh(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(t,e[0].toLowerCase()+e.slice(1))||vt(t,No(e))||vt(t,e))}function k_(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:l,emit:u,render:h,renderCache:f,props:g,data:v,setupState:_,ctx:S,inheritAttrs:T}=t,A=jd(t);let P,M;try{if(n.shapeFlag&4){const q=i||r,oe=q;P=zr(h.call(oe,q,f,g,_,v,S)),M=l}else{const q=e;P=zr(q.length>1?q(g,{attrs:l,slots:s,emit:u}):q(g,null)),M=e.props?l:XI(l)}}catch(q){ic.length=0,Fh(q,t,1),P=ut(Ao)}let U=P;if(M&&T!==!1){const q=Object.keys(M),{shapeFlag:oe}=U;q.length&&oe&7&&(o&&q.some(jg)&&(M=JI(M,o)),U=Ma(U,M,!1,!0))}return n.dirs&&(U=Ma(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&rm(U,n.transition),P=U,jd(A),P}const XI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Mh(n))&&((e||(e={}))[n]=t[n]);return e},JI=(t,e)=>{const n={};for(const r in t)(!jg(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function e1(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:l,patchFlag:u}=e,h=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?I_(r,s,h):!!s;if(u&8){const f=e.dynamicProps;for(let g=0;g<f.length;g++){const v=f[g];if(s[v]!==r[v]&&!Hh(h,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?I_(r,s,h):!0:!!s;return!1}function I_(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Hh(n,o))return!0}return!1}function t1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const _E=t=>t.__isSuspense;function n1(t,e){e&&e.pendingBranch?Pe(t)?e.effects.push(...t):e.effects.push(t):dI(t)}const Xt=Symbol.for("v-fgt"),jh=Symbol.for("v-txt"),Ao=Symbol.for("v-cmt"),_d=Symbol.for("v-stc"),ic=[];let Jn=null;function ge(t=!1){ic.push(Jn=t?null:[])}function r1(){ic.pop(),Jn=ic[ic.length-1]||null}let bc=1;function x_(t,e=!1){bc+=t,t<0&&Jn&&e&&(Jn.hasOnce=!0)}function yE(t){return t.dynamicChildren=bc>0?Jn||_a:null,r1(),bc>0&&Jn&&Jn.push(t),t}function me(t,e,n,r,i,o){return yE(w(t,e,n,r,i,o,!0))}function i1(t,e,n,r,i){return yE(ut(t,e,n,r,i,!0))}function qd(t){return t?t.__v_isVNode===!0:!1}function Fl(t,e){return t.type===e.type&&t.key===e.key}const bE=({key:t})=>t??null,yd=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Wt(t)||Rn(t)||Ge(t)?{i:qn,r:t,k:e,f:!!n}:t:null);function w(t,e=null,n=null,r=0,i=null,o=t===Xt?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&bE(e),ref:e&&yd(e),scopeId:Yw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qn};return l?(lm(u,n),o&128&&t.normalize(u)):n&&(u.shapeFlag|=Wt(n)?8:16),bc>0&&!s&&Jn&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Jn.push(u),u}const ut=o1;function o1(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===RI)&&(t=Ao),qd(t)){const l=Ma(t,e,!0);return n&&lm(l,n),bc>0&&!o&&Jn&&(l.shapeFlag&6?Jn[Jn.indexOf(t)]=l:Jn.push(l)),l.patchFlag=-2,l}if(m1(t)&&(t=t.__vccOpts),e){e=s1(e);let{class:l,style:u}=e;l&&!Wt(l)&&(e.class=Ut(l)),xt(u)&&(tm(u)&&!Pe(u)&&(u=kn({},u)),e.style=Bh(u))}const s=Wt(t)?1:_E(t)?128:hI(t)?64:xt(t)?4:Ge(t)?2:0;return w(t,e,n,r,i,s,o,!0)}function s1(t){return t?tm(t)||lE(t)?kn({},t):t:null}function Ma(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:l,transition:u}=t,h=e?a1(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&bE(h),ref:e&&e.ref?n&&o?Pe(o)?o.concat(yd(e)):[o,yd(e)]:yd(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ma(t.ssContent),ssFallback:t.ssFallback&&Ma(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&rm(f,u.clone(f)),f}function Ke(t=" ",e=0){return ut(jh,null,t,e)}function wc(t,e){const n=ut(_d,null,t);return n.staticCount=e,n}function pt(t="",e=!1){return e?(ge(),i1(Ao,null,t)):ut(Ao,null,t)}function zr(t){return t==null||typeof t=="boolean"?ut(Ao):Pe(t)?ut(Xt,null,t.slice()):qd(t)?io(t):ut(jh,null,String(t))}function io(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ma(t)}function lm(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Pe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),lm(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!lE(e)?e._ctx=qn:i===3&&qn&&(qn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:qn},n=32):(e=String(e),r&64?(n=16,e=[Ke(e)]):n=8);t.children=e,t.shapeFlag|=n}function a1(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ut([e.class,r.class]));else if(i==="style")e.style=Bh([e.style,r.style]);else if(Mh(i)){const o=e[i],s=r[i];s&&o!==s&&!(Pe(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Vr(t,e,n,r=null){ei(t,e,7,[n,r])}const l1=oE();let c1=0;function u1(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||l1,o={uid:c1++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Nk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uE(r,i),emitsOptions:vE(r,i),emit:null,emitted:null,propsDefaults:Ct,inheritAttrs:r.inheritAttrs,ctx:Ct,data:Ct,props:Ct,attrs:Ct,slots:Ct,refs:Ct,setupState:Ct,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=QI.bind(null,o),t.ce&&t.ce(o),o}let gn=null;const P_=()=>gn||qn;let Gd,$p;{const t=Lh(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Gd=e("__VUE_INSTANCE_SETTERS__",n=>gn=n),$p=e("__VUE_SSR_SETTERS__",n=>Ec=n)}const Yc=t=>{const e=gn;return Gd(t),t.scope.on(),()=>{t.scope.off(),Gd(e)}},D_=()=>{gn&&gn.scope.off(),Gd(null)};function wE(t){return t.vnode.shapeFlag&4}let Ec=!1;function d1(t,e=!1,n=!1){e&&$p(e);const{props:r,children:i}=t.vnode,o=wE(t);BI(t,r,o,e),UI(t,i,n||e);const s=o?h1(t,e):void 0;return e&&$p(!1),s}function h1(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,II);const{setup:r}=n;if(r){Mi();const i=t.setupContext=r.length>1?p1(t):null,o=Yc(t),s=Kc(r,t,0,[t.props,i]),l=Sw(s);if(Oi(),o(),(l||t.sp)&&!nc(t)&&eE(t),l){if(s.then(D_,D_),e)return s.then(u=>{M_(t,u)}).catch(u=>{Fh(u,t,0)});t.asyncDep=s}else M_(t,s)}else EE(t)}function M_(t,e,n){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:xt(e)&&(t.setupState=Ww(e)),EE(t)}function EE(t,e,n){const r=t.type;t.render||(t.render=r.render||Wr);{const i=Yc(t);Mi();try{xI(t)}finally{Oi(),i()}}}const f1={get(t,e){return Sn(t,"get",""),t[e]}};function p1(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,f1),slots:t.slots,emit:t.emit,expose:e}}function Wh(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ww(tI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in rc)return rc[n](t)},has(e,n){return n in e||n in rc}})):t.proxy}function g1(t,e=!0){return Ge(t)?t.displayName||t.name:t.name||e&&t.__name}function m1(t){return Ge(t)&&"__vccOpts"in t}const Bn=(t,e)=>sI(t,e,Ec);function Ta(t,e,n){const r=arguments.length;return r===2?xt(e)&&!Pe(e)?qd(e)?ut(t,null,[e]):ut(t,e):ut(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qd(n)&&(n=[n]),ut(t,e,n))}const v1="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Up;const O_=typeof window<"u"&&window.trustedTypes;if(O_)try{Up=O_.createPolicy("vue",{createHTML:t=>t})}catch{}const SE=Up?t=>Up.createHTML(t):t=>t,_1="http://www.w3.org/2000/svg",y1="http://www.w3.org/1998/Math/MathML",bi=typeof document<"u"?document:null,N_=bi&&bi.createElement("template"),b1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?bi.createElementNS(_1,t):e==="mathml"?bi.createElementNS(y1,t):n?bi.createElement(t,{is:n}):bi.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>bi.createTextNode(t),createComment:t=>bi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{N_.innerHTML=SE(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=N_.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},w1=Symbol("_vtc");function E1(t,e,n){const r=t[w1];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const L_=Symbol("_vod"),S1=Symbol("_vsh"),T1=Symbol(""),C1=/(^|;)\s*display\s*:/;function A1(t,e,n){const r=t.style,i=Wt(n);let o=!1;if(n&&!i){if(e)if(Wt(e))for(const s of e.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&bd(r,l,"")}else for(const s in e)n[s]==null&&bd(r,s,"");for(const s in n)s==="display"&&(o=!0),bd(r,s,n[s])}else if(i){if(e!==n){const s=r[T1];s&&(n+=";"+s),r.cssText=n,o=C1.test(n)}}else e&&t.removeAttribute("style");L_ in t&&(t[L_]=o?r.display:"",t[S1]&&(r.display="none"))}const B_=/\s*!important$/;function bd(t,e,n){if(Pe(n))n.forEach(r=>bd(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=R1(t,e);B_.test(n)?t.setProperty(No(r),n.replace(B_,""),"important"):t[r]=n}}const V_=["Webkit","Moz","ms"],Hf={};function R1(t,e){const n=Hf[e];if(n)return n;let r=mr(e);if(r!=="filter"&&r in t)return Hf[e]=r;r=Nh(r);for(let i=0;i<V_.length;i++){const o=V_[i]+r;if(o in t)return Hf[e]=o}return e}const F_="http://www.w3.org/1999/xlink";function $_(t,e,n,r,i,o=Mk(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(F_,e.slice(6,e.length)):t.setAttributeNS(F_,e,n):n==null||o&&!Aw(n)?t.removeAttribute(e):t.setAttribute(e,o?"":Jr(n)?String(n):n)}function U_(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?SE(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Aw(n):n==null&&l==="string"?(n="",s=!0):l==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(i||e)}function so(t,e,n,r){t.addEventListener(e,n,r)}function k1(t,e,n,r){t.removeEventListener(e,n,r)}const z_=Symbol("_vei");function I1(t,e,n,r,i=null){const o=t[z_]||(t[z_]={}),s=o[e];if(r&&s)s.value=r;else{const[l,u]=x1(e);if(r){const h=o[e]=M1(r,i);so(t,l,h,u)}else s&&(k1(t,l,s,u),o[e]=void 0)}}const H_=/(?:Once|Passive|Capture)$/;function x1(t){let e;if(H_.test(t)){e={};let r;for(;r=t.match(H_);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):No(t.slice(2)),e]}let jf=0;const P1=Promise.resolve(),D1=()=>jf||(P1.then(()=>jf=0),jf=Date.now());function M1(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ei(O1(r,n.value),e,5,[r])};return n.value=t,n.attached=D1(),n}function O1(t,e){if(Pe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const j_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,N1=(t,e,n,r,i,o)=>{const s=i==="svg";e==="class"?E1(t,r,s):e==="style"?A1(t,n,r):Mh(e)?jg(e)||I1(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):L1(t,e,r,s))?(U_(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$_(t,e,r,s,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Wt(r))?U_(t,mr(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$_(t,e,r,s))};function L1(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&j_(e)&&Ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return j_(e)&&Wt(n)?!1:e in t}const Oa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Pe(e)?n=>gd(e,n):e};function B1(t){t.target.composing=!0}function W_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ki=Symbol("_assign"),tt={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ki]=Oa(i);const o=r||i.props&&i.props.type==="number";so(t,e?"change":"input",s=>{if(s.target.composing)return;let l=t.value;n&&(l=l.trim()),o&&(l=$d(l)),t[ki](l)}),n&&so(t,"change",()=>{t.value=t.value.trim()}),e||(so(t,"compositionstart",B1),so(t,"compositionend",W_),so(t,"change",W_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(t[ki]=Oa(s),t.composing)return;const l=(o||t.type==="number")&&!/^0\d/.test(t.value)?$d(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===u)||(t.value=u))}},TE={deep:!0,created(t,e,n){t[ki]=Oa(n),so(t,"change",()=>{const r=t._modelValue,i=Sc(t),o=t.checked,s=t[ki];if(Pe(r)){const l=Gg(r,i),u=l!==-1;if(o&&!u)s(r.concat(i));else if(!o&&u){const h=[...r];h.splice(l,1),s(h)}}else if(Ka(r)){const l=new Set(r);o?l.add(i):l.delete(i),s(l)}else s(CE(t,o))})},mounted:q_,beforeUpdate(t,e,n){t[ki]=Oa(n),q_(t,e,n)}};function q_(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(Pe(e))i=Gg(e,r.props.value)>-1;else if(Ka(e))i=e.has(r.props.value);else{if(e===n)return;i=Gc(e,CE(t,!0))}t.checked!==i&&(t.checked=i)}const Ii={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ka(e);so(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?$d(Sc(s)):Sc(s));t[ki](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,$h(()=>{t._assigning=!1})}),t[ki]=Oa(r)},mounted(t,{value:e}){G_(t,e)},beforeUpdate(t,e,n){t[ki]=Oa(n)},updated(t,{value:e}){t._assigning||G_(t,e)}};function G_(t,e){const n=t.multiple,r=Pe(e);if(!(n&&!r&&!Ka(e))){for(let i=0,o=t.options.length;i<o;i++){const s=t.options[i],l=Sc(s);if(n)if(r){const u=typeof l;u==="string"||u==="number"?s.selected=e.some(h=>String(h)===String(l)):s.selected=Gg(e,l)>-1}else s.selected=e.has(l);else if(Gc(Sc(s),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Sc(t){return"_value"in t?t._value:t.value}function CE(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const V1=["ctrl","shift","alt","meta"],F1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>V1.some(n=>t[`${n}Key`]&&!e.includes(n))},As=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const l=F1[e[s]];if(l&&l(i,e))return}return t(i,...o)})},$1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zd=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=No(i.key);if(e.some(s=>s===o||$1[s]===o))return t(i)})},U1=kn({patchProp:N1},b1);let Z_;function z1(){return Z_||(Z_=HI(U1))}const H1=(...t)=>{const e=z1().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=W1(r);if(!i)return;const o=e._component;!Ge(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,j1(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function j1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function W1(t){return Wt(t)?document.querySelector(t):t}const bn={announceToScreenReader(t,e="polite"){const n=document.createElement("div");n.setAttribute("aria-live",e),n.setAttribute("aria-atomic","true"),n.className="sr-only",n.textContent=t,document.body.appendChild(n),setTimeout(()=>{document.body.removeChild(n)},1e3)},trapFocus(t){const e=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=e[0],r=e[e.length-1];t.addEventListener("keydown",i=>{i.key==="Tab"&&(i.shiftKey?document.activeElement===n&&(r.focus(),i.preventDefault()):document.activeElement===r&&(n.focus(),i.preventDefault()))})},generateId(){return`a11y-${Math.random().toString(36).substr(2,9)}`}},xn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},q1={role:"banner"},G1={class:"navbar navbar-expand-lg navbar-light bg-light",role:"navigation","aria-label":"Main navigation"},Z1={class:"container-fluid"},K1=["aria-expanded","onKeydown"],Y1={class:"navbar-nav me-auto mb-2 mb-lg-0",role:"menubar"},Q1={class:"nav-item",role:"none"},X1={class:"nav-item",role:"none"},J1={class:"nav-item",role:"none"},ex={class:"nav-item",role:"none"},tx={class:"nav-item",role:"none"},nx={__name:"BHeader",setup(t){const e=et(!1),n=()=>{e.value=!e.value,bn.announceToScreenReader(e.value?"Navigation menu opened":"Navigation menu closed")},r=()=>{e.value=!1};return(i,o)=>{const s=jr("router-link");return ge(),me("header",q1,[w("nav",G1,[w("div",Z1,[ut(s,{class:"navbar-brand",to:"/","aria-label":"Mental Health Hub - Go to homepage"},{default:jn(()=>o[0]||(o[0]=[Ke(" Mental Health Hub ")])),_:1,__:[0]}),w("button",{class:"navbar-toggler",type:"button","aria-expanded":e.value,"aria-controls":"navbarNav","aria-label":"Toggle navigation menu",onClick:n,onKeydown:[Zd(n,["enter"]),Zd(As(n,["prevent"]),["space"])]},o[1]||(o[1]=[w("span",{class:"navbar-toggler-icon","aria-hidden":"true"},null,-1)]),40,K1),w("div",{class:Ut(["collapse navbar-collapse",{show:e.value}]),id:"navbarNav"},[w("ul",Y1,[w("li",Q1,[ut(s,{class:"nav-link",to:"/",role:"menuitem","aria-label":"Home page",onClick:r},{default:jn(()=>o[2]||(o[2]=[w("span",{"aria-hidden":"true"},"🏠",-1),Ke(" Home ")])),_:1,__:[2]})]),w("li",X1,[ut(s,{class:"nav-link",to:"/FireRegister",role:"menuitem","aria-label":"Register new account",onClick:r},{default:jn(()=>o[3]||(o[3]=[w("span",{"aria-hidden":"true"},"📝",-1),Ke(" Firebase Register ")])),_:1,__:[3]})]),w("li",J1,[ut(s,{class:"nav-link",to:"/Firelogin",role:"menuitem","aria-label":"Login to account",onClick:r},{default:jn(()=>o[4]||(o[4]=[w("span",{"aria-hidden":"true"},"🔐",-1),Ke(" Firebase Login ")])),_:1,__:[4]})]),w("li",ex,[ut(s,{class:"nav-link",to:"/about",role:"menuitem","aria-label":"Dashboard and user information",onClick:r},{default:jn(()=>o[5]||(o[5]=[w("span",{"aria-hidden":"true"},"📊",-1),Ke(" Dashboard ")])),_:1,__:[5]})]),w("li",tx,[ut(s,{class:"nav-link",to:"/evaluate",role:"menuitem","aria-label":"Mental health evaluation",onClick:r},{default:jn(()=>o[6]||(o[6]=[w("span",{"aria-hidden":"true"},"⭐",-1),Ke(" Evaluate ")])),_:1,__:[6]})])])],2)])]),o[7]||(o[7]=w("div",{class:"skip-links"},[w("a",{href:"#main-content",class:"skip-link"},"Skip to main content"),w("a",{href:"#navigation",class:"skip-link"},"Skip to navigation")],-1))])}}},rx=xn(nx,[["__scopeId","data-v-98e783e8"]]),ix={__name:"App",setup(t){return(e,n)=>{const r=jr("router-view");return ge(),me(Xt,null,[w("header",null,[ut(rx)]),w("main",null,[ut(r)])],64)}}},ox=xn(ix,[["__scopeId","data-v-4de8f32c"]]),sx="modulepreload",ax=function(t){return"/"+t},K_={},Tc=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=u(n.map(h=>{if(h=ax(h),h in K_)return;K_[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":sx,f||(v.as="script"),v.crossOrigin="",v.href=h,l&&v.setAttribute("nonce",l),document.head.appendChild(v),f)return new Promise((_,S)=>{v.addEventListener("load",_),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const la=typeof document<"u";function AE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function lx(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&AE(t.default)}const gt=Object.assign;function Wf(t,e){const n={};for(const r in e){const i=e[r];n[r]=kr(i)?i.map(t):t(i)}return n}const oc=()=>{},kr=Array.isArray,RE=/#/g,cx=/&/g,ux=/\//g,dx=/=/g,hx=/\?/g,kE=/\+/g,fx=/%5B/g,px=/%5D/g,IE=/%5E/g,gx=/%60/g,xE=/%7B/g,mx=/%7C/g,PE=/%7D/g,vx=/%20/g;function cm(t){return encodeURI(""+t).replace(mx,"|").replace(fx,"[").replace(px,"]")}function _x(t){return cm(t).replace(xE,"{").replace(PE,"}").replace(IE,"^")}function zp(t){return cm(t).replace(kE,"%2B").replace(vx,"+").replace(RE,"%23").replace(cx,"%26").replace(gx,"`").replace(xE,"{").replace(PE,"}").replace(IE,"^")}function yx(t){return zp(t).replace(dx,"%3D")}function bx(t){return cm(t).replace(RE,"%23").replace(hx,"%3F")}function wx(t){return t==null?"":bx(t).replace(ux,"%2F")}function Cc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Ex=/\/$/,Sx=t=>t.replace(Ex,"");function qf(t,e,n="/"){let r,i={},o="",s="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(r=e.slice(0,u),o=e.slice(u+1,l>-1?l:e.length),i=t(o)),l>-1&&(r=r||e.slice(0,l),s=e.slice(l,e.length)),r=Rx(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:Cc(s)}}function Tx(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Y_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Cx(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Na(e.matched[r],n.matched[i])&&DE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Na(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function DE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Ax(t[n],e[n]))return!1;return!0}function Ax(t,e){return kr(t)?Q_(t,e):kr(e)?Q_(e,t):t===e}function Q_(t,e){return kr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Rx(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,l;for(s=0;s<r.length;s++)if(l=r[s],l!==".")if(l==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const eo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ac;(function(t){t.pop="pop",t.push="push"})(Ac||(Ac={}));var sc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(sc||(sc={}));function kx(t){if(!t)if(la){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Sx(t)}const Ix=/^[^#]+#/;function xx(t,e){return t.replace(Ix,"#")+e}function Px(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const qh=()=>({left:window.scrollX,top:window.scrollY});function Dx(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Px(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function X_(t,e){return(history.state?history.state.position-e:-1)+t}const Hp=new Map;function Mx(t,e){Hp.set(t,e)}function Ox(t){const e=Hp.get(t);return Hp.delete(t),e}let Nx=()=>location.protocol+"//"+location.host;function ME(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let l=i.includes(t.slice(o))?t.slice(o).length:1,u=i.slice(l);return u[0]!=="/"&&(u="/"+u),Y_(u,"")}return Y_(n,t)+r+i}function Lx(t,e,n,r){let i=[],o=[],s=null;const l=({state:v})=>{const _=ME(t,location),S=n.value,T=e.value;let A=0;if(v){if(n.value=_,e.value=v,s&&s===S){s=null;return}A=T?v.position-T.position:0}else r(_);i.forEach(P=>{P(n.value,S,{delta:A,type:Ac.pop,direction:A?A>0?sc.forward:sc.back:sc.unknown})})};function u(){s=n.value}function h(v){i.push(v);const _=()=>{const S=i.indexOf(v);S>-1&&i.splice(S,1)};return o.push(_),_}function f(){const{history:v}=window;v.state&&v.replaceState(gt({},v.state,{scroll:qh()}),"")}function g(){for(const v of o)v();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:h,destroy:g}}function J_(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?qh():null}}function Bx(t){const{history:e,location:n}=window,r={value:ME(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(u,h,f){const g=t.indexOf("#"),v=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+u:Nx()+t+u;try{e[f?"replaceState":"pushState"](h,"",v),i.value=h}catch(_){console.error(_),n[f?"replace":"assign"](v)}}function s(u,h){const f=gt({},e.state,J_(i.value.back,u,i.value.forward,!0),h,{position:i.value.position});o(u,f,!0),r.value=u}function l(u,h){const f=gt({},i.value,e.state,{forward:u,scroll:qh()});o(f.current,f,!0);const g=gt({},J_(r.value,u,null),{position:f.position+1},h);o(u,g,!1),r.value=u}return{location:r,state:i,push:l,replace:s}}function Vx(t){t=kx(t);const e=Bx(t),n=Lx(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=gt({location:"",base:t,go:r,createHref:xx.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Fx(t){return typeof t=="string"||t&&typeof t=="object"}function OE(t){return typeof t=="string"||typeof t=="symbol"}const NE=Symbol("");var ey;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ey||(ey={}));function La(t,e){return gt(new Error,{type:t,[NE]:!0},e)}function vi(t,e){return t instanceof Error&&NE in t&&(e==null||!!(t.type&e))}const ty="[^/]+?",$x={sensitive:!1,strict:!1,start:!0,end:!0},Ux=/[.+*?^${}()[\]/\\]/g;function zx(t,e){const n=gt({},$x,e),r=[];let i=n.start?"^":"";const o=[];for(const h of t){const f=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let g=0;g<h.length;g++){const v=h[g];let _=40+(n.sensitive?.25:0);if(v.type===0)g||(i+="/"),i+=v.value.replace(Ux,"\\$&"),_+=40;else if(v.type===1){const{value:S,repeatable:T,optional:A,regexp:P}=v;o.push({name:S,repeatable:T,optional:A});const M=P||ty;if(M!==ty){_+=10;try{new RegExp(`(${M})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${S}" (${M}): `+q.message)}}let U=T?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;g||(U=A&&h.length<2?`(?:/${U})`:"/"+U),A&&(U+="?"),i+=U,_+=20,A&&(_+=-8),T&&(_+=-20),M===".*"&&(_+=-50)}f.push(_)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function l(h){const f=h.match(s),g={};if(!f)return null;for(let v=1;v<f.length;v++){const _=f[v]||"",S=o[v-1];g[S.name]=_&&S.repeatable?_.split("/"):_}return g}function u(h){let f="",g=!1;for(const v of t){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const _ of v)if(_.type===0)f+=_.value;else if(_.type===1){const{value:S,repeatable:T,optional:A}=_,P=S in h?h[S]:"";if(kr(P)&&!T)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const M=kr(P)?P.join("/"):P;if(!M)if(A)v.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${S}"`);f+=M}}return f||"/"}return{re:s,score:r,keys:o,parse:l,stringify:u}}function Hx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function LE(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=Hx(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(ny(r))return 1;if(ny(i))return-1}return i.length-r.length}function ny(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const jx={type:0,value:""},Wx=/[a-zA-Z0-9_]/;function qx(t){if(!t)return[[]];if(t==="/")return[[jx]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${n})/"${h}": ${_}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let l=0,u,h="",f="";function g(){h&&(n===0?o.push({type:0,value:h}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function v(){h+=u}for(;l<t.length;){if(u=t[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(h&&g(),s()):u===":"?(g(),n=1):v();break;case 4:v(),n=r;break;case 1:u==="("?n=2:Wx.test(u)?v():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=3:f+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,f="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),g(),s(),i}function Gx(t,e,n){const r=zx(qx(t.path),n),i=gt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Zx(t,e){const n=[],r=new Map;e=sy({strict:!1,end:!0,sensitive:!1},e);function i(g){return r.get(g)}function o(g,v,_){const S=!_,T=iy(g);T.aliasOf=_&&_.record;const A=sy(e,g),P=[T];if("alias"in g){const q=typeof g.alias=="string"?[g.alias]:g.alias;for(const oe of q)P.push(iy(gt({},T,{components:_?_.record.components:T.components,path:oe,aliasOf:_?_.record:T})))}let M,U;for(const q of P){const{path:oe}=q;if(v&&oe[0]!=="/"){const se=v.record.path,D=se[se.length-1]==="/"?"":"/";q.path=v.record.path+(oe&&D+oe)}if(M=Gx(q,v,A),_?_.alias.push(M):(U=U||M,U!==M&&U.alias.push(M),S&&g.name&&!oy(M)&&s(g.name)),BE(M)&&u(M),T.children){const se=T.children;for(let D=0;D<se.length;D++)o(se[D],M,_&&_.children[D])}_=_||M}return U?()=>{s(U)}:oc}function s(g){if(OE(g)){const v=r.get(g);v&&(r.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(s),v.alias.forEach(s))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&r.delete(g.record.name),g.children.forEach(s),g.alias.forEach(s))}}function l(){return n}function u(g){const v=Qx(g,n);n.splice(v,0,g),g.record.name&&!oy(g)&&r.set(g.record.name,g)}function h(g,v){let _,S={},T,A;if("name"in g&&g.name){if(_=r.get(g.name),!_)throw La(1,{location:g});A=_.record.name,S=gt(ry(v.params,_.keys.filter(U=>!U.optional).concat(_.parent?_.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),g.params&&ry(g.params,_.keys.map(U=>U.name))),T=_.stringify(S)}else if(g.path!=null)T=g.path,_=n.find(U=>U.re.test(T)),_&&(S=_.parse(T),A=_.record.name);else{if(_=v.name?r.get(v.name):n.find(U=>U.re.test(v.path)),!_)throw La(1,{location:g,currentLocation:v});A=_.record.name,S=gt({},v.params,g.params),T=_.stringify(S)}const P=[];let M=_;for(;M;)P.unshift(M.record),M=M.parent;return{name:A,path:T,params:S,matched:P,meta:Yx(P)}}t.forEach(g=>o(g));function f(){n.length=0,r.clear()}return{addRoute:o,resolve:h,removeRoute:s,clearRoutes:f,getRoutes:l,getRecordMatcher:i}}function ry(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function iy(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Kx(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Kx(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function oy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Yx(t){return t.reduce((e,n)=>gt(e,n.meta),{})}function sy(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Qx(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;LE(t,e[o])<0?r=o:n=o+1}const i=Xx(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function Xx(t){let e=t;for(;e=e.parent;)if(BE(e)&&LE(t,e)===0)return e}function BE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Jx(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(kE," "),s=o.indexOf("="),l=Cc(s<0?o:o.slice(0,s)),u=s<0?null:Cc(o.slice(s+1));if(l in e){let h=e[l];kr(h)||(h=e[l]=[h]),h.push(u)}else e[l]=u}return e}function ay(t){let e="";for(let n in t){const r=t[n];if(n=yx(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(kr(r)?r.map(o=>o&&zp(o)):[r&&zp(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function eP(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=kr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const tP=Symbol(""),ly=Symbol(""),Gh=Symbol(""),um=Symbol(""),jp=Symbol("");function $l(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function oo(t,e,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,u)=>{const h=v=>{v===!1?u(La(4,{from:n,to:e})):v instanceof Error?u(v):Fx(v)?u(La(2,{from:e,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),l())},f=o(()=>t.call(r&&r.instances[i],e,n,h));let g=Promise.resolve(f);t.length<3&&(g=g.then(h)),g.catch(v=>u(v))})}function Gf(t,e,n,r,i=o=>o()){const o=[];for(const s of t)for(const l in s.components){let u=s.components[l];if(!(e!=="beforeRouteEnter"&&!s.instances[l]))if(AE(u)){const f=(u.__vccOpts||u)[e];f&&o.push(oo(f,n,r,s,l,i))}else{let h=u();o.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${s.path}"`);const g=lx(f)?f.default:f;s.mods[l]=f,s.components[l]=g;const _=(g.__vccOpts||g)[e];return _&&oo(_,n,r,s,l,i)()}))}}return o}function cy(t){const e=gr(Gh),n=gr(um),r=Bn(()=>{const u=wa(t.to);return e.resolve(u)}),i=Bn(()=>{const{matched:u}=r.value,{length:h}=u,f=u[h-1],g=n.matched;if(!f||!g.length)return-1;const v=g.findIndex(Na.bind(null,f));if(v>-1)return v;const _=uy(u[h-2]);return h>1&&uy(f)===_&&g[g.length-1].path!==_?g.findIndex(Na.bind(null,u[h-2])):v}),o=Bn(()=>i.value>-1&&sP(n.params,r.value.params)),s=Bn(()=>i.value>-1&&i.value===n.matched.length-1&&DE(n.params,r.value.params));function l(u={}){if(oP(u)){const h=e[wa(t.replace)?"replace":"push"](wa(t.to)).catch(oc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Bn(()=>r.value.href),isActive:o,isExactActive:s,navigate:l}}function nP(t){return t.length===1?t[0]:t}const rP=Uh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:cy,setup(t,{slots:e}){const n=Zc(cy(t)),{options:r}=gr(Gh),i=Bn(()=>({[dy(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[dy(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&nP(e.default(n));return t.custom?o:Ta("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),iP=rP;function oP(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function sP(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!kr(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function uy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const dy=(t,e,n)=>t??e??n,aP=Uh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=gr(jp),i=Bn(()=>t.route||r.value),o=gr(ly,0),s=Bn(()=>{let h=wa(o);const{matched:f}=i.value;let g;for(;(g=f[h])&&!g.components;)h++;return h}),l=Bn(()=>i.value.matched[s.value]);vd(ly,Bn(()=>s.value+1)),vd(tP,l),vd(jp,i);const u=et();return Ti(()=>[u.value,l.value,t.name],([h,f,g],[v,_,S])=>{f&&(f.instances[g]=h,_&&_!==f&&h&&h===v&&(f.leaveGuards.size||(f.leaveGuards=_.leaveGuards),f.updateGuards.size||(f.updateGuards=_.updateGuards))),h&&f&&(!_||!Na(f,_)||!v)&&(f.enterCallbacks[g]||[]).forEach(T=>T(h))},{flush:"post"}),()=>{const h=i.value,f=t.name,g=l.value,v=g&&g.components[f];if(!v)return hy(n.default,{Component:v,route:h});const _=g.props[f],S=_?_===!0?h.params:typeof _=="function"?_(h):_:null,A=Ta(v,gt({},S,e,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(g.instances[f]=null)},ref:u}));return hy(n.default,{Component:A,route:h})||A}}});function hy(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const lP=aP;function cP(t){const e=Zx(t.routes,t),n=t.parseQuery||Jx,r=t.stringifyQuery||ay,i=t.history,o=$l(),s=$l(),l=$l(),u=nI(eo);let h=eo;la&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Wf.bind(null,Q=>""+Q),g=Wf.bind(null,wx),v=Wf.bind(null,Cc);function _(Q,fe){let pe,be;return OE(Q)?(pe=e.getRecordMatcher(Q),be=fe):be=Q,e.addRoute(be,pe)}function S(Q){const fe=e.getRecordMatcher(Q);fe&&e.removeRoute(fe)}function T(){return e.getRoutes().map(Q=>Q.record)}function A(Q){return!!e.getRecordMatcher(Q)}function P(Q,fe){if(fe=gt({},fe||u.value),typeof Q=="string"){const H=qf(n,Q,fe.path),X=e.resolve({path:H.path},fe),te=i.createHref(H.fullPath);return gt(H,X,{params:v(X.params),hash:Cc(H.hash),redirectedFrom:void 0,href:te})}let pe;if(Q.path!=null)pe=gt({},Q,{path:qf(n,Q.path,fe.path).path});else{const H=gt({},Q.params);for(const X in H)H[X]==null&&delete H[X];pe=gt({},Q,{params:g(H)}),fe.params=g(fe.params)}const be=e.resolve(pe,fe),Xe=Q.hash||"";be.params=f(v(be.params));const x=Tx(r,gt({},Q,{hash:_x(Xe),path:be.path})),N=i.createHref(x);return gt({fullPath:x,hash:Xe,query:r===ay?eP(Q.query):Q.query||{}},be,{redirectedFrom:void 0,href:N})}function M(Q){return typeof Q=="string"?qf(n,Q,u.value.path):gt({},Q)}function U(Q,fe){if(h!==Q)return La(8,{from:fe,to:Q})}function q(Q){return D(Q)}function oe(Q){return q(gt(M(Q),{replace:!0}))}function se(Q){const fe=Q.matched[Q.matched.length-1];if(fe&&fe.redirect){const{redirect:pe}=fe;let be=typeof pe=="function"?pe(Q):pe;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=M(be):{path:be},be.params={}),gt({query:Q.query,hash:Q.hash,params:be.path!=null?{}:Q.params},be)}}function D(Q,fe){const pe=h=P(Q),be=u.value,Xe=Q.state,x=Q.force,N=Q.replace===!0,H=se(pe);if(H)return D(gt(M(H),{state:typeof H=="object"?gt({},Xe,H.state):Xe,force:x,replace:N}),fe||pe);const X=pe;X.redirectedFrom=fe;let te;return!x&&Cx(r,be,pe)&&(te=La(16,{to:X,from:be}),Fe(be,be,!0,!1)),(te?Promise.resolve(te):F(X,be)).catch(J=>vi(J)?vi(J,2)?J:Ee(J):le(J,X,be)).then(J=>{if(J){if(vi(J,2))return D(gt({replace:N},M(J.to),{state:typeof J.to=="object"?gt({},Xe,J.to.state):Xe,force:x}),fe||X)}else J=z(X,be,!0,N,Xe);return $(X,be,J),J})}function k(Q,fe){const pe=U(Q,fe);return pe?Promise.reject(pe):Promise.resolve()}function I(Q){const fe=it.values().next().value;return fe&&typeof fe.runWithContext=="function"?fe.runWithContext(Q):Q()}function F(Q,fe){let pe;const[be,Xe,x]=uP(Q,fe);pe=Gf(be.reverse(),"beforeRouteLeave",Q,fe);for(const H of be)H.leaveGuards.forEach(X=>{pe.push(oo(X,Q,fe))});const N=k.bind(null,Q,fe);return pe.push(N),ke(pe).then(()=>{pe=[];for(const H of o.list())pe.push(oo(H,Q,fe));return pe.push(N),ke(pe)}).then(()=>{pe=Gf(Xe,"beforeRouteUpdate",Q,fe);for(const H of Xe)H.updateGuards.forEach(X=>{pe.push(oo(X,Q,fe))});return pe.push(N),ke(pe)}).then(()=>{pe=[];for(const H of x)if(H.beforeEnter)if(kr(H.beforeEnter))for(const X of H.beforeEnter)pe.push(oo(X,Q,fe));else pe.push(oo(H.beforeEnter,Q,fe));return pe.push(N),ke(pe)}).then(()=>(Q.matched.forEach(H=>H.enterCallbacks={}),pe=Gf(x,"beforeRouteEnter",Q,fe,I),pe.push(N),ke(pe))).then(()=>{pe=[];for(const H of s.list())pe.push(oo(H,Q,fe));return pe.push(N),ke(pe)}).catch(H=>vi(H,8)?H:Promise.reject(H))}function $(Q,fe,pe){l.list().forEach(be=>I(()=>be(Q,fe,pe)))}function z(Q,fe,pe,be,Xe){const x=U(Q,fe);if(x)return x;const N=fe===eo,H=la?history.state:{};pe&&(be||N?i.replace(Q.fullPath,gt({scroll:N&&H&&H.scroll},Xe)):i.push(Q.fullPath,Xe)),u.value=Q,Fe(Q,fe,pe,N),Ee()}let O;function dt(){O||(O=i.listen((Q,fe,pe)=>{if(!Ze.listening)return;const be=P(Q),Xe=se(be);if(Xe){D(gt(Xe,{replace:!0,force:!0}),be).catch(oc);return}h=be;const x=u.value;la&&Mx(X_(x.fullPath,pe.delta),qh()),F(be,x).catch(N=>vi(N,12)?N:vi(N,2)?(D(gt(M(N.to),{force:!0}),be).then(H=>{vi(H,20)&&!pe.delta&&pe.type===Ac.pop&&i.go(-1,!1)}).catch(oc),Promise.reject()):(pe.delta&&i.go(-pe.delta,!1),le(N,be,x))).then(N=>{N=N||z(be,x,!1),N&&(pe.delta&&!vi(N,8)?i.go(-pe.delta,!1):pe.type===Ac.pop&&vi(N,20)&&i.go(-1,!1)),$(be,x,N)}).catch(oc)}))}let Ft=$l(),Qe=$l(),Ve;function le(Q,fe,pe){Ee(Q);const be=Qe.list();return be.length?be.forEach(Xe=>Xe(Q,fe,pe)):console.error(Q),Promise.reject(Q)}function Ot(){return Ve&&u.value!==eo?Promise.resolve():new Promise((Q,fe)=>{Ft.add([Q,fe])})}function Ee(Q){return Ve||(Ve=!Q,dt(),Ft.list().forEach(([fe,pe])=>Q?pe(Q):fe()),Ft.reset()),Q}function Fe(Q,fe,pe,be){const{scrollBehavior:Xe}=t;if(!la||!Xe)return Promise.resolve();const x=!pe&&Ox(X_(Q.fullPath,0))||(be||!pe)&&history.state&&history.state.scroll||null;return $h().then(()=>Xe(Q,fe,x)).then(N=>N&&Dx(N)).catch(N=>le(N,Q,fe))}const $e=Q=>i.go(Q);let We;const it=new Set,Ze={currentRoute:u,listening:!0,addRoute:_,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:T,resolve:P,options:t,push:q,replace:oe,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:o.add,beforeResolve:s.add,afterEach:l.add,onError:Qe.add,isReady:Ot,install(Q){const fe=this;Q.component("RouterLink",iP),Q.component("RouterView",lP),Q.config.globalProperties.$router=fe,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>wa(u)}),la&&!We&&u.value===eo&&(We=!0,q(i.location).catch(Xe=>{}));const pe={};for(const Xe in eo)Object.defineProperty(pe,Xe,{get:()=>u.value[Xe],enumerable:!0});Q.provide(Gh,fe),Q.provide(um,Hw(pe)),Q.provide(jp,u);const be=Q.unmount;it.add(Q),Q.unmount=function(){it.delete(Q),it.size<1&&(h=eo,O&&O(),O=null,u.value=eo,We=!1,Ve=!1),be()}}};function ke(Q){return Q.reduce((fe,pe)=>fe.then(()=>I(pe)),Promise.resolve())}return Ze}function uP(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const l=e.matched[s];l&&(t.matched.find(h=>Na(h,l))?r.push(l):n.push(l));const u=t.matched[s];u&&(e.matched.find(h=>Na(h,u))||i.push(u))}return[n,r,i]}function dm(){return gr(Gh)}function dP(t){return gr(um)}function hP(t){if(t){let e=t.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function fP(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&hP(t))}function VE(t){return typeof Element<"u"?t instanceof Element:t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}function Wp(t,e={}){if(VE(t)){let n=(r,i)=>{var o,s;let l=(o=t?.$attrs)!=null&&o[r]?[(s=t?.$attrs)==null?void 0:s[r]]:[];return[i].flat().reduce((u,h)=>{if(h!=null){let f=typeof h;if(f==="string"||f==="number")u.push(h);else if(f==="object"){let g=Array.isArray(h)?n(r,h):Object.entries(h).map(([v,_])=>r==="style"&&(_||_===0)?`${v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${_}`:_?v:void 0);u=g.length?u.concat(g.filter(v=>!!v)):u}}return u},l)};Object.entries(e).forEach(([r,i])=>{if(i!=null){let o=r.match(/^on(.+)/);o?t.addEventListener(o[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?Wp(t,i):(i=r==="class"?[...new Set(n("class",i))].join(" ").trim():r==="style"?n("style",i).join(";").trim():i,(t.$attrs=t.$attrs||{})&&(t.$attrs[r]=i),t.setAttribute(r,i))}})}}function pP(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function gP(t,e="",n){VE(t)&&n!==null&&n!==void 0&&t.setAttribute(e,n)}function FE(){let t=new Map;return{on(e,n){let r=t.get(e);return r?r.push(n):r=[n],t.set(e,r),this},off(e,n){let r=t.get(e);return r&&r.splice(r.indexOf(n)>>>0,1),this},emit(e,n){let r=t.get(e);r&&r.forEach(i=>{i(n)})},clear(){t.clear()}}}var mP=Object.defineProperty,fy=Object.getOwnPropertySymbols,vP=Object.prototype.hasOwnProperty,_P=Object.prototype.propertyIsEnumerable,py=(t,e,n)=>e in t?mP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yP=(t,e)=>{for(var n in e||(e={}))vP.call(e,n)&&py(t,n,e[n]);if(fy)for(var n of fy(e))_P.call(e,n)&&py(t,n,e[n]);return t};function $E(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0}function bP(t){return typeof t=="function"&&"call"in t&&"apply"in t}function Ht(t){return!$E(t)}function Ba(t,e=!0){return t instanceof Object&&t.constructor===Object&&(e||Object.keys(t).length!==0)}function UE(t={},e={}){let n=yP({},t);return Object.keys(e).forEach(r=>{let i=r;Ba(e[i])&&i in t&&Ba(t[i])?n[i]=UE(t[i],e[i]):n[i]=e[i]}),n}function wP(...t){return t.reduce((e,n,r)=>r===0?n:UE(e,n),{})}function ho(t,...e){return bP(t)?t(...e):t}function Rc(t,e=!0){return typeof t=="string"&&(e||t!=="")}function EP(t){return Ht(t)&&!isNaN(t)}function Ca(t,e){if(e){let n=e.test(t);return e.lastIndex=0,n}return!1}function SP(...t){return wP(...t)}function ac(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function zE(t){return Rc(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,n)=>n===0?e:"-"+e.toLowerCase()).toLowerCase():t}var _n={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},TP=Object.defineProperty,CP=Object.defineProperties,AP=Object.getOwnPropertyDescriptors,Kd=Object.getOwnPropertySymbols,HE=Object.prototype.hasOwnProperty,jE=Object.prototype.propertyIsEnumerable,gy=(t,e,n)=>e in t?TP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tr=(t,e)=>{for(var n in e||(e={}))HE.call(e,n)&&gy(t,n,e[n]);if(Kd)for(var n of Kd(e))jE.call(e,n)&&gy(t,n,e[n]);return t},Zf=(t,e)=>CP(t,AP(e)),_i=(t,e)=>{var n={};for(var r in t)HE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Kd)for(var r of Kd(t))e.indexOf(r)<0&&jE.call(t,r)&&(n[r]=t[r]);return n},RP=FE(),wi=RP,qp=/{([^}]*)}/g,kP=/(\d+\s+[\+\-\*\/]\s+\d+)/g,IP=/var\([^)]+\)/g;function xP(t){return Ba(t)&&t.hasOwnProperty("$value")&&t.hasOwnProperty("$type")?t.$value:t}function PP(t){return t.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Gp(t="",e=""){return PP(`${Rc(t,!1)&&Rc(e,!1)?`${t}-`:t}${e}`)}function WE(t="",e=""){return`--${Gp(t,e)}`}function DP(t=""){let e=(t.match(/{/g)||[]).length,n=(t.match(/}/g)||[]).length;return(e+n)%2!==0}function qE(t,e="",n="",r=[],i){if(Rc(t)){let o=t.trim();if(DP(o))return;if(Ca(o,qp)){let s=o.replaceAll(qp,l=>{let u=l.replace(/{|}/g,"").split(".").filter(h=>!r.some(f=>Ca(h,f)));return`var(${WE(n,zE(u.join("-")))}${Ht(i)?`, ${i}`:""})`});return Ca(s.replace(IP,"0"),kP)?`calc(${s})`:s}return o}else if(EP(t))return t}function MP(t,e,n){Rc(e,!1)&&t.push(`${e}:${n};`)}function ca(t,e){return t?`${t}{${e}}`:""}function GE(t,e){if(t.indexOf("dt(")===-1)return t;function n(s,l){let u=[],h=0,f="",g=null,v=0;for(;h<=s.length;){let _=s[h];if((_==='"'||_==="'"||_==="`")&&s[h-1]!=="\\"&&(g=g===_?null:_),!g&&(_==="("&&v++,_===")"&&v--,(_===","||h===s.length)&&v===0)){let S=f.trim();S.startsWith("dt(")?u.push(GE(S,l)):u.push(r(S)),f="",h++;continue}_!==void 0&&(f+=_),h++}return u}function r(s){let l=s[0];if((l==='"'||l==="'"||l==="`")&&s[s.length-1]===l)return s.slice(1,-1);let u=Number(s);return isNaN(u)?s:u}let i=[],o=[];for(let s=0;s<t.length;s++)if(t[s]==="d"&&t.slice(s,s+3)==="dt(")o.push(s),s+=2;else if(t[s]===")"&&o.length>0){let l=o.pop();o.length===0&&i.push([l,s])}if(!i.length)return t;for(let s=i.length-1;s>=0;s--){let[l,u]=i[s],h=t.slice(l+3,u),f=n(h,e),g=e(...f);t=t.slice(0,l)+g+t.slice(u+1)}return t}var cs=(...t)=>OP(wn.getTheme(),...t),OP=(t={},e,n,r)=>{if(e){let{variable:i,options:o}=wn.defaults||{},{prefix:s,transform:l}=t?.options||o||{},u=Ca(e,qp)?e:`{${e}}`;return r==="value"||$E(r)&&l==="strict"?wn.getTokenValue(e):qE(u,void 0,s,[i.excludedKeyRegex],n)}return""};function Qu(t,...e){if(t instanceof Array){let n=t.reduce((r,i,o)=>{var s;return r+i+((s=ho(e[o],{dt:cs}))!=null?s:"")},"");return GE(n,cs)}return ho(t,{dt:cs})}function NP(t,e={}){let n=wn.defaults.variable,{prefix:r=n.prefix,selector:i=n.selector,excludedKeyRegex:o=n.excludedKeyRegex}=e,s=[],l=[],u=[{node:t,path:r}];for(;u.length;){let{node:f,path:g}=u.pop();for(let v in f){let _=f[v],S=xP(_),T=Ca(v,o)?Gp(g):Gp(g,zE(v));if(Ba(S))u.push({node:S,path:T});else{let A=WE(T),P=qE(S,T,r,[o]);MP(l,A,P);let M=T;r&&M.startsWith(r+"-")&&(M=M.slice(r.length+1)),s.push(M.replace(/-/g,"."))}}}let h=l.join("");return{value:l,tokens:s,declarations:h,css:ca(i,h)}}var Sr={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(t){return{type:"class",selector:t,matched:this.pattern.test(t.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(t){return{type:"attr",selector:`:root${t}`,matched:this.pattern.test(t.trim())}}},media:{pattern:/^@media (.*)$/,resolve(t){return{type:"media",selector:t,matched:this.pattern.test(t.trim())}}},system:{pattern:/^system$/,resolve(t){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(t.trim())}}},custom:{resolve(t){return{type:"custom",selector:t,matched:!0}}}},resolve(t){let e=Object.keys(this.rules).filter(n=>n!=="custom").map(n=>this.rules[n]);return[t].flat().map(n=>{var r;return(r=e.map(i=>i.resolve(n)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(n)})}},_toVariables(t,e){return NP(t,{prefix:e?.prefix})},getCommon({name:t="",theme:e={},params:n,set:r,defaults:i}){var o,s,l,u,h,f,g;let{preset:v,options:_}=e,S,T,A,P,M,U,q;if(Ht(v)&&_.transform!=="strict"){let{primitive:oe,semantic:se,extend:D}=v,k=se||{},{colorScheme:I}=k,F=_i(k,["colorScheme"]),$=D||{},{colorScheme:z}=$,O=_i($,["colorScheme"]),dt=I||{},{dark:Ft}=dt,Qe=_i(dt,["dark"]),Ve=z||{},{dark:le}=Ve,Ot=_i(Ve,["dark"]),Ee=Ht(oe)?this._toVariables({primitive:oe},_):{},Fe=Ht(F)?this._toVariables({semantic:F},_):{},$e=Ht(Qe)?this._toVariables({light:Qe},_):{},We=Ht(Ft)?this._toVariables({dark:Ft},_):{},it=Ht(O)?this._toVariables({semantic:O},_):{},Ze=Ht(Ot)?this._toVariables({light:Ot},_):{},ke=Ht(le)?this._toVariables({dark:le},_):{},[Q,fe]=[(o=Ee.declarations)!=null?o:"",Ee.tokens],[pe,be]=[(s=Fe.declarations)!=null?s:"",Fe.tokens||[]],[Xe,x]=[(l=$e.declarations)!=null?l:"",$e.tokens||[]],[N,H]=[(u=We.declarations)!=null?u:"",We.tokens||[]],[X,te]=[(h=it.declarations)!=null?h:"",it.tokens||[]],[J,de]=[(f=Ze.declarations)!=null?f:"",Ze.tokens||[]],[ce,ae]=[(g=ke.declarations)!=null?g:"",ke.tokens||[]];S=this.transformCSS(t,Q,"light","variable",_,r,i),T=fe;let ie=this.transformCSS(t,`${pe}${Xe}`,"light","variable",_,r,i),Te=this.transformCSS(t,`${N}`,"dark","variable",_,r,i);A=`${ie}${Te}`,P=[...new Set([...be,...x,...H])];let he=this.transformCSS(t,`${X}${J}color-scheme:light`,"light","variable",_,r,i),Se=this.transformCSS(t,`${ce}color-scheme:dark`,"dark","variable",_,r,i);M=`${he}${Se}`,U=[...new Set([...te,...de,...ae])],q=ho(v.css,{dt:cs})}return{primitive:{css:S,tokens:T},semantic:{css:A,tokens:P},global:{css:M,tokens:U},style:q}},getPreset({name:t="",preset:e={},options:n,params:r,set:i,defaults:o,selector:s}){var l,u,h;let f,g,v;if(Ht(e)&&n.transform!=="strict"){let _=t.replace("-directive",""),S=e,{colorScheme:T,extend:A,css:P}=S,M=_i(S,["colorScheme","extend","css"]),U=A||{},{colorScheme:q}=U,oe=_i(U,["colorScheme"]),se=T||{},{dark:D}=se,k=_i(se,["dark"]),I=q||{},{dark:F}=I,$=_i(I,["dark"]),z=Ht(M)?this._toVariables({[_]:Tr(Tr({},M),oe)},n):{},O=Ht(k)?this._toVariables({[_]:Tr(Tr({},k),$)},n):{},dt=Ht(D)?this._toVariables({[_]:Tr(Tr({},D),F)},n):{},[Ft,Qe]=[(l=z.declarations)!=null?l:"",z.tokens||[]],[Ve,le]=[(u=O.declarations)!=null?u:"",O.tokens||[]],[Ot,Ee]=[(h=dt.declarations)!=null?h:"",dt.tokens||[]],Fe=this.transformCSS(_,`${Ft}${Ve}`,"light","variable",n,i,o,s),$e=this.transformCSS(_,Ot,"dark","variable",n,i,o,s);f=`${Fe}${$e}`,g=[...new Set([...Qe,...le,...Ee])],v=ho(P,{dt:cs})}return{css:f,tokens:g,style:v}},getPresetC({name:t="",theme:e={},params:n,set:r,defaults:i}){var o;let{preset:s,options:l}=e,u=(o=s?.components)==null?void 0:o[t];return this.getPreset({name:t,preset:u,options:l,params:n,set:r,defaults:i})},getPresetD({name:t="",theme:e={},params:n,set:r,defaults:i}){var o,s;let l=t.replace("-directive",""),{preset:u,options:h}=e,f=((o=u?.components)==null?void 0:o[l])||((s=u?.directives)==null?void 0:s[l]);return this.getPreset({name:l,preset:f,options:h,params:n,set:r,defaults:i})},applyDarkColorScheme(t){return!(t.darkModeSelector==="none"||t.darkModeSelector===!1)},getColorSchemeOption(t,e){var n;return this.applyDarkColorScheme(t)?this.regex.resolve(t.darkModeSelector===!0?e.options.darkModeSelector:(n=t.darkModeSelector)!=null?n:e.options.darkModeSelector):[]},getLayerOrder(t,e={},n,r){let{cssLayer:i}=e;return i?`@layer ${ho(i.order||i.name||"primeui",n)}`:""},getCommonStyleSheet({name:t="",theme:e={},params:n,props:r={},set:i,defaults:o}){let s=this.getCommon({name:t,theme:e,params:n,set:i,defaults:o}),l=Object.entries(r).reduce((u,[h,f])=>u.push(`${h}="${f}"`)&&u,[]).join(" ");return Object.entries(s||{}).reduce((u,[h,f])=>{if(Ba(f)&&Object.hasOwn(f,"css")){let g=ac(f.css),v=`${h}-variables`;u.push(`<style type="text/css" data-primevue-style-id="${v}" ${l}>${g}</style>`)}return u},[]).join("")},getStyleSheet({name:t="",theme:e={},params:n,props:r={},set:i,defaults:o}){var s;let l={name:t,theme:e,params:n,set:i,defaults:o},u=(s=t.includes("-directive")?this.getPresetD(l):this.getPresetC(l))==null?void 0:s.css,h=Object.entries(r).reduce((f,[g,v])=>f.push(`${g}="${v}"`)&&f,[]).join(" ");return u?`<style type="text/css" data-primevue-style-id="${t}-variables" ${h}>${ac(u)}</style>`:""},createTokens(t={},e,n="",r="",i={}){return{}},getTokenValue(t,e,n){var r;let i=(l=>l.split(".").filter(u=>!Ca(u.toLowerCase(),n.variable.excludedKeyRegex)).join("."))(e),o=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,s=[(r=t[i])==null?void 0:r.computed(o)].flat().filter(l=>l);return s.length===1?s[0].value:s.reduce((l={},u)=>{let h=u,{colorScheme:f}=h,g=_i(h,["colorScheme"]);return l[f]=g,l},void 0)},getSelectorRule(t,e,n,r){return n==="class"||n==="attr"?ca(Ht(e)?`${t}${e},${t} ${e}`:t,r):ca(t,ca(e??":root",r))},transformCSS(t,e,n,r,i={},o,s,l){if(Ht(e)){let{cssLayer:u}=i;if(r!=="style"){let h=this.getColorSchemeOption(i,s);e=n==="dark"?h.reduce((f,{type:g,selector:v})=>(Ht(v)&&(f+=v.includes("[CSS]")?v.replace("[CSS]",e):this.getSelectorRule(v,l,g,e)),f),""):ca(l??":root",e)}if(u){let h={name:"primeui"};Ba(u)&&(h.name=ho(u.name,{name:t,type:r})),Ht(h.name)&&(e=ca(`@layer ${h.name}`,e),o?.layerNames(h.name))}return e}return""}},wn={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(t={}){let{theme:e}=t;e&&(this._theme=Zf(Tr({},e),{options:Tr(Tr({},this.defaults.options),e.options)}),this._tokens=Sr.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var t;return((t=this.theme)==null?void 0:t.preset)||{}},get options(){var t;return((t=this.theme)==null?void 0:t.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(t){this.update({theme:t}),wi.emit("theme:change",t)},getPreset(){return this.preset},setPreset(t){this._theme=Zf(Tr({},this.theme),{preset:t}),this._tokens=Sr.createTokens(t,this.defaults),this.clearLoadedStyleNames(),wi.emit("preset:change",t),wi.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(t){this._theme=Zf(Tr({},this.theme),{options:t}),this.clearLoadedStyleNames(),wi.emit("options:change",t),wi.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(t){this._layerNames.add(t)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(t){return this._loadedStyleNames.has(t)},setLoadedStyleName(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(t){return Sr.getTokenValue(this.tokens,t,this.defaults)},getCommon(t="",e){return Sr.getCommon({name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(t="",e){let n={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Sr.getPresetC(n)},getDirective(t="",e){let n={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Sr.getPresetD(n)},getCustomPreset(t="",e,n,r){let i={name:t,preset:e,options:this.options,selector:n,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Sr.getPreset(i)},getLayerOrderCSS(t=""){return Sr.getLayerOrder(t,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(t="",e,n="style",r){return Sr.transformCSS(t,e,r,n,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(t="",e,n={}){return Sr.getCommonStyleSheet({name:t,theme:this.theme,params:e,props:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(t,e,n={}){return Sr.getStyleSheet({name:t,theme:this.theme,params:e,props:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(t){this._loadingStyles.add(t)},onStyleUpdated(t){this._loadingStyles.add(t)},onStyleLoaded(t,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),wi.emit(`theme:${e}:load`,t),!this._loadingStyles.size&&wi.emit("theme:load"))}},LP=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    /* Non vue overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity 0.1s linear;
    }

    /* Vue based overlay animations */
    .p-connected-overlay-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-leave-to {
        opacity: 0;
    }

    .p-connected-overlay-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-leave-active {
        transition: opacity 0.1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter-from,
    .p-toggleable-content-leave-to {
        max-height: 0;
    }

    .p-toggleable-content-enter-to,
    .p-toggleable-content-leave-from {
        max-height: 1000px;
    }

    .p-toggleable-content-leave-active {
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        transition: max-height 1s ease-in-out;
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: dt('mask.background');
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter {
        animation: p-overlay-mask-enter-animation dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave {
        animation: p-overlay-mask-leave-animation dt('mask.transition.duration') forwards;
    }

    @keyframes p-overlay-mask-enter-animation {
        from {
            background: transparent;
        }
        to {
            background: dt('mask.background');
        }
    }
    @keyframes p-overlay-mask-leave-animation {
        from {
            background: dt('mask.background');
        }
        to {
            background: transparent;
        }
    }
`;function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function my(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?my(Object(n),!0).forEach(function(r){BP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BP(t,e,n){return(e=VP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VP(t){var e=FP(t,"string");return kc(e)=="symbol"?e:e+""}function FP(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $P(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;P_()&&P_().components?Cs(t):e?t():$h(t)}var UP=0;function zP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=et(!1),r=et(t),i=et(null),o=pP()?window.document:void 0,s=e.document,l=s===void 0?o:s,u=e.immediate,h=u===void 0?!0:u,f=e.manual,g=f===void 0?!1:f,v=e.name,_=v===void 0?"style_".concat(++UP):v,S=e.id,T=S===void 0?void 0:S,A=e.media,P=A===void 0?void 0:A,M=e.nonce,U=M===void 0?void 0:M,q=e.first,oe=q===void 0?!1:q,se=e.onMounted,D=se===void 0?void 0:se,k=e.onUpdated,I=k===void 0?void 0:k,F=e.onLoad,$=F===void 0?void 0:F,z=e.props,O=z===void 0?{}:z,dt=function(){},Ft=function(le){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l){var Ee=vy(vy({},O),Ot),Fe=Ee.name||_,$e=Ee.id||T,We=Ee.nonce||U;i.value=l.querySelector('style[data-primevue-style-id="'.concat(Fe,'"]'))||l.getElementById($e)||l.createElement("style"),i.value.isConnected||(r.value=le||t,Wp(i.value,{type:"text/css",id:$e,media:P,nonce:We}),oe?l.head.prepend(i.value):l.head.appendChild(i.value),gP(i.value,"data-primevue-style-id",Fe),Wp(i.value,Ee),i.value.onload=function(it){return $?.(it,{name:Fe})},D?.(Fe)),!n.value&&(dt=Ti(r,function(it){i.value.textContent=it,I?.(Fe)},{immediate:!0}),n.value=!0)}},Qe=function(){!l||!n.value||(dt(),fP(i.value)&&l.head.removeChild(i.value),n.value=!1,i.value=null)};return h&&!g&&$P(Ft),{id:T,name:_,el:i,css:r,unload:Qe,load:Ft,isLoaded:Jg(n)}}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}var _y,yy,by,wy;function Ey(t,e){return qP(t)||WP(t,e)||jP(t,e)||HP()}function HP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jP(t,e){if(t){if(typeof t=="string")return Sy(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sy(t,e):void 0}}function Sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function WP(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],u=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function qP(t){if(Array.isArray(t))return t}function Ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ty(Object(n),!0).forEach(function(r){GP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GP(t,e,n){return(e=ZP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZP(t){var e=KP(t,"string");return Ic(e)=="symbol"?e:e+""}function KP(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var YP=function(e){var n=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(n("scrollbar.width"),`;
}
`)},QP={},XP={},ia={name:"base",css:YP,style:LP,classes:QP,inlineStyles:XP,load:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(o){return o},i=r(Qu(_y||(_y=Xu(["",""])),e));return Ht(i)?zP(ac(i),Kf({name:this.name},n)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadStyle:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.style,n,function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return wn.transformCSS(n.name||e.name,"".concat(i).concat(Qu(yy||(yy=Xu(["",""])),r)))})},getCommonTheme:function(e){return wn.getCommon(this.name,e)},getComponentTheme:function(e){return wn.getComponent(this.name,e)},getDirectiveTheme:function(e){return wn.getDirective(this.name,e)},getPresetTheme:function(e,n,r){return wn.getCustomPreset(this.name,e,n,r)},getLayerOrderThemeCSS:function(){return wn.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=ho(this.css,{dt:cs})||"",i=ac(Qu(by||(by=Xu(["","",""])),r,e)),o=Object.entries(n).reduce(function(s,l){var u=Ey(l,2),h=u[0],f=u[1];return s.push("".concat(h,'="').concat(f,'"'))&&s},[]).join(" ");return Ht(i)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(o,">").concat(i,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return wn.getCommonStyleSheet(this.name,e,n)},getThemeStyleSheet:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[wn.getStyleSheet(this.name,e,n)];if(this.style){var i=this.name==="base"?"global-style":"".concat(this.name,"-style"),o=Qu(wy||(wy=Xu(["",""])),ho(this.style,{dt:cs})),s=ac(wn.transformCSS(i,o)),l=Object.entries(n).reduce(function(u,h){var f=Ey(h,2),g=f[0],v=f[1];return u.push("".concat(g,'="').concat(v,'"'))&&u},[]).join(" ");Ht(s)&&r.push('<style type="text/css" data-primevue-style-id="'.concat(i,'" ').concat(l,">").concat(s,"</style>"))}return r.join("")},extend:function(e){return Kf(Kf({},this),{},{css:void 0,style:void 0},e)}},Ju=FE();const JP={class:"registration-page"},eD={class:"container"},tD={class:"registration-form-container"},nD={class:"row mb-3"},rD={class:"col-md-6 col-sm-6"},iD={key:0,class:"text-danger"},oD={class:"col-md-6 col-sm-6"},sD={class:"row mb-3"},aD={class:"col-md-6 col-sm-6"},lD={key:0,class:"text-danger"},cD={class:"col-md-6 col-sm-6"},uD={key:0,class:"text-danger"},dD={class:"row mb-3"},hD={class:"col-md-6 col-sm-6"},fD={class:"form-check"},pD={class:"mb-3"},gD={key:0,class:"text-success mt-1"},mD={class:"mb-3"},vD={__name:"HomeView",setup(t){const e=et({username:"",password:"",confirmPassword:"",isAustralian:!1,reason:"",gender:"",suburb:""}),n=et([]);Cs(()=>{r()});const r=()=>{try{const v=localStorage.getItem("submittedCards");v&&(n.value=JSON.parse(v))}catch(v){console.error("Error loading data:",v)}},i=()=>{try{localStorage.setItem("submittedCards",JSON.stringify(n.value))}catch(v){console.error("Error saving data:",v)}},o=()=>{if(u(!0),h(!0),f(!0),!l.value.username&&!l.value.password&&!l.value.confirmPassword){if(n.value.find(_=>_.username===e.value.username)){l.value.username="Username already exists. Please choose a different one.";return}n.value.push({...e.value}),i(),s()}},s=()=>{e.value={username:"",password:"",confirmPassword:"",isAustralian:!1,reason:"",gender:"",suburb:"Clayton"},Object.keys(l.value).forEach(v=>{l.value[v]=null})},l=et({username:null,password:null,confirmPassword:null,resident:null,gender:null,reason:null}),u=v=>{e.value.username.length<3?v&&(l.value.username="Name must be at least 3 characters"):l.value.username=null},h=v=>{const _=e.value.password,S=8,T=/[A-Z]/.test(_),A=/[a-z]/.test(_),P=/\d/.test(_),M=/[!@#$%^&*(),.?":{}|<>]/.test(_);_.length<S?v&&(l.value.password=`Password must be at least ${S} characters long.`):T?A?P?M?l.value.password=null:v&&(l.value.password="Password must contain at least one special character."):v&&(l.value.password="Password must contain at least one number."):v&&(l.value.password="Password must contain at least one lowercase letter."):v&&(l.value.password="Password must contain at least one uppercase letter.")},f=v=>{e.value.password!==e.value.confirmPassword?v&&(l.value.confirmPassword="Passwords do not match."):l.value.confirmPassword=null},g=v=>{const _=e.value.reason;/friend/i.test(_)?l.value.reason="Great to have a friend":l.value.reason=null};return(v,_)=>(ge(),me("div",JP,[w("div",eD,[_[23]||(_[23]=w("div",{class:"registration-header"},[w("h1",null,"🌟 Join Our Mental Health Community"),w("p",null,"Register to access personalized mental health resources and connect with our supportive community.")],-1)),w("div",tD,[w("form",{onSubmit:As(o,["prevent"]),class:"modern-form"},[w("div",nD,[w("div",rD,[_[14]||(_[14]=w("label",{for:"username",class:"form-label"},"Username",-1)),Ne(w("input",{type:"text",class:"form-control",id:"username",onBlur:_[0]||(_[0]=()=>u(!0)),onInput:_[1]||(_[1]=()=>u(!1)),"onUpdate:modelValue":_[2]||(_[2]=S=>e.value.username=S),required:""},null,544),[[tt,e.value.username]]),l.value.username?(ge(),me("div",iD,ve(l.value.username),1)):pt("",!0)]),w("div",oD,[_[16]||(_[16]=w("label",{for:"gender",class:"form-label"},"Gender",-1)),Ne(w("select",{class:"form-select",id:"gender","onUpdate:modelValue":_[3]||(_[3]=S=>e.value.gender=S),required:""},_[15]||(_[15]=[w("option",{value:""},"Select Gender",-1),w("option",{value:"male"},"Male",-1),w("option",{value:"female"},"Female",-1),w("option",{value:"other"},"Other",-1)]),512),[[Ii,e.value.gender]])])]),w("div",sD,[w("div",aD,[_[17]||(_[17]=w("label",{for:"password",class:"form-label"},"Password",-1)),Ne(w("input",{type:"password",class:"form-control",id:"password",onBlur:_[4]||(_[4]=()=>h(!0)),onInput:_[5]||(_[5]=()=>h(!1)),"onUpdate:modelValue":_[6]||(_[6]=S=>e.value.password=S),required:""},null,544),[[tt,e.value.password]]),l.value.password?(ge(),me("div",lD,ve(l.value.password),1)):pt("",!0)]),w("div",cD,[_[18]||(_[18]=w("label",{for:"confirm-password",class:"form-label"},"Confirm password",-1)),Ne(w("input",{type:"password",class:"form-control",id:"confirm-password",onBlur:_[7]||(_[7]=()=>f(!0)),onInput:_[8]||(_[8]=()=>f(!1)),"onUpdate:modelValue":_[9]||(_[9]=S=>e.value.confirmPassword=S),required:""},null,544),[[tt,e.value.confirmPassword]]),l.value.confirmPassword?(ge(),me("div",uD,ve(l.value.confirmPassword),1)):pt("",!0)])]),w("div",dD,[w("div",hD,[w("div",fD,[Ne(w("input",{type:"checkbox",class:"form-check-input",id:"isAustralian","onUpdate:modelValue":_[10]||(_[10]=S=>e.value.isAustralian=S)},null,512),[[TE,e.value.isAustralian]]),_[19]||(_[19]=w("label",{class:"form-check-label",for:"isAustralian"},"Australian Resident?",-1))])])]),w("div",pD,[_[20]||(_[20]=w("label",{for:"reason",class:"form-label"},"Reason for joining",-1)),Ne(w("textarea",{class:"form-control",id:"reason",rows:"3","onUpdate:modelValue":_[11]||(_[11]=S=>e.value.reason=S),onBlur:_[12]||(_[12]=()=>g()),required:""},null,544),[[tt,e.value.reason]]),l.value.reason?(ge(),me("div",gD,ve(l.value.reason),1)):pt("",!0)]),w("div",mD,[_[21]||(_[21]=w("label",{for:"suburb",class:"form-label"},"Suburb",-1)),Ne(w("input",{type:"text",class:"form-control",id:"suburb","onUpdate:modelValue":_[13]||(_[13]=S=>e.value.suburb=S)},null,512),[[tt,e.value.suburb]])]),w("div",{class:"text-center"},[_[22]||(_[22]=w("button",{type:"submit",class:"btn btn-primary me-2"},"Submit",-1)),w("button",{type:"button",class:"btn btn-secondary",onClick:s},"Clear")])],32)])])]))}},_D=xn(vD,[["__scopeId","data-v-151a7683"]]),yD=()=>{};var Cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,g=(o&3)<<4|l>>4;let v=(l&15)<<2|h>>6,_=h&63;u||(_=64,s||(v=64)),r.push(n[f],n[g],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||g==null)throw new wD;const v=o<<2|l>>4;if(r.push(v),h!==64){const _=l<<4&240|h>>2;if(r.push(_),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ED=function(t){const e=ZE(t);return KE.encodeByteArray(e,!0)},Yd=function(t){return ED(t).replace(/\./g,"")},YE=function(t){try{return KE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=()=>SD().__FIREBASE_DEFAULTS__,CD=()=>{if(typeof process>"u"||typeof Cy>"u")return;const t=Cy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YE(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return yD()||TD()||CD()||AD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QE=t=>Zh()?.emulatorHosts?.[t],RD=t=>{const e=QE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XE=()=>Zh()?.config,JE=t=>Zh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yd(JSON.stringify(n)),Yd(JSON.stringify(s)),""].join(".")}const lc={};function xD(){const t={prod:[],emulator:[]};for(const e of Object.keys(lc))lc[e]?t.emulator.push(e):t.prod.push(e);return t}function PD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ay=!1;function tS(t,e){if(typeof window>"u"||typeof document>"u"||!Ya(window.location.host)||lc[t]===e||lc[t]||Ay)return;lc[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=xD().prod.length>0;function s(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Ay=!0,s()},v}function f(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=PD(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),T=n("learnmore"),A=document.getElementById(T)||document.createElement("a"),P=n("preprendIcon"),M=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const U=v.element;l(U),f(A,T);const q=h();u(M,P),U.append(M,S,A,q),document.body.appendChild(U)}o?(S.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function MD(){const t=Zh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ND(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VD(){return!MD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FD(){try{return typeof indexedDB=="object"}catch{return!1}}function $D(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UD,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?zD(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new zi(i,l,r)}}function zD(t,e){return t.replace(HD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HD=/\{\$([^}]+)}/g;function jD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Ry(o)&&Ry(s)){if(!gs(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ry(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WD(t,e){const n=new qD(t,e);return n.subscribe.bind(n)}class qD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yf),i.error===void 0&&(i.error=Yf),i.complete===void 0&&(i.complete=Yf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YD(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KD(t){return t===ns?void 0:t}function YD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const XD={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},JD=st.INFO,eM={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},tM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hm{constructor(e){this.name=e,this._logLevel=JD,this._logHandler=tM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const nM=(t,e)=>e.some(n=>t instanceof n);let ky,Iy;function rM(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iM(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,Zp=new WeakMap,rS=new WeakMap,Qf=new WeakMap,fm=new WeakMap;function oM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(_o(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),fm.set(e,t),e}function sM(t){if(Zp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Zp.set(t,e)}let Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aM(t){Kp=t(Kp)}function lM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xf(this),e,...n);return rS.set(r,e.sort?e.sort():[e]),_o(r)}:iM().includes(t)?function(...e){return t.apply(Xf(this),e),_o(nS.get(this))}:function(...e){return _o(t.apply(Xf(this),e))}}function cM(t){return typeof t=="function"?lM(t):(t instanceof IDBTransaction&&sM(t),nM(t,rM())?new Proxy(t,Kp):t)}function _o(t){if(t instanceof IDBRequest)return oM(t);if(Qf.has(t))return Qf.get(t);const e=cM(t);return e!==t&&(Qf.set(t,e),fm.set(e,t)),e}const Xf=t=>fm.get(t);function uM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=_o(s);return r&&s.addEventListener("upgradeneeded",u=>{r(_o(s.result),u.oldVersion,u.newVersion,_o(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const dM=["get","getKey","getAll","getAllKeys","count"],hM=["put","add","delete","clear"],Jf=new Map;function xy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dM.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return Jf.set(e,o),o}aM(t=>({...t,get:(e,n,r)=>xy(e,n)||t.get(e,n,r),has:(e,n)=>!!xy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pM(t){return t.getComponent()?.type==="VERSION"}const Yp="@firebase/app",Py="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new hm("@firebase/app"),gM="@firebase/app-compat",mM="@firebase/analytics-compat",vM="@firebase/analytics",_M="@firebase/app-check-compat",yM="@firebase/app-check",bM="@firebase/auth",wM="@firebase/auth-compat",EM="@firebase/database",SM="@firebase/data-connect",TM="@firebase/database-compat",CM="@firebase/functions",AM="@firebase/functions-compat",RM="@firebase/installations",kM="@firebase/installations-compat",IM="@firebase/messaging",xM="@firebase/messaging-compat",PM="@firebase/performance",DM="@firebase/performance-compat",MM="@firebase/remote-config",OM="@firebase/remote-config-compat",NM="@firebase/storage",LM="@firebase/storage-compat",BM="@firebase/firestore",VM="@firebase/ai",FM="@firebase/firestore-compat",$M="firebase",UM="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",zM={[Yp]:"fire-core",[gM]:"fire-core-compat",[vM]:"fire-analytics",[mM]:"fire-analytics-compat",[yM]:"fire-app-check",[_M]:"fire-app-check-compat",[bM]:"fire-auth",[wM]:"fire-auth-compat",[EM]:"fire-rtdb",[SM]:"fire-data-connect",[TM]:"fire-rtdb-compat",[CM]:"fire-fn",[AM]:"fire-fn-compat",[RM]:"fire-iid",[kM]:"fire-iid-compat",[IM]:"fire-fcm",[xM]:"fire-fcm-compat",[PM]:"fire-perf",[DM]:"fire-perf-compat",[MM]:"fire-rc",[OM]:"fire-rc-compat",[NM]:"fire-gcs",[LM]:"fire-gcs-compat",[BM]:"fire-fst",[FM]:"fire-fst-compat",[VM]:"fire-vertex","fire-js":"fire-js",[$M]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,HM=new Map,Xp=new Map;function Dy(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Va(t){const e=t.name;if(Xp.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,t);for(const n of Qd.values())Dy(n,t);for(const n of HM.values())Dy(n,t);return!0}function pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new Qc("app","Firebase",jM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=UM;function iS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Qp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw yo.create("bad-app-name",{appName:String(i)});if(n||(n=XE()),!n)throw yo.create("no-options");const o=Qd.get(i);if(o){if(gs(n,o.options)&&gs(r,o.config))return o;throw yo.create("duplicate-app",{appName:i})}const s=new QD(i);for(const u of Xp.values())s.addComponent(u);const l=new WM(n,r,s);return Qd.set(i,l),l}function oS(t=Qp){const e=Qd.get(t);if(!e&&t===Qp&&XE())return iS();if(!e)throw yo.create("no-app",{appName:t});return e}function bo(t,e,n){let r=zM[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(s.join(" "));return}Va(new ms(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="firebase-heartbeat-database",GM=1,xc="firebase-heartbeat-store";let ep=null;function sS(){return ep||(ep=uM(qM,GM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw yo.create("idb-open",{originalErrorMessage:t.message})})),ep}async function ZM(t){try{const n=(await sS()).transaction(xc),r=await n.objectStore(xc).get(aS(t));return await n.done,r}catch(e){if(e instanceof zi)Li.warn(e.message);else{const n=yo.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}}async function My(t,e){try{const r=(await sS()).transaction(xc,"readwrite");await r.objectStore(xc).put(e,aS(t)),await r.done}catch(n){if(n instanceof zi)Li.warn(n.message);else{const r=yo.create("idb-set",{originalErrorMessage:n?.message});Li.warn(r.message)}}}function aS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=1024,YM=30;class QM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>YM){const i=eO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Oy(),{heartbeatsToSend:n,unsentEntries:r}=XM(this._heartbeatsCache.heartbeats),i=Yd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Li.warn(e),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function XM(t,e=KM){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ny(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ny(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FD()?$D().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return My(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return My(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ny(t){return Yd(JSON.stringify({version:2,heartbeats:t})).length}function eO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){Va(new ms("platform-logger",e=>new fM(e),"PRIVATE")),Va(new ms("heartbeat",e=>new QM(e),"PRIVATE")),bo(Yp,Py,t),bo(Yp,Py,"esm2020"),bo("fire-js","")}tO("");function lS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nO=lS,cS=new Qc("auth","Firebase",lS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new hm("@firebase/auth");function rO(t,...e){Xd.logLevel<=st.WARN&&Xd.warn(`Auth (${Qa}): ${t}`,...e)}function wd(t,...e){Xd.logLevel<=st.ERROR&&Xd.error(`Auth (${Qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,...e){throw gm(t,...e)}function qr(t,...e){return gm(t,...e)}function uS(t,e,n){const r={...nO(),[e]:n};return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return uS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cS.create(t,...e)}function Le(t,e,...n){if(!t)throw gm(e,...n)}function Ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function Bi(t,e){t||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(){return typeof self<"u"&&self.location?.href||""}function iO(){return Ly()==="http:"||Ly()==="https:"}function Ly(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iO()||ND()||"connection"in navigator)?navigator.onLine:!0}function sO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=DD()||LD()}get(){return oO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cO=new Jc(3e4,6e4);function Lo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Bo(t,e,n,r,i={}){return hS(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=Xc({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...o};return OD()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ya(t.emulatorConfig.host)&&(h.credentials="include"),dS.fetch()(await fS(t,t.config.apiHost,n,l),h)})}async function hS(t,e,n){t._canInitEmulator=!1;const r={...aO,...e};try{const i=new dO(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ed(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ed(t,"user-disabled",s);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw uS(t,f,h);Ir(t,f)}}catch(i){if(i instanceof zi)throw i;Ir(t,"network-request-failed",{message:String(i)})}}async function eu(t,e,n,r,i={}){const o=await Bo(t,e,n,r,i);return"mfaPendingCredential"in o&&Ir(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function fS(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?mm(t.config,i):`${t.config.apiScheme}://${i}`;return lO.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function uO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),cO.get())})}}function ed(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}function By(t){return t!==void 0&&t.enterprise!==void 0}class hO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fO(t,e){return Bo(t,"GET","/v2/recaptchaConfig",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e){return Bo(t,"POST","/v1/accounts:delete",e)}async function Jd(t,e){return Bo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gO(t,e=!1){const n=on(t),r=await n.getIdToken(e),i=vm(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:cc(tp(i.auth_time)),issuedAtTime:cc(tp(i.iat)),expirationTime:cc(tp(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function tp(t){return Number(t)*1e3}function vm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=YE(n);return i?JSON.parse(i):(wd("Failed to decode base64 JWT payload"),null)}catch(i){return wd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Vy(t){const e=vm(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&mO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){const e=t.auth,n=await t.getIdToken(),r=await Pc(t,Jd(e,{idToken:n}));Le(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?pS(i.providerUserInfo):[],s=yO(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!s?.length,h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new eg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function _O(t){const e=on(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){const n=await hS(t,{},async()=>{const r=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await fS(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ya(t.emulatorConfig.host)&&(u.credentials="include"),dS.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wO(t,e){return Bo(t,"POST","/v2/accounts:revokeToken",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=Vy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await bO(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Aa;return r&&(Le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new vO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new eg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Pc(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gO(this,e)}reload(){return _O(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await Pc(this,pO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:_,providerData:S,stsTokenManager:T}=n;Le(g&&T,e,"internal-error");const A=Aa.fromJSON(this.name,T);Le(typeof g=="string",e,"internal-error"),to(r,e.name),to(i,e.name),Le(typeof v=="boolean",e,"internal-error"),Le(typeof _=="boolean",e,"internal-error"),to(o,e.name),to(s,e.name),to(l,e.name),to(u,e.name),to(h,e.name),to(f,e.name);const P=new Cr({uid:g,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:s,phoneNumber:o,tenantId:l,stsTokenManager:A,createdAt:h,lastLoginAt:f});return S&&Array.isArray(S)&&(P.providerData=S.map(M=>({...M}))),u&&(P._redirectEventId=u),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Aa;i.updateFromServerResponse(n);const o=new Cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await eh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?pS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,l=new Aa;l.updateFromIdToken(r);const u=new Cr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;function Ai(t){Bi(t instanceof Function,"Expected a class definition");let e=Fy.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gS.type="NONE";const $y=gS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class Ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ed(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ed("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jd(this.auth,{idToken:e}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ra(Ai($y),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Ai($y);const s=Ed(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(s);if(f){let g;if(typeof f=="string"){const v=await Jd(e,{idToken:f}).catch(()=>{});if(!v)break;g=await Cr._fromGetAccountInfoResponse(e,v,f)}else g=Cr._fromJSON(e,f);h!==o&&(l=g),o=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ra(o,e,r):(o=u[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(s)}catch{}})),new Ra(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wS(e))return"Blackberry";if(ES(e))return"Webos";if(vS(e))return"Safari";if((e.includes("chrome/")||_S(e))&&!e.includes("edge/"))return"Chrome";if(bS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mS(t=In()){return/firefox\//i.test(t)}function vS(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _S(t=In()){return/crios\//i.test(t)}function yS(t=In()){return/iemobile/i.test(t)}function bS(t=In()){return/android/i.test(t)}function wS(t=In()){return/blackberry/i.test(t)}function ES(t=In()){return/webos/i.test(t)}function _m(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EO(t=In()){return _m(t)&&!!window.navigator?.standalone}function SO(){return BD()&&document.documentMode===10}function SS(t=In()){return _m(t)||bS(t)||ES(t)||wS(t)||/windows phone/i.test(t)||yS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e=[]){let n;switch(t){case"Browser":n=Uy(In());break;case"Worker":n=`${Uy(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const u=e(o);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,e={}){return Bo(t,"GET","/v2/passwordPolicy",Lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=6;class RO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zy(this),this.idTokenSubscription=new zy(this),this.beforeStateQueue=new TO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jd(this,{idToken:e}),r=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(xi(this));const n=e?on(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CO(this),n=new RO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Rs(t){return on(t)}class zy{constructor(e){this.auth=e,this.observer=null,this.addObserver=WD(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IO(t){Kh=t}function CS(t){return Kh.loadJS(t)}function xO(){return Kh.recaptchaEnterpriseScript}function PO(){return Kh.gapiScript}function DO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class MO{constructor(){this.enterprise=new OO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NO="recaptcha-enterprise",AS="NO_RECAPTCHA";class LO{constructor(e){this.type=NO,this.auth=Rs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{fO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new hO(u);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,s(h.siteKey)}}).catch(u=>{l(u)})})}function i(o,s,l){const u=window.grecaptcha;By(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(h=>{s(h)}).catch(()=>{s(AS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MO().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(l=>{if(!n&&By(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xO();u.length!==0&&(u+=l),CS(u).then(()=>{i(l,o,s)}).catch(h=>{s(h)})}}).catch(l=>{s(l)})})}}async function Hy(t,e,n,r=!1,i=!1){const o=new LO(t);let s;if(i)s=AS;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function tg(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Hy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Hy(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e){const n=pm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gs(o,e??{}))return i;Ir(i,"already-initialized")}return n.initialize({options:e})}function VO(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function FO(t,e,n){const r=Rs(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=RS(e),{host:s,port:l}=$O(e),u=l===null?"":`:${l}`,h={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(gs(h,r.config.emulator)&&gs(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ya(s)?(eS(`${o}//${s}${u}`),tS("Auth",!0)):UO()}function RS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $O(t){const e=RS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jy(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:jy(s)}}}function jy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function zO(t,e){return Bo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e){return eu(t,"POST","/v1/accounts:signInWithPassword",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return eu(t,"POST","/v1/accounts:signInWithEmailLink",Lo(t,e))}async function WO(t,e){return eu(t,"POST","/v1/accounts:signInWithEmailLink",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends ym{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Dc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,n,"signInWithPassword",HO);case"emailLink":return jO(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,r,"signUpPassword",zO);case"emailLink":return WO(e,{idToken:n,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t,e){return eu(t,"POST","/v1/accounts:signInWithIdp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="http://localhost";class vs extends ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new vs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ka(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ka(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ka(e,n)}buildRequest(){const e={requestUri:qO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZO(t){const e=jl(Wl(t)).link,n=e?jl(Wl(e)).deep_link_id:null,r=jl(Wl(t)).deep_link_id;return(r?jl(Wl(r)).link:null)||r||n||e||t}class bm{constructor(e){const n=jl(Wl(e)),r=n.apiKey??null,i=n.oobCode??null,o=GO(n.mode??null);Le(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ZO(e);try{return new bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,n){return Dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bm.parseLink(n);return Le(r,"argument-error"),Dc._fromEmailAndCode(e,r.code,r.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends kS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends tu{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.GOOGLE_SIGN_IN_METHOD="google.com";lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends tu{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends tu{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){return eu(t,"POST","/v1/accounts:signUp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Cr._fromIdTokenResponse(e,r,i),s=Wy(r);return new _s({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Wy(r);return new _s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Wy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends zi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new th(e,n,r,i)}}function IS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(t,o,e,r):o})}async function YO(t,e,n=!1){const r=await Pc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(xi(r));const i="reauthenticate";try{const o=await Pc(t,IS(r,i,e,t),n);Le(o.idToken,r,"internal-error");const s=vm(o.idToken);Le(s,r,"internal-error");const{sub:l}=s;return Le(t.uid===l,r,"user-mismatch"),_s._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ir(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t,e,n=!1){if(hr(t.app))return Promise.reject(xi(t));const r="signIn",i=await IS(t,r,e),o=await _s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function XO(t,e){return xS(Rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t){const e=Rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JO(t,e,n){if(hr(t.app))return Promise.reject(xi(t));const r=Rs(t),s=await tg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&PS(t),u}),l=await _s._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function eN(t,e,n){return hr(t.app)?Promise.reject(xi(t)):XO(on(t),Xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PS(t),r})}function tN(t,e,n,r){return on(t).onIdTokenChanged(e,n,r)}function nN(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function rN(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}function iN(t){return on(t).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1e3,sN=10;class MS extends DS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);SO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MS.type="LOCAL";const aN=MS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends DS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OS.type="SESSION";const NS=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async h=>h(n.origin,o)),u=await lN(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,u)=>{const h=wm("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(v.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function uN(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function dN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hN(){return navigator?.serviceWorker?.controller||null}function fN(){return LS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebaseLocalStorageDb",pN=1,rh="firebaseLocalStorage",VS="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(t,e){return t.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function gN(){const t=indexedDB.deleteDatabase(BS);return new nu(t).toPromise()}function ng(){const t=indexedDB.open(BS,pN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rh,{keyPath:VS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await gN(),e(await ng()))})})}async function qy(t,e,n){const r=Qh(t,!0).put({[VS]:e,value:n});return new nu(r).toPromise()}async function mN(t,e){const n=Qh(t,!1).get(e),r=await new nu(n).toPromise();return r===void 0?null:r.value}function Gy(t,e){const n=Qh(t,!0).delete(e);return new nu(n).toPromise()}const vN=800,_N=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_N)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(fN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dN(),!this.activeServiceWorker)return;this.sender=new cN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await qy(e,nh,"1"),await Gy(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Qh(i,!1).getAll();return new nu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const yN=FS;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e){return e?Ai(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends ym{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wN(t){return xS(t.auth,new Em(t),t.bypassAuthState)}function EN(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),QO(n,new Em(t),t.bypassAuthState)}async function SN(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),YO(n,new Em(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wN;case"linkViaPopup":case"linkViaRedirect":return SN;case"reauthViaPopup":case"reauthViaRedirect":return EN;default:Ir(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Jc(2e3,1e4);class ga extends $S{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TN.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="pendingRedirect",Sd=new Map;class AN extends $S{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const r=await RN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RN(t,e){const n=xN(e),r=IN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kN(t,e){Sd.set(t._key(),e)}function IN(t){return Ai(t._redirectPersistence)}function xN(t){return Ed(CN,t.config.apiKey,t.name)}async function PN(t,e,n=!1){if(hr(t.app))return Promise.reject(xi(t));const r=Rs(t),i=bN(r,e),s=await new AN(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=10*60*1e3;class MN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ON(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!US(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(e))}saveEventToCache(e){this.cachedEventUids.add(Zy(e)),this.lastProcessedEventTime=Date.now()}}function Zy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function US({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ON(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e={}){return Bo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BN=/^https?/;async function VN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NN(t);for(const n of e)try{if(FN(n))return}catch{}Ir(t,"unauthorized-domain")}function FN(t){const e=Jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!BN.test(n))return!1;if(LN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Jc(3e4,6e4);function Ky(){const t=Gr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UN(t){return new Promise((e,n)=>{function r(){Ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ky(),n(qr(t,"network-request-failed"))},timeout:$N.get()})}if(Gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gr().gapi?.load)r();else{const i=DO("iframefcb");return Gr()[i]=()=>{gapi.load?r():n(qr(t,"network-request-failed"))},CS(`${PO()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Td=null,e})}let Td=null;function zN(t){return Td=Td||UN(t),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new Jc(5e3,15e3),jN="__/auth/iframe",WN="emulator/auth/iframe",qN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mm(e,WN):`https://${t.config.authDomain}/${jN}`,r={apiKey:e.apiKey,appName:t.name,v:Qa},i=GN.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Xc(r).slice(1)}`}async function KN(t){const e=await zN(t),n=Gr().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:ZN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=qr(t,"network-request-failed"),l=Gr().setTimeout(()=>{o(s)},HN.get());function u(){Gr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,XN=600,JN="_blank",eL="http://localhost";class Yy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tL(t,e,n,r=QN,i=XN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...YN,width:r.toString(),height:i.toString(),top:o,left:s},h=In().toLowerCase();n&&(l=_S(h)?JN:n),mS(h)&&(e=e||eL,u.scrollbars="yes");const f=Object.entries(u).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(EO(h)&&l!=="_self")return nL(e||"",l),new Yy(null);const g=window.open(e||"",l,f);Le(g,t,"popup-blocked");try{g.focus()}catch{}return new Yy(g)}function nL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="__/auth/handler",iL="emulator/auth/handler",oL=encodeURIComponent("fac");async function Qy(t,e,n,r,i,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qa,eventId:i};if(e instanceof kS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",jD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))s[f]=g}if(e instanceof tu){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),h=u?`#${oL}=${encodeURIComponent(u)}`:"";return`${sL(t)}?${Xc(l).slice(1)}${h}`}function sL({config:t}){return t.emulator?mm(t,iL):`https://${t.authDomain}/${rL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class aL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NS,this._completeRedirectFn=PN,this._overrideRedirectResult=kN}async _openPopup(e,n,r,i){Bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Qy(e,n,r,Jp(),i);return tL(e,o,wm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Qy(e,n,r,Jp(),i);return uN(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Bi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KN(e),r=new MN(e);return n.register("authEvent",i=>(Le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},i=>{const o=i?.[0]?.[np];o!==void 0&&n(!!o),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||vS()||_m()}}const lL=aL;var Xy="@firebase/auth",Jy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dL(t){Va(new ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TS(t)},h=new kO(r,i,o,u);return VO(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Va(new ms("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(r=>new cL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bo(Xy,Jy,uL(t)),bo(Xy,Jy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=5*60,fL=JE("authIdTokenMaxAge")||hL;let eb=null;const pL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fL)return;const i=n?.token;eb!==i&&(eb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xh(t=oS()){const e=pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BO(t,{popupRedirectResolver:lL,persistence:[yN,aN,NS]}),r=JE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=pL(o.toString());nN(n,s,()=>s(n.currentUser)),tN(n,l=>s(l))}}const i=QE("auth");return i&&FO(n,`http://${i}`),n}function gL(){return document.getElementsByTagName("head")?.[0]??document}IO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=qr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",gL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dL("Browser");var mL="firebase",vL="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bo(mL,vL,"app");var tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,zS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,k){function I(){}I.prototype=k.prototype,D.D=k.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(F,$,z){for(var O=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)O[dt-2]=arguments[dt];return k.prototype[$].apply(F,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,k,I){I||(I=0);var F=Array(16);if(typeof k=="string")for(var $=0;16>$;++$)F[$]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for($=0;16>$;++$)F[$]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=D.g[0],I=D.g[1],$=D.g[2];var z=D.g[3],O=k+(z^I&($^z))+F[0]+3614090360&4294967295;k=I+(O<<7&4294967295|O>>>25),O=z+($^k&(I^$))+F[1]+3905402710&4294967295,z=k+(O<<12&4294967295|O>>>20),O=$+(I^z&(k^I))+F[2]+606105819&4294967295,$=z+(O<<17&4294967295|O>>>15),O=I+(k^$&(z^k))+F[3]+3250441966&4294967295,I=$+(O<<22&4294967295|O>>>10),O=k+(z^I&($^z))+F[4]+4118548399&4294967295,k=I+(O<<7&4294967295|O>>>25),O=z+($^k&(I^$))+F[5]+1200080426&4294967295,z=k+(O<<12&4294967295|O>>>20),O=$+(I^z&(k^I))+F[6]+2821735955&4294967295,$=z+(O<<17&4294967295|O>>>15),O=I+(k^$&(z^k))+F[7]+4249261313&4294967295,I=$+(O<<22&4294967295|O>>>10),O=k+(z^I&($^z))+F[8]+1770035416&4294967295,k=I+(O<<7&4294967295|O>>>25),O=z+($^k&(I^$))+F[9]+2336552879&4294967295,z=k+(O<<12&4294967295|O>>>20),O=$+(I^z&(k^I))+F[10]+4294925233&4294967295,$=z+(O<<17&4294967295|O>>>15),O=I+(k^$&(z^k))+F[11]+2304563134&4294967295,I=$+(O<<22&4294967295|O>>>10),O=k+(z^I&($^z))+F[12]+1804603682&4294967295,k=I+(O<<7&4294967295|O>>>25),O=z+($^k&(I^$))+F[13]+4254626195&4294967295,z=k+(O<<12&4294967295|O>>>20),O=$+(I^z&(k^I))+F[14]+2792965006&4294967295,$=z+(O<<17&4294967295|O>>>15),O=I+(k^$&(z^k))+F[15]+1236535329&4294967295,I=$+(O<<22&4294967295|O>>>10),O=k+($^z&(I^$))+F[1]+4129170786&4294967295,k=I+(O<<5&4294967295|O>>>27),O=z+(I^$&(k^I))+F[6]+3225465664&4294967295,z=k+(O<<9&4294967295|O>>>23),O=$+(k^I&(z^k))+F[11]+643717713&4294967295,$=z+(O<<14&4294967295|O>>>18),O=I+(z^k&($^z))+F[0]+3921069994&4294967295,I=$+(O<<20&4294967295|O>>>12),O=k+($^z&(I^$))+F[5]+3593408605&4294967295,k=I+(O<<5&4294967295|O>>>27),O=z+(I^$&(k^I))+F[10]+38016083&4294967295,z=k+(O<<9&4294967295|O>>>23),O=$+(k^I&(z^k))+F[15]+3634488961&4294967295,$=z+(O<<14&4294967295|O>>>18),O=I+(z^k&($^z))+F[4]+3889429448&4294967295,I=$+(O<<20&4294967295|O>>>12),O=k+($^z&(I^$))+F[9]+568446438&4294967295,k=I+(O<<5&4294967295|O>>>27),O=z+(I^$&(k^I))+F[14]+3275163606&4294967295,z=k+(O<<9&4294967295|O>>>23),O=$+(k^I&(z^k))+F[3]+4107603335&4294967295,$=z+(O<<14&4294967295|O>>>18),O=I+(z^k&($^z))+F[8]+1163531501&4294967295,I=$+(O<<20&4294967295|O>>>12),O=k+($^z&(I^$))+F[13]+2850285829&4294967295,k=I+(O<<5&4294967295|O>>>27),O=z+(I^$&(k^I))+F[2]+4243563512&4294967295,z=k+(O<<9&4294967295|O>>>23),O=$+(k^I&(z^k))+F[7]+1735328473&4294967295,$=z+(O<<14&4294967295|O>>>18),O=I+(z^k&($^z))+F[12]+2368359562&4294967295,I=$+(O<<20&4294967295|O>>>12),O=k+(I^$^z)+F[5]+4294588738&4294967295,k=I+(O<<4&4294967295|O>>>28),O=z+(k^I^$)+F[8]+2272392833&4294967295,z=k+(O<<11&4294967295|O>>>21),O=$+(z^k^I)+F[11]+1839030562&4294967295,$=z+(O<<16&4294967295|O>>>16),O=I+($^z^k)+F[14]+4259657740&4294967295,I=$+(O<<23&4294967295|O>>>9),O=k+(I^$^z)+F[1]+2763975236&4294967295,k=I+(O<<4&4294967295|O>>>28),O=z+(k^I^$)+F[4]+1272893353&4294967295,z=k+(O<<11&4294967295|O>>>21),O=$+(z^k^I)+F[7]+4139469664&4294967295,$=z+(O<<16&4294967295|O>>>16),O=I+($^z^k)+F[10]+3200236656&4294967295,I=$+(O<<23&4294967295|O>>>9),O=k+(I^$^z)+F[13]+681279174&4294967295,k=I+(O<<4&4294967295|O>>>28),O=z+(k^I^$)+F[0]+3936430074&4294967295,z=k+(O<<11&4294967295|O>>>21),O=$+(z^k^I)+F[3]+3572445317&4294967295,$=z+(O<<16&4294967295|O>>>16),O=I+($^z^k)+F[6]+76029189&4294967295,I=$+(O<<23&4294967295|O>>>9),O=k+(I^$^z)+F[9]+3654602809&4294967295,k=I+(O<<4&4294967295|O>>>28),O=z+(k^I^$)+F[12]+3873151461&4294967295,z=k+(O<<11&4294967295|O>>>21),O=$+(z^k^I)+F[15]+530742520&4294967295,$=z+(O<<16&4294967295|O>>>16),O=I+($^z^k)+F[2]+3299628645&4294967295,I=$+(O<<23&4294967295|O>>>9),O=k+($^(I|~z))+F[0]+4096336452&4294967295,k=I+(O<<6&4294967295|O>>>26),O=z+(I^(k|~$))+F[7]+1126891415&4294967295,z=k+(O<<10&4294967295|O>>>22),O=$+(k^(z|~I))+F[14]+2878612391&4294967295,$=z+(O<<15&4294967295|O>>>17),O=I+(z^($|~k))+F[5]+4237533241&4294967295,I=$+(O<<21&4294967295|O>>>11),O=k+($^(I|~z))+F[12]+1700485571&4294967295,k=I+(O<<6&4294967295|O>>>26),O=z+(I^(k|~$))+F[3]+2399980690&4294967295,z=k+(O<<10&4294967295|O>>>22),O=$+(k^(z|~I))+F[10]+4293915773&4294967295,$=z+(O<<15&4294967295|O>>>17),O=I+(z^($|~k))+F[1]+2240044497&4294967295,I=$+(O<<21&4294967295|O>>>11),O=k+($^(I|~z))+F[8]+1873313359&4294967295,k=I+(O<<6&4294967295|O>>>26),O=z+(I^(k|~$))+F[15]+4264355552&4294967295,z=k+(O<<10&4294967295|O>>>22),O=$+(k^(z|~I))+F[6]+2734768916&4294967295,$=z+(O<<15&4294967295|O>>>17),O=I+(z^($|~k))+F[13]+1309151649&4294967295,I=$+(O<<21&4294967295|O>>>11),O=k+($^(I|~z))+F[4]+4149444226&4294967295,k=I+(O<<6&4294967295|O>>>26),O=z+(I^(k|~$))+F[11]+3174756917&4294967295,z=k+(O<<10&4294967295|O>>>22),O=$+(k^(z|~I))+F[2]+718787259&4294967295,$=z+(O<<15&4294967295|O>>>17),O=I+(z^($|~k))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+($+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+$&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var I=k-this.blockSize,F=this.B,$=this.h,z=0;z<k;){if($==0)for(;z<=I;)i(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<k;)if(F[$++]=D.charCodeAt(z++),$==this.blockSize){i(this,F),$=0;break}}else for(;z<k;)if(F[$++]=D[z++],$==this.blockSize){i(this,F),$=0;break}}this.h=$,this.o+=k},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var I=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=I&255,I/=256;for(this.u(D),D=Array(16),k=I=0;4>k;++k)for(var F=0;32>F;F+=8)D[I++]=this.g[k]>>>F&255;return D};function o(D,k){var I=l;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=k(D)}function s(D,k){this.h=k;for(var I=[],F=!0,$=D.length-1;0<=$;$--){var z=D[$]|0;F&&z==k||(I[$]=z,F=!1)}this.g=I}var l={};function u(D){return-128<=D&&128>D?o(D,function(k){return new s([k|0],0>k?-1:0)}):new s([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return A(h(-D));for(var k=[],I=1,F=0;D>=I;F++)k[F]=D/I|0,I*=4294967296;return new s(k,0)}function f(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return A(f(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(k,8)),F=g,$=0;$<D.length;$+=8){var z=Math.min(8,D.length-$),O=parseInt(D.substring($,$+z),k);8>z?(z=h(Math.pow(k,z)),F=F.j(z).add(h(O))):(F=F.j(I),F=F.add(h(O)))}return F}var g=u(0),v=u(1),_=u(16777216);t=s.prototype,t.m=function(){if(T(this))return-A(this).m();for(var D=0,k=1,I=0;I<this.g.length;I++){var F=this.i(I);D+=(0<=F?F:4294967296+F)*k,k*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(T(this))return"-"+A(this).toString(D);for(var k=h(Math.pow(D,6)),I=this,F="";;){var $=q(I,k).g;I=P(I,$.j(k));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=$,S(I))return z+F;for(;6>z.length;)z="0"+z;F=z+F}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=P(this,D),T(D)?-1:S(D)?0:1};function A(D){for(var k=D.g.length,I=[],F=0;F<k;F++)I[F]=~D.g[F];return new s(I,~D.h).add(v)}t.abs=function(){return T(this)?A(this):this},t.add=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],F=0,$=0;$<=k;$++){var z=F+(this.i($)&65535)+(D.i($)&65535),O=(z>>>16)+(this.i($)>>>16)+(D.i($)>>>16);F=O>>>16,z&=65535,O&=65535,I[$]=O<<16|z}return new s(I,I[I.length-1]&-2147483648?-1:0)};function P(D,k){return D.add(A(k))}t.j=function(D){if(S(this)||S(D))return g;if(T(this))return T(D)?A(this).j(A(D)):A(A(this).j(D));if(T(D))return A(this.j(A(D)));if(0>this.l(_)&&0>D.l(_))return h(this.m()*D.m());for(var k=this.g.length+D.g.length,I=[],F=0;F<2*k;F++)I[F]=0;for(F=0;F<this.g.length;F++)for(var $=0;$<D.g.length;$++){var z=this.i(F)>>>16,O=this.i(F)&65535,dt=D.i($)>>>16,Ft=D.i($)&65535;I[2*F+2*$]+=O*Ft,M(I,2*F+2*$),I[2*F+2*$+1]+=z*Ft,M(I,2*F+2*$+1),I[2*F+2*$+1]+=O*dt,M(I,2*F+2*$+1),I[2*F+2*$+2]+=z*dt,M(I,2*F+2*$+2)}for(F=0;F<k;F++)I[F]=I[2*F+1]<<16|I[2*F];for(F=k;F<2*k;F++)I[F]=0;return new s(I,0)};function M(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function U(D,k){this.g=D,this.h=k}function q(D,k){if(S(k))throw Error("division by zero");if(S(D))return new U(g,g);if(T(D))return k=q(A(D),k),new U(A(k.g),A(k.h));if(T(k))return k=q(D,A(k)),new U(A(k.g),k.h);if(30<D.g.length){if(T(D)||T(k))throw Error("slowDivide_ only works with positive integers.");for(var I=v,F=k;0>=F.l(D);)I=oe(I),F=oe(F);var $=se(I,1),z=se(F,1);for(F=se(F,2),I=se(I,2);!S(F);){var O=z.add(F);0>=O.l(D)&&($=$.add(I),z=O),F=se(F,1),I=se(I,1)}return k=P(D,$.j(k)),new U($,k)}for($=g;0<=D.l(k);){for(I=Math.max(1,Math.floor(D.m()/k.m())),F=Math.ceil(Math.log(I)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),z=h(I),O=z.j(k);T(O)||0<O.l(D);)I-=F,z=h(I),O=z.j(k);S(z)&&(z=v),$=$.add(z),D=P(D,O)}return new U($,D)}t.A=function(D){return q(this,D).h},t.and=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],F=0;F<k;F++)I[F]=this.i(F)&D.i(F);return new s(I,this.h&D.h)},t.or=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],F=0;F<k;F++)I[F]=this.i(F)|D.i(F);return new s(I,this.h|D.h)},t.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],F=0;F<k;F++)I[F]=this.i(F)^D.i(F);return new s(I,this.h^D.h)};function oe(D){for(var k=D.g.length+1,I=[],F=0;F<k;F++)I[F]=D.i(F)<<1|D.i(F-1)>>>31;return new s(I,D.h)}function se(D,k){var I=k>>5;k%=32;for(var F=D.g.length-I,$=[],z=0;z<F;z++)$[z]=0<k?D.i(z+I)>>>k|D.i(z+I+1)<<32-k:D.i(z+I);return new s($,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=f,wo=s}).apply(typeof tb<"u"?tb:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HS,ql,jS,Cd,rg,WS,qS,GS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var j=d[R];if(!(j in E))break e;E=E[j]}d=d[d.length-1],R=E[d],y=y(R),y!=R&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var E=0,R=!1,j={next:function(){if(!R&&E<d.length){var K=E++;return{value:y(K,d[K]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(d){return d||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function h(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function f(d,y,E){return d.call.apply(d.bind,arguments)}function g(d,y,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),d.apply(y,j)}}return function(){return d.apply(y,arguments)}}function v(d,y,E){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function _(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function S(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,j,K){for(var ue=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ue[bt-2]=arguments[bt];return y.prototype[j].apply(R,ue)}}function T(d){const y=d.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=d[R];return E}return[]}function A(d,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(u(R)){const j=d.length||0,K=R.length||0;d.length=j+K;for(let ue=0;ue<K;ue++)d[j+ue]=R[ue]}else d.push(R)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function M(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var oe=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function se(d,y,E){for(const R in d)y.call(E,d[R],R,d)}function D(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function k(d){const y={};for(const E in d)y[E]=d[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(d,y){let E,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(E in R)d[E]=R[E];for(let K=0;K<I.length;K++)E=I[K],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function $(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function z(d){l.setTimeout(()=>{throw d},0)}function O(){var d=Ot;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class dt{constructor(){this.h=this.g=null}add(y,E){const R=Ft.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Ft=new P(()=>new Qe,d=>d.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,le=!1,Ot=new dt,Ee=()=>{const d=l.Promise.resolve(void 0);Ve=()=>{d.then(Fe)}};var Fe=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){z(E)}var y=Ft;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}le=!1};function $e(){this.s=this.s,this.C=this.C}$e.prototype.s=!1,$e.prototype.ma=function(){this.s||(this.s=!0,this.N())},$e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};l.addEventListener("test",E,y),l.removeEventListener("test",E,y)}catch{}return d}();function Ze(d,y){if(We.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(oe){e:{try{q(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ke[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ze.aa.h.call(this)}}S(Ze,We);var ke={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),fe=0;function pe(d,y,E,R,j){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=j,this.key=++fe,this.da=this.fa=!1}function be(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Xe(d){this.src=d,this.g={},this.h=0}Xe.prototype.add=function(d,y,E,R,j){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var ue=N(d,y,R,j);return-1<ue?(y=d[ue],E||(y.fa=!1)):(y=new pe(y,this.src,K,!!R,j),y.fa=E,d.push(y)),y};function x(d,y){var E=y.type;if(E in d.g){var R=d.g[E],j=Array.prototype.indexOf.call(R,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(R,j,1),K&&(be(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function N(d,y,E,R){for(var j=0;j<d.length;++j){var K=d[j];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==R)return j}return-1}var H="closure_lm_"+(1e6*Math.random()|0),X={};function te(d,y,E,R,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)te(d,y[K],E,R,j);return null}return E=De(E),d&&d[Q]?d.K(y,E,h(R)?!!R.capture:!1,j):J(d,y,E,!1,R,j)}function J(d,y,E,R,j,K){if(!y)throw Error("Invalid event type");var ue=h(j)?!!j.capture:!!j,bt=he(d);if(bt||(d[H]=bt=new Xe(d)),E=bt.add(y,E,R,ue,K),E.proxy)return E;if(R=de(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)it||(j=ue),j===void 0&&(j=!1),d.addEventListener(y.toString(),R,j);else if(d.attachEvent)d.attachEvent(ie(y.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function de(){function d(E){return y.call(d.src,d.listener,E)}const y=Te;return d}function ce(d,y,E,R,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)ce(d,y[K],E,R,j);else R=h(R)?!!R.capture:!!R,E=De(E),d&&d[Q]?(d=d.i,y=String(y).toString(),y in d.g&&(K=d.g[y],E=N(K,E,R,j),-1<E&&(be(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete d.g[y],d.h--)))):d&&(d=he(d))&&(y=d.g[y.toString()],d=-1,y&&(d=N(y,E,R,j)),(E=-1<d?y[d]:null)&&ae(E))}function ae(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Q])x(y.i,d);else{var E=d.type,R=d.proxy;y.removeEventListener?y.removeEventListener(E,R,d.capture):y.detachEvent?y.detachEvent(ie(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=he(y))?(x(E,d),E.h==0&&(E.src=null,y[H]=null)):be(d)}}}function ie(d){return d in X?X[d]:X[d]="on"+d}function Te(d,y){if(d.da)d=!0;else{y=new Ze(y,this);var E=d.listener,R=d.ha||d.src;d.fa&&ae(d),d=E.call(R,y)}return d}function he(d){return d=d[H],d instanceof Xe?d:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(d){return typeof d=="function"?d:(d[Se]||(d[Se]=function(y){return d.handleEvent(y)}),d[Se])}function Ae(){$e.call(this),this.i=new Xe(this),this.M=this,this.F=null}S(Ae,$e),Ae.prototype[Q]=!0,Ae.prototype.removeEventListener=function(d,y,E,R){ce(this,d,y,E,R)};function ze(d,y){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=y.type||y,typeof y=="string")y=new We(y,d);else if(y instanceof We)y.target=y.target||d;else{var j=y;y=new We(R,d),F(y,j)}if(j=!0,E)for(var K=E.length-1;0<=K;K--){var ue=y.g=E[K];j=nt(ue,R,!0,y)&&j}if(ue=y.g=d,j=nt(ue,R,!0,y)&&j,j=nt(ue,R,!1,y)&&j,E)for(K=0;K<E.length;K++)ue=y.g=E[K],j=nt(ue,R,!1,y)&&j}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],R=0;R<E.length;R++)be(E[R]);delete d.g[y],d.h--}}this.F=null},Ae.prototype.K=function(d,y,E,R){return this.i.add(String(d),y,!1,E,R)},Ae.prototype.L=function(d,y,E,R){return this.i.add(String(d),y,!0,E,R)};function nt(d,y,E,R){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var ue=y[K];if(ue&&!ue.da&&ue.capture==E){var bt=ue.listener,Kt=ue.ha||ue.src;ue.fa&&x(d.i,ue),j=bt.call(Kt,R)!==!1&&j}}return j&&!R.defaultPrevented}function nn(d,y,E){if(typeof d=="function")E&&(d=v(d,E));else if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:l.setTimeout(d,y||0)}function Gt(d){d.g=nn(()=>{d.g=null,d.i&&(d.i=!1,Gt(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Pn extends $e{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(d){$e.call(this),this.h=d,this.g={}}S(sn,$e);var vr=[];function ii(d){se(d.g,function(y,E){this.g.hasOwnProperty(E)&&ae(y)},d),d.g={}}sn.prototype.N=function(){sn.aa.N.call(this),ii(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=l.JSON.stringify,Fn=l.JSON.parse,Mr=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function ll(){}ll.prototype.h=null;function vu(d){return d.h||(d.h=d.i())}function cl(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ms(){We.call(this,"d")}S(Ms,We);function ul(){We.call(this,"c")}S(ul,We);var oi={},_u=null;function Os(){return _u=_u||new Ae}oi.La="serverreachability";function yu(d){We.call(this,oi.La,d)}S(yu,We);function zo(d){const y=Os();ze(y,new yu(y))}oi.STAT_EVENT="statevent";function Ns(d,y){We.call(this,oi.STAT_EVENT,d),this.stat=y}S(Ns,We);function dn(d){const y=Os();ze(y,new Ns(y,d))}oi.Ma="timingevent";function bu(d,y){We.call(this,oi.Ma,d),this.size=y}S(bu,We);function Ho(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},y)}function jo(){this.g=!0}jo.prototype.xa=function(){this.g=!1};function ir(d,y,E,R,j,K){d.info(function(){if(d.g)if(K)for(var ue="",bt=K.split("&"),Kt=0;Kt<bt.length;Kt++){var ht=bt[Kt].split("=");if(1<ht.length){var Et=ht[0];ht=ht[1];var Lt=Et.split("_");ue=2<=Lt.length&&Lt[1]=="type"?ue+(Et+"="+ht+"&"):ue+(Et+"=redacted&")}}else ue=null;else ue=K;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+y+`
`+E+`
`+ue})}function Ce(d,y,E,R,j,K,ue){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+y+`
`+E+`
`+K+" "+ue})}function si(d,y,E,R){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Eu(d,E)+(R?" "+R:"")})}function wu(d,y){d.info(function(){return"TIMEOUT: "+y})}jo.prototype.info=function(){};function Eu(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ue=1;ue<j.length;ue++)j[ue]=""}}}}return Zt(E)}catch{return y}}var Wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ls={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bs;function _r(){}S(_r,ll),_r.prototype.g=function(){return new XMLHttpRequest},_r.prototype.i=function(){return{}},Bs=new _r;function yr(d,y,E,R){this.j=d,this.i=y,this.l=E,this.R=R||1,this.U=new sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Su}function Su(){this.i=null,this.g="",this.h=!1}var Tu={},dl={};function hl(d,y,E){d.L=1,d.v=sr($t(y)),d.m=E,d.P=!0,fl(d,null)}function fl(d,y){d.F=Date.now(),Fs(d),d.A=$t(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Ru(E.i,"t",R),d.C=0,E=d.j.J,d.h=new Su,d.g=Ou(d.j,E?y:null,!d.m),0<d.O&&(d.M=new Pn(v(d.Y,d,d.g),d.O)),y=d.U,E=d.g,R=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(vr[0]=j.toString()),j=vr);for(var K=0;K<j.length;K++){var ue=te(E,j[K],R||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),zo(),ir(d.i,d.u,d.A,d.l,d.R,d.m)}yr.prototype.ca=function(d){d=d.target;const y=this.M;y&&Dn(d)==3?y.j():this.Y(d)},yr.prototype.Y=function(d){try{if(d==this.g)e:{const Lt=Dn(this.g);var y=this.g.Ba();const Xi=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Il(this.g)))){this.J||Lt!=4||y==7||(y==8||0>=Xi?zo(3):zo(2)),pl(this);var E=this.g.Z();this.X=E;t:if(Cu(this)){var R=Il(this.g);d="";var j=R.length,K=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),qo(this);var ue="";break t}this.h.i=new l.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,d+=this.h.i.decode(R[y],{stream:!(K&&y==j-1)});R.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,Ce(this.i,this.u,this.A,this.l,this.R,Lt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,Kt=this.g;if((bt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(bt)){var ht=bt;break t}}ht=null}if(E=ht)si(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Go(this,E);else{this.o=!1,this.s=3,dn(12),ai(this),qo(this);break e}}if(this.P){E=!0;let zt;for(;!this.J&&this.C<ue.length;)if(zt=Vs(this,ue),zt==dl){Lt==4&&(this.s=4,dn(14),E=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Tu){this.s=4,dn(15),si(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else si(this.i,this.l,zt,null),Go(this,zt);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ue.length!=0||this.h.h||(this.s=1,dn(16),E=!1),this.o=this.o&&E,!E)si(this.i,this.l,ue,"[Invalid Chunked Response]"),ai(this),qo(this);else if(0<ue.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Zs(Et),Et.M=!0,dn(11))}}else si(this.i,this.l,ue,null),Go(this,ue);Lt==4&&ai(this),this.o&&!this.J&&(Lt==4?Pl(this.j,this):(this.o=!1,Fs(this)))}else If(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),ai(this),qo(this)}}}catch{}finally{}};function Cu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Vs(d,y){var E=d.C,R=y.indexOf(`
`,E);return R==-1?dl:(E=Number(y.substring(E,R)),isNaN(E)?Tu:(R+=1,R+E>y.length?dl:(y=y.slice(R,R+E),d.C=R+E,y)))}yr.prototype.cancel=function(){this.J=!0,ai(this)};function Fs(d){d.S=Date.now()+d.I,Au(d,d.I)}function Au(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ho(v(d.ba,d),y)}function pl(d){d.B&&(l.clearTimeout(d.B),d.B=null)}yr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(wu(this.i,this.A),this.L!=2&&(zo(),dn(17)),ai(this),this.s=2,qo(this)):Au(this,this.S-d)};function qo(d){d.j.G==0||d.J||Pl(d.j,d)}function ai(d){pl(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,ii(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Go(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||ot(E.h,d))){if(!d.K&&ot(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ys(E),qs(E);else break e;Gs(E),dn(18)}}else E.za=j[1],0<E.za-E.T&&37500>j[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ho(v(E.Za,E),6e3));if(1>=qi(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else hi(E,11)}else if((d.K||E.g==d)&&Ys(E),!M(y))for(j=E.Da.g.parse(y),y=0;y<j.length;y++){let ht=j[y];if(E.T=ht[0],ht=ht[1],E.G==2)if(ht[0]=="c"){E.K=ht[1],E.ia=ht[2];const Et=ht[3];Et!=null&&(E.la=Et,E.j.info("VER="+E.la));const Lt=ht[4];Lt!=null&&(E.Aa=Lt,E.j.info("SVER="+E.Aa));const Xi=ht[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(R=1.5*Xi,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const zt=d.g;if(zt){const Xs=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var K=R.h;K.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Tt(K,K.h),K.h=null))}if(R.D){const Lr=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Lr&&(R.ya=Lr,Ue(R.I,R.D,Lr))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ue=d;if(R.qa=Qs(R,R.J?R.ia:null,R.W),ue.K){Ko(R.h,ue);var bt=ue,Kt=R.L;Kt&&(bt.I=Kt),bt.B&&(pl(bt),Fs(bt)),R.g=ue}else Er(R);0<E.i.length&&Qi(E)}else ht[0]!="stop"&&ht[0]!="close"||hi(E,7);else E.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?hi(E,7):Ws(E):ht[0]!="noop"&&E.l&&E.l.ta(ht),E.v=0)}}zo(4)}catch{}}var Zo=class{constructor(d,y){this.g=d,this.map=y}};function gl(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ml(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qi(d){return d.h?1:d.g?d.g.size:0}function ot(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Tt(d,y){d.g?d.g.add(y):d.h=y}function Ko(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}gl.prototype.cancel=function(){if(this.i=li(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function li(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return T(d.i)}function Gi(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var y=[],E=d.length,R=0;R<E;R++)y.push(d[R]);return y}y=[],E=0;for(R in d)y[E++]=d[R];return y}function vl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const R in d)y[E++]=R;return y}}}function qe(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=vl(d),R=Gi(d),j=R.length,K=0;K<j;K++)y.call(void 0,R[K],E&&E[K],d)}var Pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _l(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),j=null;if(0<=R){var K=d[E].substring(0,R);j=d[E].substring(R+1)}else K=d[E];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function or(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof or){this.h=d.h,$s(this,d.j),this.o=d.o,this.g=d.g,ci(this,d.s),this.l=d.l;var y=d.i,E=new ui;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Or(this,E),this.m=d.m}else d&&(y=String(d).match(Pt))?(this.h=!1,$s(this,y[1]||"",!0),this.o=br(y[2]||""),this.g=br(y[3]||"",!0),ci(this,y[4]),this.l=br(y[5]||"",!0),Or(this,y[6]||"",!0),this.m=br(y[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}or.prototype.toString=function(){var d=[],y=this.j;y&&d.push(wr(y,Zi,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(wr(y,Zi,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(wr(E,E.charAt(0)=="/"?wl:bl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",wr(E,El)),d.join("")};function $t(d){return new or(d)}function $s(d,y,E){d.j=E?br(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function ci(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Or(d,y,E){y instanceof ui?(d.i=y,ar(d.i,d.h)):(E||(y=wr(y,Us)),d.i=new ui(y,d.h))}function Ue(d,y,E){d.i.set(y,E)}function sr(d){return Ue(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function br(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function wr(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,yl),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zi=/[#\/\?@]/g,bl=/[#\?:]/g,wl=/[#\?]/g,Us=/[#\?@]/g,El=/#/g;function ui(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Yn(d){d.g||(d.g=new Map,d.h=0,d.i&&_l(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=ui.prototype,t.add=function(d,y){Yn(this),this.i=null,d=Me(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function Sl(d,y){Yn(d),y=Me(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function zs(d,y){return Yn(d),y=Me(d,y),d.g.has(y)}t.forEach=function(d,y){Yn(this),this.g.forEach(function(E,R){E.forEach(function(j){d.call(y,j,R,this)},this)},this)},t.na=function(){Yn(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const j=d[R];for(let K=0;K<j.length;K++)E.push(y[R])}return E},t.V=function(d){Yn(this);let y=[];if(typeof d=="string")zs(this,d)&&(y=y.concat(this.g.get(Me(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},t.set=function(d,y){return Yn(this),this.i=null,d=Me(this,d),zs(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Ru(d,y,E){Sl(d,y),0<E.length&&(d.i=null,d.g.set(Me(d,y),T(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const K=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var j=K;ue[R]!==""&&(j+="="+encodeURIComponent(String(ue[R]))),d.push(j)}}return this.i=d.join("&")};function Me(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function ar(d,y){y&&!d.j&&(Yn(d),d.i=null,d.g.forEach(function(E,R){var j=R.toLowerCase();R!=j&&(Sl(this,R),Ru(this,j,E))},d)),d.j=y}function wt(d,y){const E=new jo;if(l.Image){const R=new Image;R.onload=_(lr,E,"TestLoadImage: loaded",!0,y,R),R.onerror=_(lr,E,"TestLoadImage: error",!1,y,R),R.onabort=_(lr,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=_(lr,E,"TestLoadImage: timeout",!1,y,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else y(!1)}function ku(d,y){const E=new jo,R=new AbortController,j=setTimeout(()=>{R.abort(),lr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:R.signal}).then(K=>{clearTimeout(j),K.ok?lr(E,"TestPingServer: ok",!0,y):lr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),lr(E,"TestPingServer: error",!1,y)})}function lr(d,y,E,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(E)}catch{}}function Tl(){this.g=new Mr}function Cl(d,y,E){const R=E||"";try{qe(d,function(j,K){let ue=j;h(j)&&(ue=Zt(j)),y.push(R+K+"="+encodeURIComponent(ue))})}catch(j){throw y.push(R+"type="+encodeURIComponent("_badmap")),j}}function cr(d){this.l=d.Ub||null,this.j=d.eb||!1}S(cr,ll),cr.prototype.g=function(){return new Ki(this.l,this.j)},cr.prototype.i=function(d){return function(){return d}}({});function Ki(d,y){Ae.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ki,Ae),t=Ki.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Qn(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||l).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nt(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yi(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yi(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Nt(this):Qn(this),this.readyState==3&&Yi(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Nt(this))},t.Qa=function(d){this.g&&(this.response=d,Nt(this))},t.ga=function(){this.g&&Nt(this)};function Nt(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Qn(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function Qn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Al(d){let y="";return se(d,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Hs(d,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Al(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Ue(d,y,E))}function Dt(d){Ae.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Dt,Ae);var Iu=/^https?$/i,Rl=["POST","PUT"];t=Dt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bs.g(),this.v=this.o?vu(this.o):vu(Bs),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(K){xu(this,K);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)E.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())E.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),j=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Rl,y,void 0))||R||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of E)this.g.setRequestHeader(K,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$n(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){xu(this,K)}};function xu(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,kl(d),js(d)}function kl(d){d.A||(d.A=!0,ze(d,"complete"),ze(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ze(this,"complete"),ze(this,"abort"),js(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),Dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rt(this):this.bb())},t.bb=function(){rt(this)};function rt(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Dn(d)!=4||d.Z()!=2)){if(d.u&&Dn(d)==4)nn(d.Ea,0,d);else if(ze(d,"readystatechange"),Dn(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=ue===0){var j=String(d.D).match(Pt)[1]||null;!j&&l.self&&l.self.location&&(j=l.self.location.protocol.slice(0,-1)),R=!Iu.test(j?j.toLowerCase():"")}E=R}if(E)ze(d,"complete"),ze(d,"success");else{d.m=6;try{var K=2<Dn(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",kl(d)}}finally{js(d)}}}}function js(d,y){if(d.g){$n(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||ze(d,"ready");try{E.onreadystatechange=R}catch{}}}function $n(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Dn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Fn(y)}};function Il(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function If(d){const y={};d=(d.g&&2<=Dn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(M(d[R]))continue;var E=$(d[R]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[j]||[];y[j]=K,K.push(E)}D(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function Pu(d){this.Aa=0,this.i=[],this.j=new jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=di("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=di("baseRetryDelayMs",5e3,d),this.cb=di("retryDelaySeedMs",1e4,d),this.Wa=di("forwardChannelMaxRetries",2,d),this.wa=di("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new gl(d&&d.concurrentRequestLimit),this.Da=new Tl,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pu.prototype,t.la=8,t.G=1,t.connect=function(d,y,E,R){dn(0),this.W=d,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Qs(this,null,this.W),Qi(this)};function Ws(d){if(Du(d),d.G==3){var y=d.U++,E=$t(d.I);if(Ue(E,"SID",d.K),Ue(E,"RID",y),Ue(E,"TYPE","terminate"),Yo(d,E),y=new yr(d,d.j,y),y.L=2,y.v=sr($t(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&l.Image&&(new Image().src=y.v,E=!0),E||(y.g=Ou(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Fs(y)}Mu(d)}function qs(d){d.g&&(Zs(d),d.g.cancel(),d.g=null)}function Du(d){qs(d),d.u&&(l.clearTimeout(d.u),d.u=null),Ys(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function Qi(d){if(!ml(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ve||Ee(),le||(Ve(),le=!0),Ot.add(y,d),d.B=0}}function xf(d,y){return qi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ho(v(d.Ga,d,y),Dl(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new yr(this,this.j,d);let K=this.o;if(this.S&&(K?(K=k(K),F(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=xl(this,j,y),E=$t(this.I),Ue(E,"RID",d),Ue(E,"CVER",22),this.D&&Ue(E,"X-HTTP-Session-Id",this.D),Yo(this,E),K&&(this.O?y="headers="+encodeURIComponent(String(Al(K)))+"&"+y:this.m&&Hs(E,this.m,K)),Tt(this.h,j),this.Ua&&Ue(E,"TYPE","init"),this.P?(Ue(E,"$req",y),Ue(E,"SID","null"),j.T=!0,hl(j,E,null)):hl(j,E,y),this.G=2}}else this.G==3&&(d?Xn(this,d):this.i.length==0||ml(this.h)||Xn(this))};function Xn(d,y){var E;y?E=y.l:E=d.U++;const R=$t(d.I);Ue(R,"SID",d.K),Ue(R,"RID",E),Ue(R,"AID",d.T),Yo(d,R),d.m&&d.o&&Hs(R,d.m,d.o),E=new yr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=xl(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Tt(d.h,E),hl(E,R,y)}function Yo(d,y){d.H&&se(d.H,function(E,R){Ue(y,R,E)}),d.l&&qe({},function(E,R){Ue(y,R,E)})}function xl(d,y,E){E=Math.min(d.i.length,E);var R=d.l?v(d.l.Na,d.l,d):null;e:{var j=d.i;let K=-1;for(;;){const ue=["count="+E];K==-1?0<E?(K=j[0].g,ue.push("ofs="+K)):K=0:ue.push("ofs="+K);let bt=!0;for(let Kt=0;Kt<E;Kt++){let ht=j[Kt].g;const Et=j[Kt].map;if(ht-=K,0>ht)K=Math.max(0,j[Kt].g-100),bt=!1;else try{Cl(Et,ue,"req"+ht+"_")}catch{R&&R(Et)}}if(bt){R=ue.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,R}function Er(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ve||Ee(),le||(Ve(),le=!0),Ot.add(y,d),d.v=0}}function Gs(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ho(v(d.Fa,d),Dl(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ks(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ho(v(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),qs(this),Ks(this))};function Zs(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function Ks(d){d.g=new yr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=$t(d.qa);Ue(y,"RID","rpc"),Ue(y,"SID",d.K),Ue(y,"AID",d.T),Ue(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ue(y,"TO",d.ja),Ue(y,"TYPE","xmlhttp"),Yo(d,y),d.m&&d.o&&Hs(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=sr($t(y)),E.m=null,E.P=!0,fl(E,d)}t.Za=function(){this.C!=null&&(this.C=null,qs(this),Gs(this),dn(19))};function Ys(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Pl(d,y){var E=null;if(d.g==y){Ys(d),Zs(d),d.g=null;var R=2}else if(ot(d.h,y))E=y.D,Ko(d.h,y),R=1;else return;if(d.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var j=d.B;R=Os(),ze(R,new bu(R,E)),Qi(d)}else Er(d);else if(j=y.s,j==3||j==0&&0<y.X||!(R==1&&xf(d,y)||R==2&&Gs(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),j){case 1:hi(d,5);break;case 4:hi(d,10);break;case 3:hi(d,6);break;default:hi(d,2)}}}function Dl(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function hi(d,y){if(d.j.info("Error code "+y),y==2){var E=v(d.fb,d),R=d.Xa;const j=!R;R=new or(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$s(R,"https"),sr(R),j?wt(R.toString(),E):ku(R.toString(),E)}else dn(2);d.G=0,d.l&&d.l.sa(y),Mu(d),Du(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function Mu(d){if(d.G=0,d.ka=[],d.l){const y=li(d.h);(y.length!=0||d.i.length!=0)&&(A(d.ka,y),A(d.ka,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.ra()}}function Qs(d,y,E){var R=E instanceof or?$t(E):new or(E);if(R.g!="")y&&(R.g=y+"."+R.g),ci(R,R.s);else{var j=l.location;R=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new or(null);R&&$s(K,R),y&&(K.g=y),j&&ci(K,j),E&&(K.l=E),R=K}return E=d.D,y=d.ya,E&&y&&Ue(R,E,y),Ue(R,"VER",d.la),Yo(d,R),R}function Ou(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Dt(new cr({eb:E})):new Dt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ml(){}t=Ml.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qo(){}Qo.prototype.g=function(d,y){return new an(d,y)};function an(d,y){Ae.call(this),this.g=new Pu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!M(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new ur(this)}S(an,Ae),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ws(this.g)},an.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Zt(d),d=E);y.i.push(new Zo(y.Ya++,d)),y.G==3&&Qi(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,an.aa.N.call(this)};function Nr(d){Ms.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}S(Nr,Ms);function Nu(){ul.call(this),this.status=1}S(Nu,ul);function ur(d){this.g=d}S(ur,Ml),ur.prototype.ua=function(){ze(this.g,"a")},ur.prototype.ta=function(d){ze(this.g,new Nr(d))},ur.prototype.sa=function(d){ze(this.g,new Nu)},ur.prototype.ra=function(){ze(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,GS=function(){return new Qo},qS=function(){return Os()},WS=oi,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wo.NO_ERROR=0,Wo.TIMEOUT=8,Wo.HTTP_ERROR=6,Cd=Wo,Ls.COMPLETE="complete",jS=Ls,cl.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,ql=cl,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,HS=Dt}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const nb="@firebase/firestore",rb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new hm("@firebase/firestore");function ua(){return ys.logLevel}function we(t,...e){if(ys.logLevel<=st.DEBUG){const n=e.map(Sm);ys.debug(`Firestore (${Ja}): ${t}`,...n)}}function Vi(t,...e){if(ys.logLevel<=st.ERROR){const n=e.map(Sm);ys.error(`Firestore (${Ja}): ${t}`,...n)}}function Fa(t,...e){if(ys.logLevel<=st.WARN){const n=e.map(Sm);ys.warn(`Firestore (${Ja}): ${t}`,...n)}}function Sm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZS(t,r,n)}function ZS(t,e,n){let r=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vi(r),new Error(r)}function _t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ZS(e,i,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class yL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bL{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Eo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Eo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new KS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class wL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ib{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ib(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ib(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=TL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function ig(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return rp(i)===rp(o)?at(i,o):rp(i)?1:-1}return at(t.length,e.length)}const CL=55296,AL=57343;function rp(t){const e=t.charCodeAt(0);return e>=CL&&e<=AL}function $a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="__name__";class Ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ur.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return at(e.length,n.length)}static compareSegments(e,n){const r=Ur.isNumericId(e),i=Ur.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ur.extractNumericId(e).compare(Ur.extractNumericId(n)):ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class Rt extends Ur{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const RL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Ur{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return RL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ob}static keyField(){return new mn([ob])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new _e(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new _e(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new _e(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new _e(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Rt.fromString(e))}static fromName(e){return new Re(Rt.fromString(e).popFirst(5))}static empty(){return new Re(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e,n){if(!n)throw new _e(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kL(t,e,n,r){if(e===!0&&r===!0)throw new _e(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sb(t){if(!Re.isDocumentKey(t))throw new _e(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ab(t){if(Re.isDocumentKey(t))throw new _e(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function QS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(t);throw new _e(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function ru(t,e){if(!QS(t))throw new _e(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new _e(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=-62135596800,cb=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cb);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lb)throw new _e(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cb}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:en("string",St._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new St(0,0))}static max(){return new He(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=-1;function IL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Ro(i,Re.empty(),e)}function xL(t){return new Ro(t.readTime,t.key,Mc)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(He.min(),Re.empty(),Mc)}static max(){return new Ro(He.max(),Re.empty(),Mc)}}function PL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ML{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==DL)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(f=>{s[h]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new ne((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function OL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=-1;function tf(t){return t==null}function ih(t){return t===0&&1/t==-1/0}function NL(t){return typeof t=="number"&&Number.isInteger(t)&&!ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="";function LL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ub(e)),e=BL(t.get(n),e);return ub(e)}function BL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case XS:n+="";break;default:n+=o}}return n}function ub(t){return t+XS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??hn.RED,this.left=i??hn.EMPTY,this.right=o??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new hn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hb(this.data.getIterator())}getIteratorFrom(e){return new hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new er([])}unionWith(e){let n=new rn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eT("Invalid base64 string: "+o):o}}(e);return new vn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const VL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=VL.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="server_timestamp",nT="__type__",rT="__previous_value__",iT="__local_write_time__";function Am(t){return(t?.mapValue?.fields||{})[nT]?.stringValue===tT}function nf(t){const e=t.mapValue.fields[rT];return Am(e)?nf(e):e}function Oc(t){const e=ko(t.mapValue.fields[iT].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,i,o,s,l,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const oh="(default)";class Nc{constructor(e,n){this.projectId=e,this.database=n||oh}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__type__",$L="__max__",rd={mapValue:{}},sT="__vector__",sh="value";function xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Am(t)?4:zL(t)?9007199254740991:UL(t)?10:11:Be(28295,{value:t})}function ti(t,e){if(t===e)return!0;const n=xo(t);if(n!==xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ko(i.timestampValue),l=ko(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Io(i.bytesValue).isEqual(Io(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return jt(i.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return jt(i.integerValue)===jt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=jt(i.doubleValue),l=jt(o.doubleValue);return s===l?ih(s)===ih(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(db(s)!==db(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!ti(s[u],l[u])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function Lc(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function Ua(t,e){if(t===e)return 0;const n=xo(t),r=xo(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=jt(o.integerValue||o.doubleValue),u=jt(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return fb(t.timestampValue,e.timestampValue);case 4:return fb(Oc(t),Oc(e));case 5:return ig(t.stringValue,e.stringValue);case 6:return function(o,s){const l=Io(o),u=Io(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=at(l[h],u[h]);if(f!==0)return f}return at(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=at(jt(o.latitude),jt(s.latitude));return l!==0?l:at(jt(o.longitude),jt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pb(t.arrayValue,e.arrayValue);case 10:return function(o,s){const l=o.fields||{},u=s.fields||{},h=l[sh]?.arrayValue,f=u[sh]?.arrayValue,g=at(h?.values?.length||0,f?.values?.length||0);return g!==0?g:pb(h,f)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===rd.mapValue&&s===rd.mapValue)return 0;if(o===rd.mapValue)return 1;if(s===rd.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=s.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const v=ig(u[g],f[g]);if(v!==0)return v;const _=Ua(l[u[g]],h[f[g]]);if(_!==0)return _}return at(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=ko(t),r=ko(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function pb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ua(n[i],r[i]);if(o)return o}return at(n.length,r.length)}function za(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=og(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${og(n.fields[s])}`;return i+"}"}(t.mapValue):Be(61005,{value:t})}function Ad(t){switch(xo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(t);return e?16+Ad(e):16;case 5:return 2*t.stringValue.length;case 6:return Io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ad(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Vo(r.fields,(o,s)=>{i+=o.length+Ad(s)}),i}(t.mapValue);default:throw Be(13486,{value:t})}}function gb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sg(t){return!!t&&"integerValue"in t}function Rm(t){return!!t&&"arrayValue"in t}function mb(t){return!!t&&"nullValue"in t}function vb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rd(t){return!!t&&"mapValue"in t}function UL(t){return(t?.mapValue?.fields||{})[oT]?.stringValue===sT}function uc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return{...t}}function zL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$L}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=mn.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=uc(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Wn(uc(this.value))}}function aT(t){const e=[];return Vo(t.fields,(n,r)=>{const i=new mn([n]);if(Rd(r)){const o=aT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Tn(e,0,He.min(),He.min(),He.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Tn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Tn(e,2,n,He.min(),He.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,He.min(),He.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function _b(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(s.referenceValue),n.key):r=Ua(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function HL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{}class Jt extends lT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WL(e,n,r):n==="array-contains"?new ZL(e,r):n==="in"?new KL(e,r):n==="not-in"?new YL(e,r):n==="array-contains-any"?new QL(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qL(e,r):new GL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ua(n,this.value)):n!==null&&xo(this.value)===xo(n)&&this.matchesComparison(Ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends lT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xr(e,n)}matches(e){return cT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(t){return t.op==="and"}function uT(t){return jL(t)&&cT(t)}function jL(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function ag(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+za(t.value);if(uT(t))return t.filters.map(e=>ag(e)).join(",");{const e=t.filters.map(n=>ag(n)).join(",");return`${t.op}(${e})`}}function dT(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&ti(r.value,i.value)}(t,e):t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&dT(s,i.filters[l]),!0):!1}(t,e):void Be(19439)}function hT(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${za(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(t):"Filter"}class WL extends Jt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class qL extends Jt{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GL extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fT(t,e){return(e.arrayValue?.values||[]).map(n=>Re.fromName(n.referenceValue))}class ZL extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rm(n)&&Lc(n.arrayValue,this.value)}}class KL extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class YL extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lc(this.value.arrayValue,n)}}class QL extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Te=null}}function bb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new XL(t,e,n,r,i,o,s)}function km(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>za(r)).join(",")),e.Te=n}return e.Te}function Im(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yb(t.startAt,e.startAt)&&yb(t.endAt,e.endAt)}function lg(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JL(t,e,n,r,i,o,s,l){return new nl(t,e,n,r,i,o,s,l)}function xm(t){return new nl(t)}function wb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pT(t){return t.collectionGroup!==null}function dc(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new rn(mn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Bc(o,r))}),n.has(mn.keyField().canonicalString())||e.Ie.push(new Bc(mn.keyField(),r))}return e.Ie}function Zr(t){const e=je(t);return e.Ee||(e.Ee=e2(e,dc(t))),e.Ee}function e2(t,e){if(t.limitType==="F")return bb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Bc(i.field,o)});const n=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;return bb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cg(t,e){const n=t.filters.concat([e]);return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ug(t,e,n){return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return Im(Zr(t),Zr(e))&&t.limitType===e.limitType}function gT(t){return`${km(Zr(t))}|lt:${t.limitType}`}function da(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hT(i)).join(", ")}]`),tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>za(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>za(i)).join(",")),`Target(${r})`}(Zr(t))}; limitType=${t.limitType})`}function of(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of dc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const h=_b(s,l,u);return s.inclusive?h<=0:h<0}(r.startAt,dc(r),i)||r.endAt&&!function(s,l,u){const h=_b(s,l,u);return s.inclusive?h>=0:h>0}(r.endAt,dc(r),i))}(t,e)}function t2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mT(t){return(e,n)=>{let r=!1;for(const i of dc(t)){const o=n2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function n2(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),h=l.data.field(o);return u!==null&&h!==null?Ua(u,h):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Vt(Re.comparator);function Fi(){return r2}const vT=new Vt(Re.comparator);function Gl(...t){let e=vT;for(const n of t)e=e.insert(n.key,n);return e}function _T(t){let e=vT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return hc()}function yT(){return hc()}function hc(){return new ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const i2=new Vt(Re.comparator),o2=new rn(Re.comparator);function lt(...t){let e=o2;for(const n of t)e=e.add(n);return e}const s2=new rn(at);function a2(){return s2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function bT(t){return{integerValue:""+t}}function l2(t,e){return NL(e)?bT(e):Pm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function c2(t,e,n){return t instanceof lh?function(i,o){const s={fields:{[nT]:{stringValue:tT},[iT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Am(o)&&(o=nf(o)),o&&(s.fields[rT]=o),{mapValue:s}}(n,e):t instanceof Vc?ET(t,e):t instanceof Fc?ST(t,e):function(i,o){const s=wT(i,o),l=Eb(s)+Eb(i.Ae);return sg(s)&&sg(i.Ae)?bT(l):Pm(i.serializer,l)}(t,e)}function u2(t,e,n){return t instanceof Vc?ET(t,e):t instanceof Fc?ST(t,e):n}function wT(t,e){return t instanceof ch?function(r){return sg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class lh extends sf{}class Vc extends sf{constructor(e){super(),this.elements=e}}function ET(t,e){const n=TT(e);for(const r of t.elements)n.some(i=>ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fc extends sf{constructor(e){super(),this.elements=e}}function ST(t,e){let n=TT(e);for(const r of t.elements)n=n.filter(i=>!ti(i,r));return{arrayValue:{values:n}}}class ch extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Eb(t){return jt(t.integerValue||t.doubleValue)}function TT(t){return Rm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function d2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vc&&i instanceof Vc||r instanceof Fc&&i instanceof Fc?$a(r.elements,i.elements,ti):r instanceof ch&&i instanceof ch?ti(r.Ae,i.Ae):r instanceof lh&&i instanceof lh}(t.transform,e.transform)}class h2{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class af{}function CT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new RT(t.key,Kr.none()):new iu(t.key,t.data,Kr.none());{const n=t.data,r=Wn.empty();let i=new rn(mn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fo(t.key,r,new er(i.toArray()),Kr.none())}}function f2(t,e,n){t instanceof iu?function(i,o,s){const l=i.value.clone(),u=Tb(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,s){if(!kd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=Tb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(AT(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fc(t,e,n,r){return t instanceof iu?function(o,s,l,u){if(!kd(o.precondition,s))return l;const h=o.value.clone(),f=Cb(o.fieldTransforms,u,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,s,l,u){if(!kd(o.precondition,s))return l;const h=Cb(o.fieldTransforms,u,s),f=s.data;return f.setAll(AT(o)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,l){return kd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function p2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=wT(r.transform,i||null);o!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,o))}return n||null}function Sb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$a(r,i,(o,s)=>d2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends af{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends af{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Tb(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,u2(s,l,n[i]))}return r}function Cb(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,c2(o,s,e))}return r}class RT extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&f2(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=CT(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,r)=>Sb(n,r))&&$a(this.baseMutations,e.baseMutations,(n,r)=>Sb(n,r))}}class Dm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return i2}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Dm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,ft;function y2(t){switch(t){case ee.OK:return Be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function kT(t){if(t===void 0)return Vi("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Qt.OK:return ee.OK;case Qt.CANCELLED:return ee.CANCELLED;case Qt.UNKNOWN:return ee.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ee.INTERNAL;case Qt.UNAVAILABLE:return ee.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ee.NOT_FOUND;case Qt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Qt.ABORTED:return ee.ABORTED;case Qt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Qt.DATA_LOSS:return ee.DATA_LOSS;default:return Be(39323,{code:t})}}(ft=Qt||(Qt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new wo([4294967295,4294967295],0);function Ab(t){const e=b2().encode(t),n=new zS;return n.update(e),new Uint8Array(n.digest())}function Rb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([i,o],0)]}class Mm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(wo.fromNumber(r)));return i.compare(w2)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ab(e),[r,i]=Rb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Mm(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.ge===0)return;const n=Ab(e),[r,i]=Rb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lf(He.min(),i,new Vt(at),Fi(),lt())}}class ou{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ou(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class IT{constructor(e,n){this.targetId=e,this.Ce=n}}class xT{constructor(e,n,r=vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kb{constructor(){this.ve=0,this.Fe=Ib(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),r=lt();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:o})}}),new ou(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ib()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fi(),this.Je=id(),this.He=id(),this.Ye=new Vt(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(lg(o))if(r===0){const s=new Re(o.path);this.et(n,s,Tn.newNoDocument(s,He.min()))}else _t(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),u=l?this.ct(l,e,s):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=Io(r).toUint8Array()}catch(u){if(u instanceof eT)return Fa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Mm(s,i,o)}catch(u){return Fa(u instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const l=this.ot(s);if(l){if(o.current&&lg(l.target)){const u=new Re(l.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Tn.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=lt();this.He.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new lf(e,n,this.Ye,this.je,r);return this.je=Fi(),this.Je=id(),this.He=id(),this.Ye=new Vt(at),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function id(){return new Vt(Re.comparator)}function Ib(){return new Vt(Re.comparator)}const S2={asc:"ASCENDING",desc:"DESCENDING"},T2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2={and:"AND",or:"OR"};class A2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||tf(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R2(t,e){return uh(t,e.toTimestamp())}function Yr(t){return _t(!!t,49232),He.fromTimestamp(function(n){const r=ko(n);return new St(r.seconds,r.nanos)}(t))}function Om(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DT(t){const e=Rt.fromString(t);return _t(BT(e),10190,{key:e.toString()}),e}function fg(t,e){return Om(t.databaseId,e.path)}function ip(t,e){const n=DT(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(OT(n))}function MT(t,e){return Om(t.databaseId,e)}function k2(t){const e=DT(t);return e.length===4?Rt.emptyPath():OT(e)}function pg(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OT(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xb(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function I2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(_t(f===void 0||typeof f=="string",58123),vn.fromBase64String(f||"")):(_t(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),vn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(h){const f=h.code===void 0?ee.UNKNOWN:kT(h.code);return new _e(f,h.message||"")}(s);n=new xT(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ip(t,r.document.name),o=Yr(r.document.updateTime),s=r.document.createTime?Yr(r.document.createTime):He.min(),l=new Wn({mapValue:{fields:r.document.fields}}),u=Tn.newFoundDocument(i,o,s,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Id(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ip(t,r.document),o=r.readTime?Yr(r.readTime):He.min(),s=Tn.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Id([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ip(t,r.document),o=r.removedTargetIds||[];n=new Id([],o,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new _2(i,o),l=r.targetId;n=new IT(l,s)}}return n}function x2(t,e){let n;if(e instanceof iu)n={update:xb(t,e.key,e.value)};else if(e instanceof RT)n={delete:fg(t,e.key)};else if(e instanceof Fo)n={update:xb(t,e.key,e.data),updateMask:F2(e.fieldMask)};else{if(!(e instanceof g2))return Be(16599,{Vt:e.type});n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof lh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Vc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ch)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Be(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:R2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Be(27497)}(t,e.precondition)),n}function P2(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Yr(i.updateTime):Yr(o);return s.isEqual(He.min())&&(s=Yr(o)),new h2(s,i.transformResults||[])}(n,e))):[]}function D2(t,e){return{documents:[MT(t,e.path)]}}function M2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MT(t,i);const o=function(h){if(h.length!==0)return LT(xr.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:ha(v.field),direction:L2(v.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=dg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function O2(t){let e=k2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(g){const v=NT(g);return v instanceof xr&&uT(v)?v.getFilters():[v]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(v=>function(S){return new Bc(fa(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(n.orderBy));let l=null;n.limit&&(l=function(g){let v;return v=typeof g=="object"?g.value:g,tf(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(g){const v=!!g.before,_=g.values||[];return new ah(_,v)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const v=!g.before,_=g.values||[];return new ah(_,v)}(n.endAt)),JL(e,i,s,o,l,"F",u,h)}function N2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fa(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fa(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fa(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fa(n.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(fa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>NT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function L2(t){return S2[t]}function B2(t){return T2[t]}function V2(t){return C2[t]}function ha(t){return{fieldPath:t.canonicalString()}}function fa(t){return mn.fromServerFormat(t.fieldPath)}function LT(t){return t instanceof Jt?function(n){if(n.op==="=="){if(vb(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NAN"}};if(mb(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vb(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NOT_NAN"}};if(mb(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ha(n.field),op:B2(n.op),value:n.value}}}(t):t instanceof xr?function(n){const r=n.getFilters().map(i=>LT(i));return r.length===1?r[0]:{compositeFilter:{op:V2(n.op),filters:r}}}(t):Be(54877,{filter:t})}function F2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r,i,o=He.min(),s=He.min(),l=vn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.yt=e}}function U2(t){const e=O2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.Cn=new H2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ro.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class H2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(Rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(VT,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ha(0)}static cr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="LruGarbageCollector",j2=1048576;function Mb([t,e],[n,r]){const i=at(t,n);return i===0?at(e,r):i}class W2{constructor(e){this.Ir=e,this.buffer=new rn(Mb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Mb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(Db,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?we(Db,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.Vr(3e5)})}}class G2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(ef.ce);const r=new W2(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Pb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,l=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),ua()<=st.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function Z2(t,e){return new G2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.changes=new ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fc(r.mutation,i,er.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gl();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Fi();const s=hc(),l=function(){return hc()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Fo)?o=o.insert(h.key,h):f!==void 0?(s.set(h.key,f.mutation.getFieldMask()),fc(f.mutation,h,f.mutation.getFieldMask(),St.now())):s.set(h.key,er.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>s.set(h,f)),n.forEach((h,f)=>l.set(h,new Y2(f,s.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const r=hc();let i=new Vt((s,l)=>s-l),o=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||er.empty();f=l.applyToLocalView(h,f),r.set(u,f);const g=(i.get(l.batchId)||lt()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,g=yT();f.forEach(v=>{if(!o.has(v)){const _=CT(n.get(v),r.get(v));_!==null&&g.set(v,_),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ne.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ne.resolve(ss());let l=Mc,u=o;return s.next(h=>ne.forEach(h,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),o.get(f)?ne.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,lt())).next(f=>({batchId:l,changes:_T(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Gl();return this.indexManager.getCollectionParents(e,o).next(l=>ne.forEach(l,u=>{const h=function(g,v){return new nl(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{const f=h.getKey();s.get(f)===null&&(s=s.insert(f,Tn.newInvalidDocument(f)))});let l=Gl();return s.forEach((u,h)=>{const f=o.get(u);f!==void 0&&fc(f.mutation,h,er.empty(),St.now()),of(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:U2(i.bundledQuery),readTime:Yr(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.overlays=new Vt(Re.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=ss(),o=n.length+1,s=new Re(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt((h,f)=>h-f);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=ss(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=ss(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return ne.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new v2(n,r));let o=this.qr.get(n);o===void 0&&(o=lt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.Qr=new rn(cn.$r),this.Ur=new rn(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new cn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Re(new Rt([])),r=new cn(n,e),i=new cn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new Rt([])),r=new cn(n,e),i=new cn(n,e+1);let o=lt();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new cn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(cn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new m2(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Zr=this.Zr.add(new cn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ne.resolve(s)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),i=new cn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const l=this.Xr(s.Yr);o.push(l)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(at);return n.forEach(i=>{const o=new cn(i,0),s=new cn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],l=>{r=r.add(l.Yr)})}),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const s=new cn(new Re(o),0);let l=new rn(at);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.Yr)),!0)},s),ne.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,i=>{const o=new cn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new cn(n,0),i=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.ri=e,this.docs=function(){return new Vt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Fi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fi();const s=n.path,l=new Re(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||PL(xL(f),r)<=0||(i.has(f.key)||of(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Be(9500)}ii(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rB(this)}getSize(e){return ne.resolve(this.size)}}class rB extends K2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.persistence=e,this.si=new ks(n=>km(n),Im),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new Nm,this.targetCount=0,this.ai=Ha.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ne.waitFor(o).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.ui={},this.overlays={},this.ci=new ef(0),this.li=!1,this.li=!0,this.hi=new eB,this.referenceDelegate=e(this),this.Pi=new iB(this),this.indexManager=new z2,this.remoteDocumentCache=function(i){return new nB(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new $2(n),this.Ii=new X2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new tB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new oB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return ne.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class oB extends ML{constructor(e){super(),this.currentSequenceNumber=e}}class Lm{constructor(e){this.persistence=e,this.Ri=new Nm,this.Vi=null}static mi(e){return new Lm(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,r=>{const i=Re.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,He.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.pi=new ks(r=>LL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Z2(this,n)}static mi(e,n){return new dh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?ne.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(l=>{l||(r++,o.removeEntry(s,He.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ad(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=lt(),i=lt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Bm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return VD()?8:OL(In())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new sB;return this.Ss(e,n,s).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,s,l.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ua()<=st.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ua()<=st.DEBUG&&we("QueryEngine","Query:",da(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ua()<=st.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):ne.resolve())}ys(e,n){if(wb(n))return ne.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ug(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=lt(...o);return this.ps.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,l);return this.Cs(n,h,s,u.readTime)?this.ys(e,ug(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,i){return wb(n)||i.isEqual(He.min())?ne.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?ne.resolve(null):(ua()<=st.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),da(n)),this.vs(e,s,n,IL(i,Mc)).next(l=>l))})}Ds(e,n){let r=new rn(mT(e));return n.forEach((i,o)=>{of(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return ua()<=st.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",da(n)),this.ps.getDocumentsMatchingQuery(e,n,Ro.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="LocalStore",lB=3e8;class cB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Vt(at),this.xs=new ks(o=>km(o),Im),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function uB(t,e,n,r){return new cB(t,e,n,r)}async function $T(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=lt();for(const h of i){s.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of o){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:s,addedBatchIds:l}))})})}function dB(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const g=h.batch,v=g.keys();let _=ne.resolve();return v.forEach(S=>{_=_.next(()=>f.getEntry(u,S)).next(T=>{const A=h.docVersions.get(S);_t(A!==null,48541),T.version.compareTo(A)<0&&(g.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),f.addEntry(T)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=lt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UT(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hB(t,e){const n=je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((f,g)=>{const v=i.get(g);if(!v)return;l.push(n.Pi.removeMatchingKeys(o,f.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(o,f.addedDocuments,g)));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(vn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(g,_),function(T,A,P){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=lB?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(v,_,f)&&l.push(n.Pi.updateTargetData(o,_))});let u=Fi(),h=lt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(fB(o,s,e.documentUpdates).next(f=>{u=f.ks,h=f.qs})),!r.isEqual(He.min())){const f=n.Pi.getLastRemoteSnapshotVersion(o).next(g=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return ne.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.Ms=i,o))}function fB(t,e,n){let r=lt(),i=lt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fi();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(He.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):we(Vm,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:s,qs:i}})}function pB(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gB(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,ne.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new fo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function gg(t,e,n){const r=je(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!tl(s))throw s;we(Vm,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Ob(t,e,n){const r=je(t);let i=He.min(),o=lt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,f){const g=je(u),v=g.xs.get(f);return v!==void 0?ne.resolve(g.Ms.get(v)):g.Pi.getTargetData(h,f)}(r,s,Zr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:He.min(),n?o:lt())).next(l=>(mB(r,t2(e),l),{documents:l,Qs:o})))}function mB(t,e,n){let r=t.Os.get(e)||He.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class Nb{constructor(){this.activeTargetIds=a2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vB{constructor(){this.Mo=new Nb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Nb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="ConnectivityMonitor";class Bb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(Lb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(Lb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od=null;function mg(){return od===null?od=function(){return 268435456+Math.round(2147483648*Math.random())}():od++,"0x"+od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="RestConnection",yB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=mg(),l=this.zo(e,n.toUriEncodedString());we(op,`Sending RPC '${e}' ${s}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);const{host:h}=new URL(l),f=Ya(h);return this.Jo(e,l,u,r,f).then(g=>(we(op,`Received RPC '${e}' ${s}: `,g),g),g=>{throw Fa(op,`RPC '${e}' ${s} failed with error: `,g,"url: ",l,"request:",r),g})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ja}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=yB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class EB extends bB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=mg();return new Promise((l,u)=>{const h=new HS;h.setWithCredentials(!0),h.listenOnce(jS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Cd.NO_ERROR:const g=h.getResponseJson();we(yn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),l(g);break;case Cd.TIMEOUT:we(yn,`RPC '${e}' ${s} timed out`),u(new _e(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const v=h.getStatus();if(we(yn,`RPC '${e}' ${s} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const T=function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(M)>=0?M:ee.UNKNOWN}(S.status);u(new _e(T,S.message))}else u(new _e(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new _e(ee.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{we(yn,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);we(yn,`RPC '${e}' ${s} sending request:`,i),h.send(n,"POST",f,r,15)})}T_(e,n,r){const i=mg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=GS(),l=qS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");we(yn,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=s.createWebChannel(f,u);this.I_(g);let v=!1,_=!1;const S=new wB({Yo:A=>{_?we(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(we(yn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),we(yn,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),T=(A,P,M)=>{A.listen(P,U=>{try{M(U)}catch(q){setTimeout(()=>{throw q},0)}})};return T(g,ql.EventType.OPEN,()=>{_||(we(yn,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),T(g,ql.EventType.CLOSE,()=>{_||(_=!0,we(yn,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(g))}),T(g,ql.EventType.ERROR,A=>{_||(_=!0,Fa(yn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new _e(ee.UNAVAILABLE,"The operation could not be completed")))}),T(g,ql.EventType.MESSAGE,A=>{if(!_){const P=A.data[0];_t(!!P,16349);const M=P,U=M?.error||M[0]?.error;if(U){we(yn,`RPC '${e}' stream ${i} received error:`,U);const q=U.status;let oe=function(k){const I=Qt[k];if(I!==void 0)return kT(I)}(q),se=U.message;oe===void 0&&(oe=ee.INTERNAL,se="Unknown error status: "+q+" with message "+U.message),_=!0,S.a_(new _e(oe,se)),g.close()}else we(yn,`RPC '${e}' stream ${i} received:`,P),S.u_(P)}}),T(l,WS.STAT_EVENT,A=>{A.stat===rg.PROXY?we(yn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===rg.NOPROXY&&we(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){return new A2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="PersistentStream";class HT{constructor(e,n,r,i,o,s,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new _e(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return we(Vb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(we(Vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SB extends HT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=I2(this.serializer,e),r=function(o){if(!("targetChange"in o))return He.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?He.min():s.readTime?Yr(s.readTime):He.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pg(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=lg(u)?{documents:D2(o,u)}:{query:M2(o,u).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=PT(o,s.resumeToken);const h=dg(o,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(He.min())>0){l.readTime=uh(o,s.snapshotVersion.toTimestamp());const h=dg(o,s.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=N2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.q_(n)}}class TB extends HT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=P2(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x2(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{}class AB extends CB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new _e(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,hg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ee.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Ho(e,hg(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(ee.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class kB{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Is(this)&&(we(bs,"Restarting streams for network reachability change."),await async function(u){const h=je(u);h.Ea.add(4),await su(h),h.Ra.set("Unknown"),h.Ea.delete(4),await uf(h)}(this))})}),this.Ra=new RB(r,i)}}async function uf(t){if(Is(t))for(const e of t.da)await e(!0)}async function su(t){for(const e of t.da)await e(!1)}function jT(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zm(n)?Um(n):rl(n).O_()&&$m(n,e))}function Fm(t,e){const n=je(t),r=rl(n);n.Ia.delete(e),r.O_()&&WT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Is(n)&&n.Ra.set("Unknown"))}function $m(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).Y_(e)}function WT(t,e){t.Va.Ue(e),rl(t).Z_(e)}function Um(t){t.Va=new E2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.Ra.ua()}function zm(t){return Is(t)&&!rl(t).x_()&&t.Ia.size>0}function Is(t){return je(t).Ea.size===0}function qT(t){t.Va=void 0}async function IB(t){t.Ra.set("Online")}async function xB(t){t.Ia.forEach((e,n)=>{$m(t,e)})}async function PB(t,e){qT(t),zm(t)?(t.Ra.ha(e),Um(t)):t.Ra.set("Unknown")}async function DB(t,e,n){if(t.Ra.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){we(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof Id?t.Va.Ze(e):e instanceof IT?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await UT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Va.Tt(s);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.Ia.get(h);f&&o.Ia.set(h,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,h)=>{const f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(vn.EMPTY_BYTE_STRING,f.snapshotVersion)),WT(o,u);const g=new fo(f.target,u,h,f.sequenceNumber);$m(o,g)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){we(bs,"Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!tl(e))throw e;t.Ea.add(1),await su(t),t.Ra.set("Offline"),n||(n=()=>UT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(bs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await uf(t)})}function GT(t,e){return e().catch(n=>hh(t,n,e))}async function df(t){const e=je(t),n=Po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cm;for(;MB(e);)try{const i=await pB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,OB(e,i)}catch(i){await hh(e,i)}ZT(e)&&KT(e)}function MB(t){return Is(t)&&t.Ta.length<10}function OB(t,e){t.Ta.push(e);const n=Po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZT(t){return Is(t)&&!Po(t).x_()&&t.Ta.length>0}function KT(t){Po(t).start()}async function NB(t){Po(t).ra()}async function LB(t){const e=Po(t);for(const n of t.Ta)e.ea(n.mutations)}async function BB(t,e,n){const r=t.Ta.shift(),i=Dm.from(r,e,n);await GT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await df(t)}async function VB(t,e){e&&Po(t).X_&&await async function(r,i){if(function(s){return y2(s)&&s!==ee.ABORTED}(i.code)){const o=r.Ta.shift();Po(r).B_(),await GT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await df(r)}}(t,e),ZT(t)&&KT(t)}async function Fb(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),we(bs,"RemoteStore received new credentials");const r=Is(n);n.Ea.add(3),await su(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function FB(t,e){const n=je(t);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await su(n),n.Ra.set("Unknown"))}function rl(t){return t.ma||(t.ma=function(n,r,i){const o=je(n);return o.sa(),new SB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:IB.bind(null,t),t_:xB.bind(null,t),r_:PB.bind(null,t),H_:DB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),zm(t)?Um(t):t.Ra.set("Unknown")):(await t.ma.stop(),qT(t))})),t.ma}function Po(t){return t.fa||(t.fa=function(n,r,i){const o=je(n);return o.sa(),new TB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NB.bind(null,t),r_:VB.bind(null,t),ta:LB.bind(null,t),na:BB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await df(t)):(await t.fa.stop(),t.Ta.length>0&&(we(bs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new Hm(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),tl(t))return new _e(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(e){return new Ia(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.ga=new Vt(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ja{constructor(e,n,r,i,o,s,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new ja(e,n,Ia.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class UB{constructor(){this.queries=Ub(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=je(n),o=i.queries;i.queries=Ub(),o.forEach((s,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new _e(ee.ABORTED,"Firestore shutting down"))}}function Ub(){return new ks(t=>gT(t),rf)}async function YT(t,e){const n=je(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new $B,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=jm(s,`Initialization of query '${da(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Wm(n)}async function QT(t,e){const n=je(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zB(t,e){const n=je(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.Sa)l.Fa(i)&&(r=!0);s.wa=i}}r&&Wm(n)}function HB(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function Wm(t){t.Ca.forEach(e=>{e.next()})}var vg,zb;(zb=vg||(vg={})).Ma="default",zb.Cache="cache";class XT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.key=e}}class eC{constructor(e){this.key=e}}class jB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=mT(e),this.tu=new Ia(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $b,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const v=i.get(f),_=of(this.query,g)?g:null,S=!!v&&this.mutatedKeys.has(v.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;v&&_?v.data.isEqual(_.data)?S!==T&&(r.track({type:3,doc:_}),A=!0):this.su(v,_)||(r.track({type:2,doc:_}),A=!0,(u&&this.eu(_,u)>0||h&&this.eu(_,h)<0)&&(l=!0)):!v&&_?(r.track({type:0,doc:_}),A=!0):v&&!_&&(r.track({type:1,doc:v}),A=!0,(u||h)&&(l=!0)),A&&(_?(s=s.add(_),o=T?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((f,g)=>function(_,S){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:A})}};return T(_)-T(S)}(f.type,g.type)||this.eu(f.doc,g.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,s.length!==0||h?{snapshot:new ja(this.query,e.tu,o,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new eC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new JT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class WB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qB{constructor(e){this.key=e,this.hu=!1}}class GB{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ks(l=>gT(l),rf),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Re.comparator),this.Au=new Map,this.Ru=new Nm,this.Vu={},this.mu=new Map,this.fu=Ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZB(t,e,n=!0){const r=sC(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await tC(r,e,n,!0),i}async function KB(t,e){const n=sC(t);await tC(n,e,!0,!1)}async function tC(t,e,n,r){const i=await gB(t.localStore,Zr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await YB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&jT(t.remoteStore,i),l}async function YB(t,e,n,r,i){t.pu=(g,v,_)=>async function(T,A,P,M){let U=A.view.ru(P);U.Cs&&(U=await Ob(T.localStore,A.query,!1).then(({documents:D})=>A.view.ru(D,U)));const q=M&&M.targetChanges.get(A.targetId),oe=M&&M.targetMismatches.get(A.targetId)!=null,se=A.view.applyChanges(U,T.isPrimaryClient,q,oe);return jb(T,A.targetId,se.au),se.snapshot}(t,g,v,_);const o=await Ob(t.localStore,e,!0),s=new jB(e,o.Qs),l=s.ru(o.documents),u=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,u);jb(t,n,h.au);const f=new WB(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function QB(t,e,n){const r=je(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!rf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fm(r.remoteStore,i.targetId),_g(r,i.targetId)}).catch(el)):(_g(r,i.targetId),await gg(r.localStore,i.targetId,!0))}async function XB(t,e){const n=je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fm(n.remoteStore,r.targetId))}async function JB(t,e,n){const r=s5(t);try{const i=await function(s,l){const u=je(s),h=St.now(),f=l.reduce((_,S)=>_.add(S.key),lt());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Fi(),T=lt();return u.Ns.getEntries(_,f).next(A=>{S=A,S.forEach((P,M)=>{M.isValidDocument()||(T=T.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,S)).next(A=>{g=A;const P=[];for(const M of l){const U=p2(M,g.get(M.key).overlayedDocument);U!=null&&P.push(new Fo(M.key,U,aT(U.value.mapValue),Kr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,P,l)}).next(A=>{v=A;const P=A.applyToLocalDocumentSet(g,T);return u.documentOverlayCache.saveOverlays(_,A.batchId,P)})}).then(()=>({batchId:v.batchId,changes:_T(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let h=s.Vu[s.currentUser.toKey()];h||(h=new Vt(at)),h=h.insert(l,u),s.Vu[s.currentUser.toKey()]=h}(r,i.batchId,n),await au(r,i.changes),await df(r.remoteStore)}catch(i){const o=jm(i,"Failed to persist write");n.reject(o)}}async function nC(t,e){const n=je(t);try{const r=await hB(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?_t(s.hu,14607):i.removedDocuments.size>0&&(_t(s.hu,42227),s.hu=!1))}),await au(n,r,e)}catch(r){await el(r)}}function Hb(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=je(s);u.onlineState=l;let h=!1;u.queries.forEach((f,g)=>{for(const v of g.Sa)v.va(l)&&(h=!0)}),h&&Wm(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e5(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Vt(Re.comparator);s=s.insert(o,Tn.newNoDocument(o,He.min()));const l=lt().add(o),u=new lf(He.min(),new Map,new Vt(at),s,l);await nC(r,u),r.du=r.du.remove(o),r.Au.delete(e),Gm(r)}else await gg(r.localStore,e,!1).then(()=>_g(r,e,n)).catch(el)}async function t5(t,e){const n=je(t),r=e.batch.batchId;try{const i=await dB(n.localStore,e);iC(n,r,null),rC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,i)}catch(i){await el(i)}}async function n5(t,e,n){const r=je(t);try{const i=await function(s,l){const u=je(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(_t(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);iC(r,e,n),rC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await au(r,i)}catch(i){await el(i)}}function rC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function iC(t,e,n){const r=je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function _g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||oC(t,r)})}function oC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Fm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Gm(t))}function jb(t,e,n){for(const r of n)r instanceof JT?(t.Ru.addReference(r.key,e),r5(t,r)):r instanceof eC?(we(qm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oC(t,r.key)):Be(19791,{wu:r})}function r5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(qm,"New document in limbo: "+n),t.Eu.add(r),Gm(t))}function Gm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(Rt.fromString(e)),r=t.fu.next();t.Au.set(r,new qB(n)),t.du=t.du.insert(n,r),jT(t.remoteStore,new fo(Zr(xm(n.path)),r,"TargetPurposeLimboResolution",ef.ce))}}async function au(t,e,n){const r=je(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{s.push(r.pu(u,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=Bm.As(u.targetId,h);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(u,h){const f=je(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ne.forEach(h,v=>ne.forEach(v.Es,_=>f.persistence.referenceDelegate.addReference(g,v.targetId,_)).next(()=>ne.forEach(v.ds,_=>f.persistence.referenceDelegate.removeReference(g,v.targetId,_)))))}catch(g){if(!tl(g))throw g;we(Vm,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const _=f.Ms.get(v),S=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(v,T)}}}(r.localStore,o))}async function i5(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){we(qm,"User change. New user:",e.toKey());const r=await $T(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(l=>{l.forEach(u=>{u.reject(new _e(ee.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(n,r.Ls)}}function o5(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function sC(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e5.bind(null,e),e.Pu.H_=zB.bind(null,e.eventManager),e.Pu.yu=HB.bind(null,e.eventManager),e}function s5(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n5.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uB(this.persistence,new aB,e.initialUser,this.serializer)}Cu(e){return new FT(Lm.mi,this.serializer)}Du(e){return new vB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class a5 extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new q2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new FT(r=>dh.mi(r,n),this.serializer)}}class yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=i5.bind(null,this.syncEngine),await FB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UB}()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),r=function(o){return new EB(o)}(e.databaseInfo);return function(o,s,l,u){return new AB(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new kB(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Hb(this.syncEngine,n,0),function(){return Bb.v()?new Bb:new _B}())}createSyncEngine(e,n){return function(i,o,s,l,u,h,f){const g=new GB(i,o,s,l,u,h);return f&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=je(n);we(bs,"RemoteStore shutting down."),r.Ea.add(5),await su(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class l5{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=Tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{we(Do,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(we(Do,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ap(t,e){t.asyncQueue.verifyOperationInProgress(),we(Do,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $T(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c5(t);we(Do,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Fb(e.remoteStore,i)),t._onlineComponents=e}async function c5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Do,"Using user provided OfflineComponentProvider");try{await ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await ap(t,new fh)}}else we(Do,"Using default OfflineComponentProvider"),await ap(t,new a5(void 0));return t._offlineComponents}async function lC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Do,"Using user provided OnlineComponentProvider"),await Wb(t,t._uninitializedComponentsProvider._online)):(we(Do,"Using default OnlineComponentProvider"),await Wb(t,new yg))),t._onlineComponents}function u5(t){return lC(t).then(e=>e.syncEngine)}async function bg(t){const e=await lC(t),n=e.eventManager;return n.onListen=ZB.bind(null,e.syncEngine),n.onUnlisten=QB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XB.bind(null,e.syncEngine),n}function d5(t,e,n={}){const r=new Eo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const f=new aC({next:v=>{f.Nu(),s.enqueueAndForget(()=>QT(o,g)),v.fromCache&&u.source==="server"?h.reject(new _e(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new XT(l,f,{includeMetadataChanges:!0,qa:!0});return YT(o,g)}(await bg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firestore.googleapis.com",Gb=!0;class Zb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uC,this.ssl=Gb}else this.host=e.host,this.ssl=e.ssl??Gb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new _e(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _L;switch(r.type){case"firstParty":return new EL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qb.get(n);r&&(we("ComponentProvider","Removing Datastore"),qb.delete(n),r.terminate())}(this),Promise.resolve()}}function h5(t,e,n,r={}){t=Pi(t,hf);const i=Ya(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(eS(`https://${l}`),tS("Firestore",!0)),o.host!==uC&&o.host!==l&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:l,ssl:i,emulatorOptions:r};if(!gs(u,s)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=En.MOCK_USER;else{h=ID(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new _e(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new En(g)}t._authCredentials=new yL(new KS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $o(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ru(n,tn._jsonSchema))return new tn(e,r||null,new Re(Rt.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:en("string",tn._jsonSchemaVersion),referencePath:en("string")};class So extends $o{constructor(e,n,r){super(e,n,xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Re(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function no(t,e,...n){if(t=on(t),YS("collection","path",e),t instanceof hf){const r=Rt.fromString(e,...n);return ab(r),new So(t,null,r)}{if(!(t instanceof tn||t instanceof So))throw new _e(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return ab(r),new So(t.firestore,null,r)}}function dC(t,e,...n){if(t=on(t),arguments.length===1&&(e=Tm.newId()),YS("doc","path",e),t instanceof hf){const r=Rt.fromString(e,...n);return sb(r),new tn(t,null,new Re(r))}{if(!(t instanceof tn||t instanceof So))throw new _e(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return sb(r),new tn(t.firestore,t instanceof So?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="AsyncQueue";class Yb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const r=sp();r&&we(Kb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;we(Kb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",Qb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Hm.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:Qb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Wa extends hf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Yb,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yb(e),this._firestoreClient=void 0,await e}}}function f5(t,e){const n=typeof t=="object"?t:oS(),r=typeof t=="string"?t:oh,i=pm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=RD("firestore");o&&h5(i,...o)}return i}function Zm(t){if(t._terminated)throw new _e(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p5(t),t._firestoreClient}function p5(t){const e=t._freezeSettings(),n=function(i,o,s,l){return new FL(i,o,s,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,cC(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new l5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fr(vn.fromBase64String(e))}catch(n){throw new _e(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fr(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,fr._jsonSchema))return fr.fromBase64String(e.bytes)}}fr._jsonSchemaVersion="firestore/bytes/1.0",fr._jsonSchema={type:en("string",fr._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:en("string",Qr._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xr(e.vectorValues);throw new _e(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:en("string",Xr._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=/^__.*__$/;class m5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class hC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class Ym{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fC(this.Ac)&&g5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cf(e)}Cc(e,n,r,i=!1){return new Ym({Ac:e,methodName:n,Dc:r,path:mn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qm(t){const e=t._freezeSettings(),n=cf(t._databaseId);return new v5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _5(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Xm("Data must be an object, but it was:",s,r);const l=pC(r,s);let u,h;if(o.merge)u=new er(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const g of o.mergeFields){const v=wg(e,g,n);if(!s.contains(v))throw new _e(ee.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);mC(f,v)||f.push(v)}u=new er(f),h=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=s.fieldTransforms;return new m5(new Wn(l),u,h)}class pf extends Km{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}function y5(t,e,n,r){const i=t.Cc(1,e,n);Xm("Data must be an object, but it was:",i,r);const o=[],s=Wn.empty();Vo(r,(u,h)=>{const f=Jm(e,u,n);h=on(h);const g=i.yc(f);if(h instanceof pf)o.push(f);else{const v=lu(h,g);v!=null&&(o.push(f),s.set(f,v))}});const l=new er(o);return new hC(s,l,i.fieldTransforms)}function b5(t,e,n,r,i,o){const s=t.Cc(1,e,n),l=[wg(e,r,n)],u=[i];if(o.length%2!=0)throw new _e(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)l.push(wg(e,o[v])),u.push(o[v+1]);const h=[],f=Wn.empty();for(let v=l.length-1;v>=0;--v)if(!mC(h,l[v])){const _=l[v];let S=u[v];S=on(S);const T=s.yc(_);if(S instanceof pf)h.push(_);else{const A=lu(S,T);A!=null&&(h.push(_),f.set(_,A))}}const g=new er(h);return new hC(f,g,s.fieldTransforms)}function w5(t,e,n,r=!1){return lu(n,t.Cc(r?4:3,e))}function lu(t,e){if(gC(t=on(t)))return Xm("Unsupported field value:",e,t),pC(t,e);if(t instanceof Km)return function(r,i){if(!fC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=lu(l,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return l2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=St.fromDate(r);return{timestampValue:uh(i.serializer,o)}}if(r instanceof St){const o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(i.serializer,o)}}if(r instanceof Qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fr)return{bytesValue:PT(i.serializer,r._byteString)};if(r instanceof tn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Om(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xr)return function(s,l){return{mapValue:{fields:{[oT]:{stringValue:sT},[sh]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Pm(l.serializer,h)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Jh(r)}`)}(t,e)}function pC(t,e){const n={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{const o=lu(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Qr||t instanceof fr||t instanceof tn||t instanceof Km||t instanceof Xr)}function Xm(t,e,n){if(!gC(n)||!QS(n)){const r=Jh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function wg(t,e,n){if((e=on(e))instanceof ff)return e._internalPath;if(typeof e=="string")return Jm(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const E5=new RegExp("[~\\*/\\[\\]]");function Jm(t,e,n){if(e.search(E5)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ff(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new _e(ee.INVALID_ARGUMENT,l+t+u)}function mC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ev("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S5 extends vC{data(){return super.data()}}function ev(t,e){return typeof e=="string"?Jm(t,e):e instanceof ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class yC extends tv{}function oa(t,e,...n){let r=[];e instanceof tv&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof rv).length,l=o.filter(u=>u instanceof nv).length;if(s>1||s>0&&l>0)throw new _e(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class nv extends yC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nv(e,n,r)}_apply(e){const n=this._parse(e);return bC(e._query,n),new $o(e.firestore,e.converter,cg(e._query,n))}_parse(e){const n=Qm(e.firestore);return function(o,s,l,u,h,f,g){let v;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new _e(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){e0(g,f);const S=[];for(const T of g)S.push(Jb(u,o,T));v={arrayValue:{values:S}}}else v=Jb(u,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||e0(g,f),v=w5(l,s,g,f==="in"||f==="not-in");return Jt.create(h,f,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class rv extends tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)bC(s,u),s=cg(s,u)}(e._query,n),new $o(e.firestore,e.converter,cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends yC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iv(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new _e(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bc(o,s)}(e._query,this._field,this._direction);return new $o(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new nl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function sa(t,e="asc"){const n=e,r=ev("orderBy",t);return iv._create(r,n)}function Jb(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new _e(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pT(e)&&n.indexOf("/")!==-1)throw new _e(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rt.fromString(n));if(!Re.isDocumentKey(r))throw new _e(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gb(t,new Re(r))}if(n instanceof tn)return gb(t,n._key);throw new _e(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function e0(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bC(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T5{convertValue(e,n="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){const n=e.fields?.[sh].arrayValue?.values?.map(r=>jt(r.doubleValue));return new Xr(n)}convertGeoPoint(e){return new Qr(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=ko(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);_t(BT(r),9688,{name:e});const i=new Nc(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return i.isEqual(n)||Vi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class us extends vC{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}us._jsonSchemaVersion="firestore/documentSnapshot/1.0",us._jsonSchema={type:en("string",us._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class xd extends us{data(e={}){return super.data(e)}}class ds{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xd(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new xd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Kl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new xd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Kl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:A5(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ds._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function A5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}ds._jsonSchemaVersion="firestore/querySnapshot/1.0",ds._jsonSchema={type:en("string",ds._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class ov extends T5{constructor(e){super(),this.firestore=e}convertBytes(e){return new fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function sd(t){t=Pi(t,$o);const e=Pi(t.firestore,Wa),n=Zm(e),r=new ov(e);return _C(t._query),d5(n,t._query).then(i=>new ds(e,r,t,i))}function R5(t,e,n,...r){t=Pi(t,tn);const i=Pi(t.firestore,Wa),o=Qm(i);let s;return s=typeof(e=on(e))=="string"||e instanceof ff?b5(o,"updateDoc",t._key,e,n,r):y5(o,"updateDoc",t._key,e),wC(i,[s.toMutation(t._key,Kr.exists(!0))])}function t0(t,e){const n=Pi(t.firestore,Wa),r=dC(t),i=C5(t.converter,e);return wC(n,[_5(Qm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function n0(t,...e){t=on(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Xb(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Xb(e[r])){const u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let o,s,l;if(t instanceof tn)s=Pi(t.firestore,Wa),l=xm(t._key.path),o={next:u=>{e[r]&&e[r](k5(s,t,u))},error:e[r+1],complete:e[r+2]};else{const u=Pi(t,$o);s=Pi(u.firestore,Wa),l=u._query;const h=new ov(s);o={next:f=>{e[r]&&e[r](new ds(s,h,u,f))},error:e[r+1],complete:e[r+2]},_C(t._query)}return function(h,f,g,v){const _=new aC(v),S=new XT(f,_,g);return h.asyncQueue.enqueueAndForget(async()=>YT(await bg(h),S)),()=>{_.Nu(),h.asyncQueue.enqueueAndForget(async()=>QT(await bg(h),S))}}(Zm(s),l,i,o)}function wC(t,e){return function(r,i){const o=new Eo;return r.asyncQueue.enqueueAndForget(async()=>JB(await u5(r),i,o)),o.promise}(Zm(t),e)}function k5(t,e,n){const r=n.docs.get(e._key),i=new ov(t);return new us(t,i,e._key,r,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ja=i})(Qa),Va(new ms("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Wa(new bL(r.getProvider("auth-internal")),new SL(s,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new _e(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(h.options.projectId,f)}(s,i),s);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),bo(nb,rb,e),bo(nb,rb,"esm2020")})();const I5={apiKey:"AIzaSyD6Z5RlmZ4xw1sKH1WNYZPxcgE3VnhxmNA",authDomain:"mentalhealth-62e7e.firebaseapp.com",projectId:"mentalhealth-62e7e",storageBucket:"mentalhealth-62e7e.firebasestorage.app",messagingSenderId:"943207121781",appId:"1:943207121781:web:b380a2520c10816d20893c"},EC=iS(I5),yi=f5(EC),x5=Xh(EC);var gf,Ie,SC,TC,qa,os,r0,CC,AC,gh={},RC=[],P5=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function po(t,e){for(var n in e)t[n]=e[n];return t}function kC(t){var e=t.parentNode;e&&e.removeChild(t)}function V(t,e,n){var r,i,o,s={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?gf.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return Pd(t,s,r,i,null)}function Pd(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++SC};return i==null&&Ie.vnode!=null&&Ie.vnode(o),o}function Vn(){return{current:null}}function kt(t){return t.children}function D5(t,e,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in e||mh(t,o,null,n[o],r);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||mh(t,o,e[o],n[o],r)}function i0(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||P5.test(e)?n:n+"px"}function mh(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||i0(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||i0(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?s0:o0,o):t.removeEventListener(e,o?s0:o0,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function o0(t){qa=!0;try{return this.l[t.type+!1](Ie.event?Ie.event(t):t)}finally{qa=!1}}function s0(t){qa=!0;try{return this.l[t.type+!0](Ie.event?Ie.event(t):t)}finally{qa=!1}}function tr(t,e){this.props=t,this.context=e}function $c(t,e){if(e==null)return t.__?$c(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?$c(t):null}function IC(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return IC(t)}}function M5(t){qa?setTimeout(t):CC(t)}function Eg(t){(!t.__d&&(t.__d=!0)&&os.push(t)&&!vh.__r++||r0!==Ie.debounceRendering)&&((r0=Ie.debounceRendering)||M5)(vh)}function vh(){var t,e,n,r,i,o,s,l;for(os.sort(function(u,h){return u.__v.__b-h.__v.__b});t=os.shift();)t.__d&&(e=os.length,r=void 0,i=void 0,s=(o=(n=t).__v).__e,(l=n.__P)&&(r=[],(i=po({},o)).__v=o.__v+1,sv(l,o,i,n.__n,l.ownerSVGElement!==void 0,o.__h!=null?[s]:null,r,s??$c(o),o.__h),OC(r,o),o.__e!=s&&IC(o)),os.length>e&&os.sort(function(u,h){return u.__v.__b-h.__v.__b}));vh.__r=0}function xC(t,e,n,r,i,o,s,l,u,h){var f,g,v,_,S,T,A,P=r&&r.__k||RC,M=P.length;for(n.__k=[],f=0;f<e.length;f++)if((_=n.__k[f]=(_=e[f])==null||typeof _=="boolean"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?Pd(null,_,null,null,_):Array.isArray(_)?Pd(kt,{children:_},null,null,null):_.__b>0?Pd(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)!=null){if(_.__=n,_.__b=n.__b+1,(v=P[f])===null||v&&_.key==v.key&&_.type===v.type)P[f]=void 0;else for(g=0;g<M;g++){if((v=P[g])&&_.key==v.key&&_.type===v.type){P[g]=void 0;break}v=null}sv(t,_,v=v||gh,i,o,s,l,u,h),S=_.__e,(g=_.ref)&&v.ref!=g&&(A||(A=[]),v.ref&&A.push(v.ref,null,_),A.push(g,_.__c||S,_)),S!=null?(T==null&&(T=S),typeof _.type=="function"&&_.__k===v.__k?_.__d=u=PC(_,u,t):u=DC(t,_,v,P,S,u),typeof n.type=="function"&&(n.__d=u)):u&&v.__e==u&&u.parentNode!=t&&(u=$c(v))}for(n.__e=T,f=M;f--;)P[f]!=null&&(typeof n.type=="function"&&P[f].__e!=null&&P[f].__e==n.__d&&(n.__d=MC(r).nextSibling),LC(P[f],P[f]));if(A)for(f=0;f<A.length;f++)NC(A[f],A[++f],A[++f])}function PC(t,e,n){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,e=typeof r.type=="function"?PC(r,e,n):DC(n,r,r,i,r.__e,e));return e}function _h(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){_h(n,e)}):e.push(t)),e}function DC(t,e,n,r,i,o){var s,l,u;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(l=o,u=0;(l=l.nextSibling)&&u<r.length;u+=1)if(l==i)break e;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function MC(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=MC(n)))return r}return null}function sv(t,e,n,r,i,o,s,l,u){var h,f,g,v,_,S,T,A,P,M,U,q,oe,se,D,k=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,o=[l]),(h=Ie.__b)&&h(e);try{e:if(typeof k=="function"){if(A=e.props,P=(h=k.contextType)&&r[h.__c],M=h?P?P.props.value:h.__:r,n.__c?T=(f=e.__c=n.__c).__=f.__E:("prototype"in k&&k.prototype.render?e.__c=f=new k(A,M):(e.__c=f=new tr(A,M),f.constructor=k,f.render=N5),P&&P.sub(f),f.props=A,f.state||(f.state={}),f.context=M,f.__n=r,g=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),k.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=po({},f.__s)),po(f.__s,k.getDerivedStateFromProps(A,f.__s))),v=f.props,_=f.state,f.__v=e,g)k.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(k.getDerivedStateFromProps==null&&A!==v&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(A,M),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(A,f.__s,M)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(f.props=A,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(I){I&&(I.__=e)}),U=0;U<f._sb.length;U++)f.__h.push(f._sb[U]);f._sb=[],f.__h.length&&s.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(A,f.__s,M),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(v,_,S)})}if(f.context=M,f.props=A,f.__P=t,q=Ie.__r,oe=0,"prototype"in k&&k.prototype.render){for(f.state=f.__s,f.__d=!1,q&&q(e),h=f.render(f.props,f.state,f.context),se=0;se<f._sb.length;se++)f.__h.push(f._sb[se]);f._sb=[]}else do f.__d=!1,q&&q(e),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++oe<25);f.state=f.__s,f.getChildContext!=null&&(r=po(po({},r),f.getChildContext())),g||f.getSnapshotBeforeUpdate==null||(S=f.getSnapshotBeforeUpdate(v,_)),D=h!=null&&h.type===kt&&h.key==null?h.props.children:h,xC(t,Array.isArray(D)?D:[D],e,n,r,i,o,s,l,u),f.base=e.__e,e.__h=null,f.__h.length&&s.push(f),T&&(f.__E=f.__=null),f.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=O5(n.__e,e,n,r,i,o,s,u);(h=Ie.diffed)&&h(e)}catch(I){e.__v=null,(u||o!=null)&&(e.__e=l,e.__h=!!u,o[o.indexOf(l)]=null),Ie.__e(I,e,n)}}function OC(t,e){Ie.__c&&Ie.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Ie.__e(r,n.__v)}})}function O5(t,e,n,r,i,o,s,l){var u,h,f,g=n.props,v=e.props,_=e.type,S=0;if(_==="svg"&&(i=!0),o!=null){for(;S<o.length;S++)if((u=o[S])&&"setAttribute"in u==!!_&&(_?u.localName===_:u.nodeType===3)){t=u,o[S]=null;break}}if(t==null){if(_===null)return document.createTextNode(v);t=i?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,v.is&&v),o=null,l=!1}if(_===null)g===v||l&&t.data===v||(t.data=v);else{if(o=o&&gf.call(t.childNodes),h=(g=n.props||gh).dangerouslySetInnerHTML,f=v.dangerouslySetInnerHTML,!l){if(o!=null)for(g={},S=0;S<t.attributes.length;S++)g[t.attributes[S].name]=t.attributes[S].value;(f||h)&&(f&&(h&&f.__html==h.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(D5(t,v,g,i,l),f)e.__k=[];else if(S=e.props.children,xC(t,Array.isArray(S)?S:[S],e,n,r,i&&_!=="foreignObject",o,s,o?o[0]:n.__k&&$c(n,0),l),o!=null)for(S=o.length;S--;)o[S]!=null&&kC(o[S]);l||("value"in v&&(S=v.value)!==void 0&&(S!==t.value||_==="progress"&&!S||_==="option"&&S!==g.value)&&mh(t,"value",S,g.value,!1),"checked"in v&&(S=v.checked)!==void 0&&S!==t.checked&&mh(t,"checked",S,g.checked,!1))}return t}function NC(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Ie.__e(r,n)}}function LC(t,e,n){var r,i;if(Ie.unmount&&Ie.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||NC(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Ie.__e(o,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&LC(r[i],e,n||typeof t.type!="function");n||t.__e==null||kC(t.__e),t.__=t.__e=t.__d=void 0}function N5(t,e,n){return this.constructor(t,n)}function Uc(t,e,n){var r,i,o;Ie.__&&Ie.__(t,e),i=(r=!1)?null:e.__k,o=[],sv(e,t=e.__k=V(kt,null,[t]),i||gh,gh,e.ownerSVGElement!==void 0,i?null:e.firstChild?gf.call(e.childNodes):null,o,i?i.__e:e.firstChild,r),OC(o,t)}function L5(t,e){var n={__c:e="__cC"+AC++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(l){l.__e=!0,Eg(l)})},this.sub=function(s){i.push(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),l&&l.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}gf=RC.slice,Ie={__e:function(t,e,n,r){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(l){t=l}throw t}},SC=0,TC=function(t){return t!=null&&t.constructor===void 0},qa=!1,tr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=po({},this.state),typeof t=="function"&&(t=t(po({},n),this.props)),t&&po(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Eg(this))},tr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Eg(this))},tr.prototype.render=kt,os=[],CC=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vh.__r=0,AC=0;var Hr,lp,a0,BC=[],cp=[],l0=Ie.__b,c0=Ie.__r,u0=Ie.diffed,d0=Ie.__c,h0=Ie.unmount;function B5(){for(var t;t=BC.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Dd),t.__H.__h.forEach(Sg),t.__H.__h=[]}catch(e){t.__H.__h=[],Ie.__e(e,t.__v)}}Ie.__b=function(t){Hr=null,l0&&l0(t)},Ie.__r=function(t){c0&&c0(t);var e=(Hr=t.__c).__H;e&&(lp===Hr?(e.__h=[],Hr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=cp,n.__N=n.i=void 0})):(e.__h.forEach(Dd),e.__h.forEach(Sg),e.__h=[])),lp=Hr},Ie.diffed=function(t){u0&&u0(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(BC.push(e)!==1&&a0===Ie.requestAnimationFrame||((a0=Ie.requestAnimationFrame)||V5)(B5)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==cp&&(n.__=n.__V),n.i=void 0,n.__V=cp})),lp=Hr=null},Ie.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Dd),n.__h=n.__h.filter(function(r){return!r.__||Sg(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ie.__e(r,n.__v)}}),d0&&d0(t,e)},Ie.unmount=function(t){h0&&h0(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Dd(r)}catch(i){e=i}}),n.__H=void 0,e&&Ie.__e(e,n.__v))};var f0=typeof requestAnimationFrame=="function";function V5(t){var e,n=function(){clearTimeout(r),f0&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);f0&&(e=requestAnimationFrame(n))}function Dd(t){var e=Hr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Hr=e}function Sg(t){var e=Hr;t.__c=t.__(),Hr=e}function F5(t,e){for(var n in e)t[n]=e[n];return t}function p0(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function g0(t){this.props=t}(g0.prototype=new tr).isPureReactComponent=!0,g0.prototype.shouldComponentUpdate=function(t,e){return p0(this.props,t)||p0(this.state,e)};var m0=Ie.__b;Ie.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),m0&&m0(t)};var $5=Ie.__e;Ie.__e=function(t,e,n,r){if(t.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}$5(t,e,n,r)};var v0=Ie.unmount;function VC(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=F5({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return VC(r,e,n)})),t}function FC(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return FC(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function up(){this.__u=0,this.t=null,this.__b=null}function $C(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ad(){this.u=null,this.o=null}Ie.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),v0&&v0(t)},(up.prototype=new tr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=$C(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(l):l())};n.__R=s;var l=function(){if(!--r.__u){if(r.state.__a){var h=r.state.__a;r.__v.__k[0]=FC(h,h.__c.__P,h.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.t.pop();)f.forceUpdate()}},u=e.__h===!0;r.__u++||u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(s,s)},up.prototype.componentWillUnmount=function(){this.t=[]},up.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=VC(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&V(kt,null,t.fallback);return i&&(i.__h=null),[V(kt,null,e.__a?null:t.children),i]};var _0=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function U5(t){return this.getChildContext=function(){return t.context},t.children}function z5(t){var e=this,n=t.i;e.componentWillUnmount=function(){Uc(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Uc(V(U5,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function H5(t,e){var n=V(z5,{__v:t,i:e});return n.containerInfo=e,n}(ad.prototype=new tr).__a=function(t){var e=this,n=$C(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),_0(e,t,r)):i()};n?n(o):o()}},ad.prototype.render=function(t){this.u=null,this.o=new Map;var e=_h(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ad.prototype.componentDidUpdate=ad.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){_0(t,n,e)})};var j5=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,W5=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,q5=typeof document<"u",G5=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};tr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(tr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var y0=Ie.event;function Z5(){}function K5(){return this.cancelBubble}function Y5(){return this.defaultPrevented}Ie.event=function(t){return y0&&(t=y0(t)),t.persist=Z5,t.isPropagationStopped=K5,t.isDefaultPrevented=Y5,t.nativeEvent=t};var b0={configurable:!0,get:function(){return this.class}},w0=Ie.vnode;Ie.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var o in r={},n){var s=n[o];q5&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in n&&s==null||(o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!G5(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&W5.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=s)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=_h(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=_h(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),t.props=r,n.class!=n.className&&(b0.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",b0))}t.$$typeof=j5,w0&&w0(t)};var E0=Ie.__r;Ie.__r=function(t){E0&&E0(t),t.__c};const UC=[],Tg=new Map;function av(t){UC.push(t),Tg.forEach(e=>{HC(e,t)})}function Q5(t){t.isConnected&&t.getRootNode&&zC(t.getRootNode())}function zC(t){let e=Tg.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=J5();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}Tg.set(t,e),X5(e)}}function X5(t){for(const e of UC)HC(t,e)}function HC(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,o)=>{i=i.trim(),i&&n.insertRule(i+"}",r+o)})}let dp;function J5(){return dp===void 0&&(dp=eV()),dp}function eV(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&zC(document);var tV=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';av(tV);class lv{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function cv(t){t.parentNode&&t.parentNode.removeChild(t)}function Cn(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(nV(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function nV(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function rV(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let o=n[i].querySelectorAll(e);for(let s=0;s<o.length;s+=1)r.push(o[s])}return r}const iV=/(top|left|right|bottom|width|height)$/i;function pc(t,e){for(let n in e)jC(t,n,e[n])}function jC(t,e,n){n==null?t.style[e]="":typeof n=="number"&&iV.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function WC(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let S0=0;function mf(){return S0+=1,"fc-dom-"+S0}function vf(t){t.preventDefault()}function oV(t,e){return n=>{let r=Cn(n.target,t);r&&e.call(r,n,r)}}function qC(t,e,n,r){let i=oV(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function sV(t,e,n,r){let i;return qC(t,"mouseover",e,(o,s)=>{if(s!==i){i=s,n(o,s);let l=u=>{i=null,r(u,s),s.removeEventListener("mouseleave",l)};s.addEventListener("mouseleave",l)}})}const T0=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function aV(t,e){let n=r=>{e(r),T0.forEach(i=>{t.removeEventListener(i,n)})};T0.forEach(r=>{t.addEventListener(r,n)})}function GC(t){return Object.assign({onClick:t},ZC(t))}function ZC(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let C0=0;function xs(){return C0+=1,String(C0)}function uv(){document.body.classList.add("fc-not-allowed")}function dv(){document.body.classList.remove("fc-not-allowed")}function lV(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",vf)}function cV(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",vf)}function uV(t){t.addEventListener("contextmenu",vf)}function dV(t){t.removeEventListener("contextmenu",vf)}function hV(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function fV(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=pV(t,e,n[r]),i)return i;return 0}function pV(t,e,n){return n.func?n.func(t,e):gV(t[n.field],e[n.field])*(n.order||1)}function gV(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function xa(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function gc(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,o)=>r.replace("$"+o,i||""),t):n}function mV(t,e){return t-e}function Md(t){return t%1===0}function vV(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const A0=["years","months","days","milliseconds"],_V=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ct(t,e){return typeof t=="string"?yV(t):typeof t=="object"&&t?R0(t):typeof t=="number"?R0({[e||"milliseconds"]:t}):null}function yV(t){let e=_V.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function R0(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function bV(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Cg(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function wV(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function EV(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function SV(t){return Pa(t)/365}function TV(t){return Pa(t)/30}function Pa(t){return Ar(t)/864e5}function Ar(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function hv(t,e){let n=null;for(let r=0;r<A0.length;r+=1){let i=A0[r];if(e[i]){let o=t[i]/e[i];if(!Md(o)||n!==null&&n!==o)return null;n=o}else if(t[i])return null}return n}function Ag(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Mo(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const CV=["sun","mon","tue","wed","thu","fri","sat"];function k0(t,e){let n=go(t);return n[2]+=e*7,Gn(n)}function un(t,e){let n=go(t);return n[2]+=e,Gn(n)}function Oo(t,e){let n=go(t);return n[6]+=e,Gn(n)}function AV(t,e){return Ps(t,e)/7}function Ps(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function RV(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function kV(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function IV(t,e){return(e.valueOf()-t.valueOf())/1e3}function xV(t,e){let n=It(t),r=It(e);return{years:0,months:0,days:Math.round(Ps(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function PV(t,e){let n=yh(t,e);return n!==null&&n%7===0?n/7:null}function yh(t,e){return mo(t)===mo(e)?Math.round(Ps(t,e)):null}function It(t){return Gn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function DV(t){return Gn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function MV(t){return Gn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function OV(t){return Gn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function NV(t,e,n){let r=t.getUTCFullYear(),i=hp(t,r,e,n);if(i<1)return hp(t,r-1,e,n);let o=hp(t,r+1,e,n);return o>=1?Math.min(i,o):i}function hp(t,e,n,r){let i=Gn([e,0,1+LV(e,n,r)]),o=It(t),s=Math.round(Ps(i,o));return Math.floor(s/7)+1}function LV(t,e,n){let r=7+e-n;return-((7+Gn([t,0,r]).getUTCDay()-e)%7)+r-1}function I0(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function x0(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function go(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Gn(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function KC(t){return!isNaN(t.valueOf())}function mo(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function YC(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",pv(e,!0)))),r}function fv(t){return t.toISOString().replace(/T.*$/,"")}function BV(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function VV(t){return xa(t.getUTCHours(),2)+":"+xa(t.getUTCMinutes(),2)+":"+xa(t.getUTCSeconds(),2)}function pv(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=Math.round(r%60);return e?`${n+xa(i,2)}:${xa(o,2)}`:`GMT${n}${i}${o?`:${xa(o,2)}`:""}`}function xe(t,e,n){let r,i;return function(...o){if(!r)i=t.apply(this,o);else if(!Mo(r,o)){let s=t.apply(this,o);(!e||!e(s,i))&&(i=s)}return r=o,i}}function Od(t,e,n){let r,i;return o=>(r?Pr(r,o)||(i=t.call(this,o)):i=t.call(this,o),r=o,i)}const fp={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},bh={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},ld=/\s*([ap])\.?m\.?/i,FV=/,/g,$V=/\s+/g,UV=/\u200e/g,zV=/UTC|GMT/;class HV{constructor(e){let n={},r={},i=9;for(let o in e)o in fp?(r[o]=e[o],fp[o]<9&&(i=Math.min(fp[o],i))):(n[o]=e[o],o in bh&&(i=Math.min(bh[o],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=xe(P0)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:o,extendedSettings:s}=this,l=KV(e.marker,n.marker,r.calendarSystem);if(!l)return this.format(e,r);let u=l;u>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(u=1);let h=this.format(e,r),f=this.format(n,r);if(h===f)return h;let g=YV(o,u),v=P0(g,s,r),_=v(e),S=v(n),T=QV(h,_,f,S),A=s.separator||i||r.defaultSeparator||"";return T?T.before+_+A+S+T.after:h+A+f}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function P0(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>pv(i.timeZoneOffset):r===0&&e.week?i=>ZV(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):jV(t,e,n)}function jV(t,e,n){t=Object.assign({},t),e=Object.assign({},e),WV(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let o=Object.assign({},t);delete o.minute,i=new Intl.DateTimeFormat(n.locale.codes,o)}return o=>{let{marker:s}=o,l;i&&!s.getUTCMinutes()?l=i:l=r;let u=l.format(s);return qV(u,o,t,e,n)}}function WV(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function qV(t,e,n,r,i){return t=t.replace(UV,""),n.timeZoneName==="short"&&(t=GV(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":pv(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(FV,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(ld,"").trim():r.meridiem==="narrow"?t=t.replace(ld,(o,s)=>s.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(ld,(o,s)=>`${s.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(ld,o=>o.toLocaleLowerCase())),t=t.replace($V," "),t=t.trim(),t}function GV(t,e){let n=!1;return t=t.replace(zV,()=>(n=!0,e)),n||(t+=` ${e}`),t}function ZV(t,e,n,r,i){let o=[];return i==="long"?o.push(n):(i==="short"||i==="narrow")&&o.push(e),(i==="long"||i==="short")&&o.push(" "),o.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&o.reverse(),o.join("")}function KV(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:mo(t)!==mo(e)?1:0}function YV(t,e){let n={};for(let r in t)(!(r in bh)||bh[r]<=e)&&(n[r]=t[r]);return n}function QV(t,e,n,r){let i=0;for(;i<t.length;){let o=t.indexOf(e,i);if(o===-1)break;let s=t.substr(0,o);i=o+e.length;let l=t.substr(i),u=0;for(;u<n.length;){let h=n.indexOf(r,u);if(h===-1)break;let f=n.substr(0,h);u=h+r.length;let g=n.substr(u);if(s===f&&l===g)return{before:s,after:l}}}return null}function D0(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function wh(t,e,n,r){let i=D0(t,n.calendarSystem),o=e?D0(e,n.calendarSystem):null;return{date:i,start:i,end:o,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class XV{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,wh(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,wh(e,n,r,i))}}class JV{constructor(e){this.func=e}format(e,n,r){return this.func(wh(e,null,n,r))}formatRange(e,n,r,i){return this.func(wh(e,n,r,i))}}function Bt(t){return typeof t=="object"&&t?new HV(t):typeof t=="string"?new XV(t):typeof t=="function"?new JV(t):null}const M0={navLinkDayClick:Z,navLinkWeekClick:Z,duration:ct,bootstrapFontAwesome:Z,buttonIcons:Z,customButtons:Z,defaultAllDayEventDuration:ct,defaultTimedEventDuration:ct,nextDayThreshold:ct,scrollTime:ct,scrollTimeReset:Boolean,slotMinTime:ct,slotMaxTime:ct,dayPopoverFormat:Bt,slotDuration:ct,snapDuration:ct,headerToolbar:Z,footerToolbar:Z,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Bt,dayHeaderClassNames:Z,dayHeaderContent:Z,dayHeaderDidMount:Z,dayHeaderWillUnmount:Z,dayCellClassNames:Z,dayCellContent:Z,dayCellDidMount:Z,dayCellWillUnmount:Z,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Z,weekNumbers:Boolean,weekNumberClassNames:Z,weekNumberContent:Z,weekNumberDidMount:Z,weekNumberWillUnmount:Z,editable:Boolean,viewClassNames:Z,viewDidMount:Z,viewWillUnmount:Z,nowIndicator:Boolean,nowIndicatorSnap:Z,nowIndicatorClassNames:Z,nowIndicatorContent:Z,nowIndicatorDidMount:Z,nowIndicatorWillUnmount:Z,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Z,locale:Z,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Z,eventOrder:hV,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Z,contentHeight:Z,direction:String,weekNumberFormat:Bt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Z,initialDate:Z,now:Z,eventDataTransform:Z,stickyHeaderDates:Z,stickyFooterScrollbar:Z,viewHeight:Z,defaultAllDay:Boolean,eventSourceFailure:Z,eventSourceSuccess:Z,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Z,eventConstraint:Z,eventAllow:Z,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Z,eventContent:Z,eventDidMount:Z,eventWillUnmount:Z,selectConstraint:Z,selectOverlap:Z,selectAllow:Z,droppable:Boolean,unselectCancel:String,slotLabelFormat:Z,slotLaneClassNames:Z,slotLaneContent:Z,slotLaneDidMount:Z,slotLaneWillUnmount:Z,slotLabelClassNames:Z,slotLabelContent:Z,slotLabelDidMount:Z,slotLabelWillUnmount:Z,dayMaxEvents:Z,dayMaxEventRows:Z,dayMinWidth:Number,slotLabelInterval:ct,allDayText:String,allDayClassNames:Z,allDayContent:Z,allDayDidMount:Z,allDayWillUnmount:Z,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Bt,rerenderDelay:Number,moreLinkText:Z,moreLinkHint:Z,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Z,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ct,hiddenDays:Z,fixedWeekCount:Boolean,validRange:Z,visibleRange:Z,titleFormat:Z,eventInteractive:Boolean,noEventsText:String,viewHint:Z,navLinkHint:Z,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Z,moreLinkClassNames:Z,moreLinkContent:Z,moreLinkDidMount:Z,moreLinkWillUnmount:Z,monthStartFormat:Bt,handleCustomRendering:Z,customRenderingMetaMap:Z,customRenderingReplaces:Boolean},mc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},O0={datesSet:Z,eventsSet:Z,eventAdd:Z,eventChange:Z,eventRemove:Z,windowResize:Z,eventClick:Z,eventMouseEnter:Z,eventMouseLeave:Z,select:Z,unselect:Z,loading:Z,_unmount:Z,_beforeprint:Z,_afterprint:Z,_noEventDrop:Z,_noEventResize:Z,_resize:Z,_scrollRequest:Z},N0={buttonText:Z,buttonHints:Z,views:Z,plugins:Z,initialEvents:Z,events:Z,eventSources:Z},rs={headerToolbar:is,footerToolbar:is,buttonText:is,buttonHints:is,buttonIcons:is,dateIncrement:is,plugins:cd,events:cd,eventSources:cd,resources:cd};function is(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Pr(t,e):t===e}function cd(t,e){return Array.isArray(t)&&Array.isArray(e)?Mo(t,e):t===e}const e4={type:String,component:Z,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Z,usesMinMaxTime:Boolean,classNames:Z,content:Z,didMount:Z,willUnmount:Z};function pp(t){return mv(t,rs)}function gv(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function Z(t){return t}const{hasOwnProperty:Eh}=Object.prototype;function mv(t,e){let n={};if(e){for(let r in e)if(e[r]===is){let i=[];for(let o=t.length-1;o>=0;o-=1){let s=t[o][r];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){n[r]=s;break}}i.length&&(n[r]=mv(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let o in i)o in n||(n[o]=i[o])}return n}function ws(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function $i(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function QC(t){let e={};for(let n of t)e[n]=!0;return e}function vv(t){let e=[];for(let n in t)e.push(t[n]);return e}function Pr(t,e){if(t===e)return!0;for(let n in t)if(Eh.call(t,n)&&!(n in e))return!1;for(let n in e)if(Eh.call(e,n)&&t[n]!==e[n])return!1;return!0}const t4=/^on[A-Z]/;function n4(t,e){const n=r4(t,e);for(let r of n)if(!t4.test(r))return!1;return!0}function r4(t,e){let n=[];for(let r in t)Eh.call(t,r)&&(r in e||n.push(r));for(let r in e)Eh.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function gp(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&i4(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function i4(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function o4(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let o=e;o<n;o+=r){let s=t[o];s!==void 0&&i.push(s)}return i}let XC={};function s4(t,e){XC[t]=e}function a4(t){return new XC[t]}class l4{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Gn(e)}markerToArray(e){return go(e)}}s4("gregory",l4);const c4=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function u4(t){let e=c4.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(KC(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class d4{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=a4(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Gn(I0(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Gn(e)),n===null||!KC(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=u4(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return mo(e)===mo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return mo(e)===mo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=PV(e,n),r!==null?{unit:"week",value:r}:(r=yh(e,n),r!==null?{unit:"day",value:r}:(r=RV(e,n),Md(r)?{unit:"hour",value:r}:(r=kV(e,n),Md(r)?{unit:"minute",value:r}:(r=IV(e,n),Md(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/SV(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/TV(r):r.days&&(i=yh(e,n),i!==null)?i/Pa(r):(n.valueOf()-e.valueOf())/Ar(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?It(e):n==="hour"?DV(e):n==="minute"?MV(e):n==="second"?OV(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):NV(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Oo(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),YC(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Gn(I0(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Gn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-x0(go(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(go(e)):null}toDate(e,n){return this.timeZone==="local"?x0(go(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(go(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class cu{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}cu.prototype.classes={};cu.prototype.iconClasses={};cu.prototype.baseIconClass="";cu.prototype.iconOverridePrefix="";function Sh(t){t();let e=Ie.debounceRendering,n=[];function r(i){n.push(i)}for(Ie.debounceRendering=r,Uc(V(h4,{}),document.createElement("div"));n.length;)n.shift()();Ie.debounceRendering=e}class h4 extends tr{render(){return V("div",{})}componentDidMount(){this.setState({})}}function JC(t){let e=L5(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let o=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&o.forEach(l=>{l.context=s.value,l.forceUpdate()})},this.sub=s=>{o.push(s);let l=s.componentWillUnmount;s.componentWillUnmount=()=>{o.splice(o.indexOf(s),1),l&&l.call(s)}}}return i},e}class f4{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Hi=JC({});function p4(t,e,n,r,i,o,s,l,u,h,f,g,v,_){return{dateEnv:i,nowManager:o,options:n,pluginHooks:l,emitter:f,dispatch:u,getCurrentData:h,calendarApi:g,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(S){f.on("_resize",S)},removeResizeHandler(S){f.off("_resize",S)},createScrollResponder(S){return new f4(S,f,ct(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:v,unregisterInteractiveComponent:_}}class Ds extends tr{shouldComponentUpdate(e,n){return!gp(this.props,e,this.propEquality)||!gp(this.state,n,this.stateEquality)}safeSetState(e){gp(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Ds.addPropsEquality=g4;Ds.addStateEquality=m4;Ds.contextType=Hi;Ds.prototype.propEquality={};Ds.prototype.stateEquality={};class yt extends Ds{}yt.contextType=Hi;function g4(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function m4(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function ni(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class _v extends yt{constructor(){super(...arguments),this.id=xs(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Rg(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ni(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:o,renderProps:s}=e,l=eA(e,[],this.handleEl);let u=!1,h,f=[],g;if(i!=null){const v=typeof i=="function"?i(s,V):i;if(v===!0)u=!0;else{const _=v&&typeof v=="object";_&&"html"in v?l.dangerouslySetInnerHTML={__html:v.html}:_&&"domNodes"in v?f=Array.prototype.slice.call(v.domNodes):(_?TC(v):typeof v!="function")?h=v:g=v}}else u=!Rg(e.generatorName,r);return u&&o&&(h=o(s)),this.queuedDomNodes=f,this.currentGeneratorMeta=g,V(e.elTag,l,h)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:o,customRenderingMetaMap:s}=i.options;if(o){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:s?.[r.generatorName];l&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r),{elClasses:(r.elClasses||[]).filter(v4)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Mo(e,n)){n.forEach(cv);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}_v.addPropsEquality({elClasses:Mo,elStyle:Pr,elAttrs:n4,renderProps:Pr});function Rg(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function eA(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function v4(t){return!!t}const tA=JC(0);class rr extends tr{constructor(){super(...arguments),this.InnerContent=_4.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ni(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=y4(e.classNameGenerator,e.renderProps);if(e.children){const r=eA(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?V(e.elTag,r,i):i}else return V(_v,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}rr.contextType=tA;function _4(t,e){const n=t.props;return V(_v,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function y4(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Th extends yt{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return V(rr,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...nA(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function nA(t){return[`fc-${t.type}-view`,"fc-view"]}function b4(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function L0(t,e){let n=[],{start:r}=e,i,o;for(t.sort(w4),i=0;i<t.length;i+=1)o=t[i],o.start>r&&n.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&n.push({start:r,end:e.end}),n}function w4(t,e){return t.start.valueOf()-e.start.valueOf()}function Es(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function E4(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function yv(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function _f(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Di(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function S4(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function rA(t){let e=Math.floor(Ps(t.start,t.end))||1,n=It(t.start),r=un(n,e);return{start:n,end:r}}function iA(t,e=ct(0)){let n=null,r=null;if(t.end){r=It(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Ar(e)&&(r=un(r,1))}return t.start&&(n=It(t.start),r&&r<=n&&(r=un(n,1))),{start:n,end:r}}function ma(t,e,n,r){return r==="year"?ct(n.diffWholeYears(t,e),"year"):r==="month"?ct(n.diffWholeMonths(t,e),"month"):xV(t,e)}class oA{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,o=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,o=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)}build(e,n,r=!0){let{props:i}=this,o,s,l,u,h,f;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=S4(e,o)),s=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(s.unit),u=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,l),u=this.trimHiddenDays(u),h=u,i.showNonCurrentDates||(h=Es(h,s.range)),h=this.adjustActiveRange(h),h=Es(h,o),f=yv(s.range,o),Di(u,e)||(e=u.start),{currentDate:e,validRange:o,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:l,activeRange:h,renderRange:u,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:f,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,o=null,s=null,l;return r.duration?(i=r.duration,o=r.durationUnit,s=this.buildRangeFromDuration(e,n,i,o)):(l=this.props.dayCount)?(o="day",s=this.buildRangeFromDayCount(e,n,l)):(s=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),o=Ag(i).unit,s=this.buildRangeFromDuration(e,n,i,o)),{duration:i,unit:o,range:s}}getFallbackDuration(){return ct({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:o}=this.props,{start:s,end:l}=e;return r&&(Pa(i)<0&&(s=It(s),s=n.add(s,i)),Pa(o)>1&&(l=It(l),l=un(l,-1),l=n.add(l,o))),{start:s,end:l}}buildRangeFromDuration(e,n,r,i){let{dateEnv:o,dateAlignment:s}=this.props,l,u,h;if(!s){let{dateIncrement:g}=this.props;g&&Ar(g)<Ar(r)?s=Ag(g).unit:s=i}Pa(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=It(l));function f(){l=o.startOf(e,s),u=o.add(l,r),h={start:l,end:u}}return f(),this.trimHiddenDays(h)||(e=this.skipHiddenDays(e,n),f()),h}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:o}=this.props,s=0,l=e,u;o&&(l=i.startOf(l,o)),l=It(l),l=this.skipHiddenDays(l,n),u=l;do u=un(u,1),this.isHiddenDay(u)||(s+=1);while(s<r);return{start:l,end:u}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,o=this.refineRange(i);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?ct(1,r):e||ct({days:1}))}refineRange(e){if(e){let n=b4(e,this.props.dateEnv);return n&&(n=iA(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=un(e,n);return e}}function bv(t,e,n,r){return{instanceId:xs(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function T4(t,e,n,r){for(let i=0;i<r.length;i+=1){let o=r[i].parse(t,n);if(o){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=o.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}function Ss(t,e,n){let{dateEnv:r,pluginHooks:i,options:o}=n,{defs:s,instances:l}=t;l=ws(l,u=>!s[u.defId].recurringDef);for(let u in s){let h=s[u];if(h.recurringDef){let{duration:f}=h.recurringDef;f||(f=h.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let g=C4(h,f,e,r,i.recurringTypes);for(let v of g){let _=bv(u,{start:v,end:r.add(v,f)});l[_.instanceId]=_}}}return{defs:s,instances:l}}function C4(t,e,n,r,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(s=s.map(It)),s}const Nd={id:String,groupId:String,title:String,url:String,interactive:Boolean},sA={start:Z,end:Z,date:Z,allDay:Boolean},A4=Object.assign(Object.assign(Object.assign({},Nd),sA),{extendedProps:Z});function aA(t,e,n,r,i=wv(n),o,s){let{refined:l,extra:u}=lA(t,n,i),h=k4(e,n),f=T4(l,h,n.dateEnv,n.pluginHooks.recurringTypes);if(f){let v=kg(l,u,e?e.sourceId:"",f.allDay,!!f.duration,n,o);return v.recurringDef={typeId:f.typeId,typeData:f.typeData,duration:f.duration},{def:v,instance:null}}let g=R4(l,h,n,r);if(g){let v=kg(l,u,e?e.sourceId:"",g.allDay,g.hasEnd,n,o),_=bv(v.defId,g.range,g.forcedStartTzo,g.forcedEndTzo);return s&&v.publicId&&s[v.publicId]&&(_.instanceId=s[v.publicId]),{def:v,instance:_}}return null}function lA(t,e,n=wv(e)){return gv(t,n)}function wv(t){return Object.assign(Object.assign(Object.assign({},Ch),A4),t.pluginHooks.eventRefiners)}function kg(t,e,n,r,i,o,s){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||xs(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:Ah(t,o),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let u of o.pluginHooks.eventDefMemberAdders)Object.assign(l,u(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function R4(t,e,n,r){let{allDay:i}=t,o,s=null,l=!1,u,h=null,f=t.start!=null?t.start:t.date;if(o=n.dateEnv.createMarkerMeta(f),o)s=o.marker;else if(!r)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!o||o.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),i&&s&&(s=It(s)),u&&(h=u.marker,i&&(h=It(h)),s&&h<=s&&(h=null)),h?l=!0:r||(l=n.options.forceEventDuration||!1,h=n.dateEnv.add(s,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:s,end:h},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function k4(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function zc(t,e,n,r,i,o){let s=nr(),l=wv(n);for(let u of t){let h=aA(u,e,n,r,l,i,o);h&&Ig(h,s)}return s}function Ig(t,e=nr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Ev(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=yf(t,o=>I4(r,o));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return nr()}function I4(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function nr(){return{defs:{},instances:{}}}function Sv(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function yf(t,e){let n=ws(t.defs,e),r=ws(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function x4(t,e){let{defs:n,instances:r}=t,i={},o={};for(let s in n)e.defs[s]||(i[s]=n[s]);for(let s in r)!e.instances[s]&&i[r[s].defId]&&(o[s]=r[s]);return{defs:i,instances:o}}function P4(t,e){return Array.isArray(t)?zc(t,null,e,!0):typeof t=="object"&&t?zc([t],null,e,!0):t!=null?String(t):null}function B0(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Ch={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Z,overlap:Z,allow:Z,className:B0,classNames:B0,color:String,backgroundColor:String,borderColor:String,textColor:String},D4={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Ah(t,e){let n=P4(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function cA(t){return t.reduce(M4,D4)}function M4(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const O4={id:String,defaultAllDay:Boolean,url:String,format:String,events:Z,eventDataTransform:Z,success:Z,failure:Z};function uA(t,e,n=dA(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:o}=gv(r,n),s=N4(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:xs(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Ah(i,e),extendedProps:o}}return null}function dA(t){return Object.assign(Object.assign(Object.assign({},Ch),O4),t.pluginHooks.eventSourceRefiners)}function N4(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let o=n[r].parseMeta(t);if(o)return{sourceDefId:r,meta:o}}return null}function L4(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return B4(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return V4(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return F4(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Sv(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Ss(t,r.activeRange,i):t;case"REMOVE_EVENTS":return x4(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return fA(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return yf(t,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return nr();default:return t}}function B4(t,e,n,r,i,o){if(e&&n===e.latestFetchId){let s=zc(hA(i,e,o),e,o);return r&&(s=Ss(s,r,o)),Sv(fA(t,e.sourceId),s)}return t}function V4(t,e,n,r,i){const{defIdMap:o,instanceIdMap:s}=U4(t);let l=zc(hA(n,e,i),e,i,!1,o,s);return Ss(l,r,i)}function hA(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=V0(t,i)),r&&(t=V0(t,r)),t}function V0(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function F4(t,e,n,r){return n&&(e=Ss(e,n,r)),Sv(t,e)}function F0(t,e,n){let{defs:r}=t,i=$i(t.instances,o=>r[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:n.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:n.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:o.forcedEndTzo}));return{defs:r,instances:i}}function fA(t,e){return yf(t,n=>n.sourceId!==e)}function $4(t,e){return{defs:t.defs,instances:ws(t.instances,n=>!e[n.instanceId])}}function U4(t){const{defs:e,instances:n}=t,r={},i={};for(let o in e){const s=e[o],{publicId:l}=s;l&&(r[l]=o)}for(let o in n){const s=n[o],l=e[s.defId],{publicId:u}=l;u&&(i[u]=o)}return{defIdMap:r,instanceIdMap:i}}class bf{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){z4(this.handlers,e,n)}off(e,n){H4(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],o=[].concat(i||[],r);for(let s of o)s.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function z4(t,e,n){(t[e]||(t[e]=[])).push(n)}function H4(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const j4={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function W4(t,e){return zc(q4(t),null,e)}function q4(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},j4),n)),e}function pA(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},Tv(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function G4(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Tv(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,aF(t,e.dateEnv)),n}function $0(t,e,n){let{dateEnv:r,options:i}=n,o=e;return t?(o=It(o),o=r.add(o,i.defaultAllDayEventDuration)):o=r.add(o,i.defaultTimedEventDuration),o}function Cv(t,e,n,r){let i=Rh(t.defs,e),o=nr();for(let s in t.defs){let l=t.defs[s];o.defs[s]=Z4(l,i[s],n,r)}for(let s in t.instances){let l=t.instances[s],u=o.defs[l.defId];o.instances[s]=K4(l,u,i[l.defId],n,r)}return o}function Z4(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),n.extendedProps));for(let s of r.pluginHooks.eventDefMutationAppliers)s(o,n,r);return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function K4(t,e,n,r,i){let{dateEnv:o}=i,s=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,u=Object.assign({},t);return s&&(u.range=rA(u.range)),r.datesDelta&&n.startEditable&&(u.range={start:o.add(u.range.start,r.datesDelta),end:o.add(u.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(u.range={start:o.add(u.range.start,r.startDelta),end:u.range.end}),r.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:o.add(u.range.end,r.endDelta)}),l&&(u.range={start:u.range.start,end:$0(e.allDay,u.range.start,i)}),e.allDay&&(u.range={start:It(u.range.start),end:It(u.range.end)}),u.range.end<u.range.start&&(u.range.end=$0(e.allDay,u.range.start,i)),u}class pa{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Mt{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in sA)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Nd[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Nd)n=Nd[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Ch){let r=Ch[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let o=this._instance.range,s=ma(o.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let o=ma(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,o={allDay:r.allDay},s=i.createMarker(e),l;if(s&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){let u=this._instance.range;r.allDay===!0&&(u=rA(u));let h=ma(u.start,s,i,r.granularity);if(l){let f=ma(u.end,l,i,r.granularity);bV(h,f)?this.mutate({datesDelta:h,standardProps:o}):this.mutate({startDelta:h,endDelta:f,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:h,standardProps:o})}}moveStart(e){let n=ct(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=ct(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=ct(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=Bt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:o}=i.getCurrentData(),s=Ev(o,n.instanceId);s=Cv(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let u=new Mt(i,r,n);this._def=s.defs[r.defId],this._instance=s.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:hs(s,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,n=gA(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new pa(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:o}=this,s={allDay:n.allDay};return n.title&&(s.title=n.title),i&&(s.start=i),o&&(s.end=o),n.publicId&&(s.id=n.publicId),n.groupId&&(s.groupId=n.groupId),n.url&&(s.url=n.url),r.display&&r.display!=="auto"&&(s.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?s.color=r.backgroundColor:(r.backgroundColor&&(s.backgroundColor=r.backgroundColor),r.borderColor&&(s.borderColor=r.borderColor)),r.textColor&&(s.textColor=r.textColor),r.classNames.length&&(s.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,n.extendedProps):s.extendedProps=n.extendedProps),s}toJSON(){return this.toPlainObject()}}function gA(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function hs(t,e,n){let{defs:r,instances:i}=t,o=[],s=n?n.instanceId:"";for(let l in i){let u=i[l],h=r[u.defId];u.instanceId!==s&&o.push(new Mt(e,h,u))}return o}function U0(t,e,n,r){let i={},o={},s={},l=[],u=[],h=Rh(t.defs,e);for(let f in t.defs){let g=t.defs[f];h[g.defId].display==="inverse-background"&&(g.groupId?(i[g.groupId]=[],s[g.groupId]||(s[g.groupId]=g)):o[f]=[])}for(let f in t.instances){let g=t.instances[f],v=t.defs[g.defId],_=h[v.defId],S=g.range,T=!v.allDay&&r?iA(S,r):S,A=Es(T,n);A&&(_.display==="inverse-background"?v.groupId?i[v.groupId].push(A):o[g.defId].push(A):_.display!=="none"&&(_.display==="background"?l:u).push({def:v,ui:_,instance:g,range:A,isStart:T.start&&T.start.valueOf()===A.start.valueOf(),isEnd:T.end&&T.end.valueOf()===A.end.valueOf()}))}for(let f in i){let g=i[f],v=L0(g,n);for(let _ of v){let S=s[f],T=h[S.defId];l.push({def:S,ui:T,instance:null,range:_,isStart:!1,isEnd:!1})}}for(let f in o){let g=o[f],v=L0(g,n);for(let _ of v)l.push({def:t.defs[f],ui:h[f],instance:null,range:_,isStart:!1,isEnd:!1})}return{bg:l,fg:u}}function Y4(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function z0(t,e){t.fcSeg=e}function Ga(t){return t.fcSeg||t.parentNode.fcSeg||null}function Rh(t,e){return $i(t,n=>mA(n,e))}function mA(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),cA(n)}function vA(t,e){let n=t.map(Q4);return n.sort((r,i)=>fV(r,i,e)),n.map(r=>r._seg)}function Q4(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:o,duration:o-i,allDay:Number(n.allDay),_seg:t})}function X4(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:o}=t.eventRange,s=o.startEditable;for(let l of r)s=l(s,i,o,e);return s}function J4(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function eF(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function _A(t,e,n,r,i,o,s){let{dateEnv:l,options:u}=n,{displayEventTime:h,displayEventEnd:f}=u,g=t.eventRange.def,v=t.eventRange.instance;h==null&&(h=r!==!1),f==null&&(f=i!==!1);let _=v.range.start,S=v.range.end,T=t.start||t.eventRange.range.start,A=t.end||t.eventRange.range.end,P=It(_).valueOf()===It(T).valueOf(),M=It(Oo(S,-1)).valueOf()===It(Oo(A,-1)).valueOf();return h&&!g.allDay&&(P||M)?(T=P?_:T,A=M?S:A,f&&g.hasEnd?l.formatRange(T,A,e,{forcedStartTzo:v.forcedStartTzo,forcedEndTzo:v.forcedEndTzo}):l.format(T,e,{forcedTzo:v.forcedStartTzo})):""}function To(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Di(e,r.start)}}function tF(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function yA(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function bA(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:o,options:s}=e,{eventInteractive:l}=s;return l==null&&(l=n.interactive,l==null&&(l=!!o.hasHandlers("eventClick"))),l?ZC(u=>{o.trigger("eventClick",{el:u.target,event:new Mt(e,n,r),jsEvent:u,view:e.viewApi})}):{}}const nF={start:Z,end:Z,allDay:Boolean};function rF(t,e,n){let r=iF(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function iF(t,e){let{refined:n,extra:r}=gv(t,nF),i=n.start?e.createMarkerMeta(n.start):null,o=n.end?e.createMarkerMeta(n.end):null,{allDay:s}=n;return s==null&&(s=i&&i.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:o?o.marker:null},allDay:s},r)}function oF(t,e){return E4(t.range,e.range)&&t.allDay===e.allDay&&sF(t,e)}function sF(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function aF(t,e){return Object.assign(Object.assign({},EA(t.range,e,t.allDay)),{allDay:t.allDay})}function wA(t,e,n){return Object.assign(Object.assign({},EA(t,e,n)),{timeZone:e.timeZone})}function EA(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function lF(t,e,n){let r=lA({editable:!1},n),i=kg(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:mA(i,e),instance:bv(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function cF(t,e,n){let r=!1,i=function(l){r||(r=!0,e(l))},o=function(l){r||(r=!0,n(l))},s=t(i,o);s&&typeof s.then=="function"&&s.then(i,o)}class H0 extends Error{constructor(e,n){super(e),this.response=n}}function uF(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(o=>[o,i],()=>{throw new H0("Failure parsing JSON",i)});throw new H0("Request failed",i)})}let mp;function SA(){return mp==null&&(mp=dF()),mp}function dF(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class hF extends yt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Sh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Sh(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",o=!i&&n.height!=null?n.height:"",s=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return SA()||s.push("fc-liquid-hack"),e.children(s,o,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class il{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function fF(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Av(t){return{[t.component.uid]:t}}const xg={};class ol extends tr{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let o,s;return i?(o=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(o,ct(1,e.unit)).valueOf()-r.valueOf()):(o=r,s=1e3*60),s=Math.min(1e3*60*60*24,s),{state:{nowDate:o,todayRange:pF(o)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}ol.contextType=Hi;function pF(t){let e=It(t),n=un(e,1);return{start:e,end:n}}class gF{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),o,s;for(let l in n)i.push(l);for(o=0;o<i.length;o+=1)if(s=n[i[o]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=ct(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Bt(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),Bt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),o=rF(r,i.dateEnv,ct({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),pA(o,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),G4(e,n))}addEvent(e,n){if(e instanceof Mt){let s=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ig({def:s,instance:l})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof pa)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=vv(r.eventSources));else if(n!=null){let s=this.getEventSourceById(n);if(!s)return console.warn(`Could not find an event source with ID "${n}"`),null;i=s.internalEventSource}let o=aA(e,i,r,!1);if(o){let s=new Mt(r,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ig(o)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:gA(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let o in r){let s=r[o];if(s.publicId===e){if(s.recurringDef)return new Mt(n,s,null);for(let l in i){let u=i[l];if(u.defId===s.defId)return new Mt(n,s,u)}}}return null}getEvents(){let e=this.getCurrentData();return hs(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new pa(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new pa(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof pa)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=uA(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new pa(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=ct(e);n&&this.trigger("_scrollRequest",{time:n})}}function mF(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function TA(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function vF(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function _F(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function yF(t,e){return{left:t.left-e.left,top:t.top-e.top}}const vp=nr();class bF{constructor(){this.getKeysForEventDefs=xe(this._getKeysForEventDefs),this.splitDateSelection=xe(this._splitDateSpan),this.splitEventStore=xe(this._splitEventStore),this.splitIndividualUi=xe(this._splitIndividualUi),this.splitEventDrag=xe(this._splitInteraction),this.splitEventResize=xe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,r),s=this.splitEventStore(e.eventStore,r),l=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),h={};this.eventUiBuilders=$i(n,(f,g)=>this.eventUiBuilders[g]||xe(wF));for(let f in n){let g=n[f],v=s[f]||vp,_=this.eventUiBuilders[f];h[f]={businessHours:g.businessHours||e.businessHours,dateSelection:i[f]||null,eventStore:v,eventUiBases:_(e.eventUiBases[""],g.ui,o[f]),eventSelection:v.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[f]||null,eventResize:u[f]||null}}return h}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return $i(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,o={};for(let s in r)for(let l of n[s])o[l]||(o[l]=nr()),o[l].defs[s]=r[s];for(let s in i){let l=i[s];for(let u of n[l.defId])o[u]&&(o[u].instances[s]=l)}return o}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let o of n[i])r[o]||(r[o]={}),r[o][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,i),s=l=>{n[l]||(n[l]={affectedEvents:r[l]||vp,mutatedEvents:o[l]||vp,isEvent:e.isEvent})};for(let l in r)s(l);for(let l in o)s(l)}return n}}function wF(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":cA(r)};return n&&Object.assign(i,n),i}function CA(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Di(r.activeRange,t))),isOther:!!(r&&!Di(r.currentRange,t)),isToday:!!(e&&Di(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function Rv(t,e){let n=["fc-day",`fc-day-${CV[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const EF=Bt({year:"numeric",month:"long",day:"numeric"}),SF=Bt({week:"long"});function kh(t,e,n="day",r=!0){const{dateEnv:i,options:o,calendarApi:s}=t;let l=i.format(e,n==="week"?SF:EF);if(o.navLinks){let u=i.toDate(e);const h=f=>{let g=n==="day"?o.navLinkDayClick:n==="week"?o.navLinkWeekClick:null;typeof g=="function"?g.call(s,i.toDate(e),f):(typeof g=="string"&&(n=g),s.zoomTo(e,n))};return Object.assign({title:gc(o.navLinkHint,[l,u],l),"data-navlink":""},r?GC(h):{onClick:h})}return{"aria-label":l}}let _p=null;function TF(){return _p===null&&(_p=CF()),_p}function CF(){let t=document.createElement("div");pc(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return cv(t),n}let yp;function AF(){return yp||(yp=RF()),yp}function RF(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=AA(t);return document.body.removeChild(t),e}function AA(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function kF(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,l=AA(t),u=l.y-r-i,h=l.x-o-s,f={borderLeft:r,borderRight:i,borderTop:o,borderBottom:s,scrollbarBottom:h,scrollbarLeft:0,scrollbarRight:0};return TF()&&n.direction==="rtl"?f.scrollbarLeft=u:f.scrollbarRight=u,e&&(f.paddingLeft=parseInt(n.paddingLeft,10)||0,f.paddingRight=parseInt(n.paddingRight,10)||0,f.paddingTop=parseInt(n.paddingTop,10)||0,f.paddingBottom=parseInt(n.paddingBottom,10)||0),f}function IF(t,e=!1,n){let r=kv(t),i=kF(t,e),o={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(o.left+=i.paddingLeft,o.right-=i.paddingRight,o.top+=i.paddingTop,o.bottom-=i.paddingBottom),o}function kv(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function xF(t){let e=RA(t),n=t.getBoundingClientRect();for(let r of e){let i=TA(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function RA(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Za{constructor(e,n,r,i){this.els=n;let o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),i&&this.buildElVerticals(o.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let o=i.getBoundingClientRect();n.push(o.left-e),r.push(o.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let o=i.getBoundingClientRect();n.push(o.top-e),r.push(o.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,o;for(o=0;o<i;o+=1)if(e>=n[o]&&e<r[o])return o}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,o;for(o=0;o<i;o+=1)if(e>=n[o]&&e<r[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return ud(this.tops||[],e.tops||[])&&ud(this.bottoms||[],e.bottoms||[])&&ud(this.lefts||[],e.lefts||[])&&ud(this.rights||[],e.rights||[])}}function ud(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class Iv{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class PF extends Iv{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class DF extends Iv{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ri extends yt{constructor(){super(...arguments),this.uid=xs()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Cn(e,".fc-event-mirror")}isValidDateDownEl(e){return!Cn(e,".fc-event:not(.fc-bg-event)")&&!Cn(e,".fc-more-link")&&!Cn(e,"a[data-navlink]")&&!Cn(e,".fc-popover")}}class kA{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:xv(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,o=n.span;i.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:o.start}},r),i.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(bp(i,n.level,n.levelCoord),bp(r,n.level,[e])):bp(r[n.level],n.lateral,e),this.stackCnts[fs(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:o}=this,s=n.length,l=0,u=-1,h=-1,f=null,g=0;for(let S=0;S<s;S+=1){const T=n[S];if(!i&&T>=l+this.getEntryThickness(e))break;let A=r[S],P,M=Dg(A,e.span.start,Pg),U=M[0]+M[1];for(;(P=A[U])&&P.span.start<e.span.end;){let q=T+this.getEntryThickness(P);q>l&&(l=q,f=P,u=S,h=U),q===l&&(g=Math.max(g,o[fs(P)]+1)),U+=1}}let v=0;if(f)for(v=u+1;v<s&&n[v]<l;)v+=1;let _=-1;return v<s&&n[v]===l&&(_=Dg(r[v],e.span.end,Pg)[0]),{touchingLevel:u,touchingLateral:h,touchingEntry:f,stackCnt:g,levelCoord:l,level:v,lateral:_}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let o=0;o<r;o+=1){let s=e[o],l=n[o];for(let u of s)i.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:l}))}return i}}function Pg(t){return t.span.end}function fs(t){return t.index+":"+t.span.start}function MF(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let o of e)xv(o.span,i.span)?i={entries:o.entries.concat(i.entries),span:OF(o.span,i.span)}:r.push(o);r.push(i),e=r}return e}function OF(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function xv(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function bp(t,e,n){t.splice(e,0,n)}function Dg(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let o=Math.floor(r+(i-r)/2),s=n(t[o]);if(e<s)i=o;else if(e>s)r=o+1;else return[o,1]}return[r,0]}class NF{constructor(e,n){this.emitter=new bf}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Pv={};function LF(t,e){return!t||e>10?Bt({weekday:"short"}):e>1?Bt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Bt({weekday:"long"})}const IA="fc-col-header-cell";function xA(t){return t.text}class BF extends yt{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:o}=this,{date:s,dateProfile:l}=o,u=CA(s,o.todayRange,null,l),h=[IA].concat(Rv(u,r)),f=e.format(s,o.dayHeaderFormat),g=!u.isDisabled&&o.colCnt>1?kh(this.context,s):{},v=e.toDate(s);e.namedTimeZoneImpl&&(v=Oo(v,36e5));let _=Object.assign(Object.assign(Object.assign({date:v,view:i},o.extraRenderProps),{text:f}),u);return V(rr,{elTag:"th",elClasses:h,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":u.isDisabled?void 0:fv(s)},o.extraDataAttrs),renderProps:_,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:xA,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},S=>V("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&V(S,{elTag:"a",elAttrs:g,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}}const VF=Bt({weekday:"long"});class FF extends yt{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:o}=this.context,s=un(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(s,e.dayHeaderFormat),h=Object.assign(Object.assign(Object.assign(Object.assign({date:s},l),{view:i}),e.extraRenderProps),{text:u});return V(rr,{elTag:"th",elClasses:[IA,...Rv(l,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:xA,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},f=>V("div",{className:"fc-scrollgrid-sync-inner"},V(f,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(s,VF)}})))}}class PA extends yt{constructor(){super(...arguments),this.createDayHeaderFormatter=xe($F)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:o}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return V(ol,{unit:"day"},(l,u)=>V("tr",{role:"row"},o&&o("day"),n.map(h=>i?V(BF,{key:h.toISOString(),date:h,dateProfile:r,todayRange:u,colCnt:n.length,dayHeaderFormat:s}):V(FF,{key:h.getUTCDay(),dow:h.getUTCDay(),dayHeaderFormat:s}))))}}function $F(t,e,n){return t||LF(e,n)}class DA{constructor(e,n){let r=e.start,{end:i}=e,o=[],s=[],l=-1;for(;r<i;)n.isHiddenDay(r)?o.push(l+.5):(l+=1,o.push(l),s.push(r)),r=un(r,1);this.dates=s,this.indices=o,this.cnt=s.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(un(e.end,-1)),i=Math.max(0,n),o=Math.min(this.cnt-1,r);return i=Math.ceil(i),o=Math.floor(o),i<=o?{firstIndex:i,lastIndex:o,isStart:n===i,isEnd:r===o}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Ps(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class MA{constructor(e,n){let{dates:r}=e,i,o,s;if(n){for(o=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==o;i+=1);s=Math.ceil(r.length/i)}else s=1,i=r.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:o,lastIndex:s}=r,l=o;for(;l<=s;){let u=Math.floor(l/n),h=Math.min((u+1)*n,s+1);i.push({row:u,firstCol:l%n,lastCol:(h-1)%n,isStart:r.isStart&&l===o,isEnd:r.isEnd&&h-1===s}),l=h}}return i}}class OA{constructor(){this.sliceBusinessHours=xe(this._sliceBusinessHours),this.sliceDateSelection=xe(this._sliceDateSpan),this.sliceEventStore=xe(this._sliceEventStore),this.sliceEventDrag=xe(this._sliceInteraction),this.sliceEventResize=xe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...o){let{eventUiBases:s}=e,l=this.sliceEventStore(e.eventStore,s,n,r,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,s,i,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...o),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,n,r,...o),eventResize:this.sliceEventResize(e.eventResize,s,n,r,...o),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...o){return this._sliceDateSpan({range:{start:e,end:Oo(e,1)},allDay:!1},n,r,{},i,...o)}_sliceBusinessHours(e,n,r,i,...o){return e?this._sliceEventStore(Ss(e,dd(n,!!r),i),{},n,r,...o).bg:[]}_sliceEventStore(e,n,r,i,...o){if(e){let s=U0(e,n,dd(r,!!i),i);return{bg:this.sliceEventRanges(s.bg,o),fg:this.sliceEventRanges(s.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...o){if(!e)return null;let s=U0(e.mutatedEvents,n,dd(r,!!i),i);return{segs:this.sliceEventRanges(s.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,o,...s){if(!e)return[];let l=dd(n,!!r),u=Es(e.range,l);if(u){e=Object.assign(Object.assign({},e),{range:u});let h=lF(e,i,o),f=this.sliceRange(e.range,...s);for(let g of f)g.eventRange=h;return f}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:un(r.start,1)});let i=this.sliceRange(r,...n);for(let o of i)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return i}}function dd(t,e){let n=t.activeRange;return e?n:{start:Oo(n.start,t.slotMinTime.milliseconds),end:Oo(n.end,t.slotMaxTime.milliseconds-864e5)}}function NA(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!_f(e.validRange,r[i].range))return!1;return LA({eventDrag:t},n)}function UF(t,e,n){return _f(e.validRange,t.range)?LA({dateSelection:t},n):!1}function LA(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||zF)(r,e)}function zF(t,e,n={},r){return!(t.eventDrag&&!HF(t,e,n,r)||t.dateSelection&&!jF(t,e,n,r))}function HF(t,e,n,r){let i=e.getCurrentData(),o=t.eventDrag,s=o.mutatedEvents,l=s.defs,u=s.instances,h=Rh(l,o.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(h=$i(h,r));let f=$4(t.eventStore,o.affectedEvents.instances),g=f.defs,v=f.instances,_=Rh(g,t.eventUiBases);for(let S in u){let T=u[S],A=T.range,P=h[T.defId],M=l[T.defId];if(!BA(P.constraints,A,f,t.businessHours,e))return!1;let{eventOverlap:U}=e.options,q=typeof U=="function"?U:null;for(let se in v){let D=v[se];if(yv(A,D.range)&&(_[D.defId].overlap===!1&&o.isEvent||P.overlap===!1||q&&!q(new Mt(e,g[D.defId],D),new Mt(e,M,T))))return!1}let oe=i.eventStore;for(let se of P.allows){let D=Object.assign(Object.assign({},n),{range:T.range,allDay:M.allDay}),k=oe.defs[M.defId],I=oe.instances[S],F;if(k?F=new Mt(e,k,I):F=new Mt(e,M),!se(Tv(D,e),F))return!1}}return!0}function jF(t,e,n,r){let i=t.eventStore,o=i.defs,s=i.instances,l=t.dateSelection,u=l.range,{selectionConfig:h}=e.getCurrentData();if(r&&(h=r(h)),!BA(h.constraints,u,i,t.businessHours,e))return!1;let{selectOverlap:f}=e.options,g=typeof f=="function"?f:null;for(let v in s){let _=s[v];if(yv(u,_.range)&&(h.overlap===!1||g&&!g(new Mt(e,o[_.defId],_),null)))return!1}for(let v of h.allows){let _=Object.assign(Object.assign({},n),l);if(!v(Tv(_,e),null))return!1}return!0}function BA(t,e,n,r,i){for(let o of t)if(!qF(WF(o,e,n,r,i),e))return!1;return!0}function WF(t,e,n,r,i){return t==="businessHours"?wp(Ss(r,e,i)):typeof t=="string"?wp(yf(n,o=>o.groupId===t)):typeof t=="object"&&t?wp(Ss(t,e,i)):[]}function wp(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function qF(t,e){for(let n of t)if(_f(n,e))return!0;return!1}const hd=/^(visible|hidden)$/;class GF extends yt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ni(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,o=["fc-scroller"];return n&&(r?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),V("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(hd.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(hd.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return hd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return hd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ri{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:o}=this,s=!1,l=!1;n!==null?(s=r in o,o[r]=n,i[r]=(i[r]||0)+1,l=!0):(i[r]-=1,i[r]||(delete o[r],delete this.callbackMap[r],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(r)),l&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return o4(this.currentMap,e,n,r)}getAll(){return vv(this.currentMap)}}function ZF(t){let e=rV(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,vV(r));return Math.ceil(n)}function VA(t,e){return t.liquid&&e.liquid}function KF(t,e){return e.maxHeight!=null||VA(t,e)}function YF(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):V("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,V(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function QF(t,e){return Mo(t,e,Pr)}function XF(t,e){let n=[];for(let r of t){let i=r.span||1;for(let o=0;o<i;o+=1)n.push(V("col",{style:{width:r.width==="shrink"?JF(e):r.width||"",minWidth:r.minWidth||""}}))}return V("colgroup",{},...n)}function JF(t){return t??4}function e$(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function t$(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function n$(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Mg(t){return V("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Ih(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function FA(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Dv extends yt{constructor(){super(...arguments),this.processCols=xe(e=>e,QF),this.renderMicroColGroup=xe(XF),this.scrollerRefs=new Ri,this.scrollerElRefs=new Ri(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],o=this.processCols(e.cols),s=this.renderMicroColGroup(o,n.shrinkWidth),l=t$(e.liquid,r);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let u=i.length,h=0,f,g=[],v=[],_=[];for(;h<u&&(f=i[h]).type==="header";)g.push(this.renderSection(f,s,!0)),h+=1;for(;h<u&&(f=i[h]).type==="body";)v.push(this.renderSection(f,s,!1)),h+=1;for(;h<u&&(f=i[h]).type==="footer";)_.push(this.renderSection(f,s,!0)),h+=1;let S=!SA();const T={role:"rowgroup"};return V("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!S&&g.length)&&V("thead",T,...g),!!(!S&&v.length)&&V("tbody",T,...v),!!(!S&&_.length)&&V("tfoot",T,..._),S&&V("tbody",T,...g,...v,..._))}renderSection(e,n,r){return"outerContent"in e?V(kt,{key:e.key},e.outerContent):V("tr",{key:e.key,role:"presentation",className:n$(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:o}=this,{forceYScrollbars:s,scrollerClientWidths:l,scrollerClientHeights:u}=this.state,h=KF(o,e),f=VA(o,e),g=o.liquid?s?"scroll":h?"auto":"hidden":"visible",v=e.key,_=YF(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&l[v]!==void 0?l[v]:null,clientHeight:u[v]!==void 0?u[v]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return V(i?"th":"td",{ref:r.elRef,role:"presentation"},V("div",{className:`fc-scroller-harness${f?" fc-scroller-harness-liquid":""}`},V(GF,{ref:this.scrollerRefs.createRef(v),elRef:this.scrollerElRefs.createRef(v),overflowY:g,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:f,liquidIsAbsolute:!0},_)))}_handleScrollerEl(e,n){let r=r$(this.props.sections,n);r&&ni(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return e$(this.props.cols)?ZF(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=AF(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,o={},s={};for(let l in n.currentMap){let u=n.currentMap[l];if(u&&u.needsYScrolling()){i=!0;break}}for(let l of this.props.sections){let u=l.key,h=r.currentMap[u];if(h){let f=h.parentNode;o[u]=Math.floor(f.getBoundingClientRect().width-(i?e.y:0)),s[u]=Math.floor(f.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:o,scrollerClientHeights:s}}}Dv.addStateEquality({scrollerClientWidths:Pr,scrollerClientHeights:Pr});function r$(t,e){for(let n of t)if(n.key===e)return n;return null}class Mv extends yt{constructor(){super(...arguments),this.buildPublicEvent=xe((e,n,r)=>new Mt(e,n,r)),this.handleEl=e=>{this.el=e,ni(this.props.elRef,e),e&&z0(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:o}=i,{ui:s}=o,l={event:this.buildPublicEvent(n,o.def,o.instance),view:n.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&X4(i,n),isStartResizable:!e.disableResizing&&J4(i,n),isEndResizable:!e.disableResizing&&eF(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return V(rr,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...tF(l),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&z0(this.el,this.props.seg)}}class Ov extends yt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:o}=i.eventRange,s=r.eventTimeFormat||e.defaultTimeFormat,l=_A(i,s,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return V(Mv,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:bA(i,n),defaultGenerator:i$,timeText:l}),(u,h)=>V(kt,null,V(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:h.textColor}}),!!h.isStartResizable&&V("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!h.isEndResizable&&V("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Ov.addPropsEquality({seg:Pr});function i$(t){return V("div",{className:"fc-event-main-frame"},t.timeText&&V("div",{className:"fc-event-time"},t.timeText),V("div",{className:"fc-event-title-container"},V("div",{className:"fc-event-title fc-sticky"},t.event.title||V(kt,null," "))))}const Nv=t=>V(Hi.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return V(rr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),o$=Bt({day:"numeric"});class Lv extends yt{constructor(){super(...arguments),this.refineRenderProps=Od(s$)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return V(rr,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":fv(e.date)}),elClasses:[...Rv(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function Bv(t){return!!(t.dayCellContent||Rg("dayCellContent",t))}function s$(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,o=CA(e,t.todayRange,null,r),s=t.showDayNumber?n.format(e,i?t.monthStartFormat:o$):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},o),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class $A extends yt{render(){let{props:e}=this,{seg:n}=e;return V(Mv,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:a$,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function a$(t){let{title:e}=t.event;return e&&V("div",{className:"fc-event-title"},t.event.title)}function UA(t){return V("div",{className:`fc-${t}`})}const zA=t=>V(Hi.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,o=r.weekNumberFormat||t.defaultFormat,s=n.computeWeekNumber(i),l=n.format(i,o),u={num:s,text:l,date:i};return V(rr,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:l$,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function l$(t){return t.text}const Ep=10;class c$ extends yt{constructor(){super(...arguments),this.state={titleId:mf()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ni(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=WC(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,o=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return H5(V("div",Object.assign({},r.extraAttrs,{id:r.id,className:o.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),V("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},V("span",{className:"fc-popover-title",id:i.titleId},r.title),V("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),V("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,o=xF(n);if(o){let s=i.getBoundingClientRect(),l=r?Cn(n,".fc-scrollgrid").getBoundingClientRect().top:o.top,u=e?o.right-s.width:o.left;l=Math.max(l,Ep),u=Math.min(u,document.documentElement.clientWidth-Ep-s.width),u=Math.max(u,Ep);let h=i.offsetParent.getBoundingClientRect();pc(i,{top:l-h.top,left:u-h.left})}}}class u$ extends ri{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:o,dateProfile:s}=r,l=n.format(i,e.dayPopoverFormat);return V(Lv,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:o},(u,h,f)=>V(c$,{elRef:f.ref,id:r.id,title:l,extraClassNames:["fc-more-popover"].concat(f.className||[]),extraAttrs:f,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Bv(e)&&V(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:o,props:s}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class HA extends yt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:mf()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ni(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,o=j0(n).start;function s(l){let{def:u,instance:h,range:f}=l.eventRange;return{event:new Mt(r,u,h),start:r.dateEnv.toDate(f.start),end:r.dateEnv.toDate(f.end),isStart:l.isStart,isEnd:l.isEnd}}typeof i=="function"&&(i=i({date:o,allDay:!!n.allDayDate,allSegs:n.allSegs.map(s),hiddenSegs:n.hiddenSegs.map(s),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(o,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return V(Hi.Consumer,null,r=>{let{viewApi:i,options:o,calendarApi:s}=r,{moreLinkText:l}=o,{moreCnt:u}=e,h=j0(e),f=typeof l=="function"?l.call(s,u):`+${u} ${l}`,g=gc(o.moreLinkHint,[u],f),v={num:u,shortText:`+${u}`,text:f,view:i};return V(kt,null,!!e.moreCnt&&V(rr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),GC(this.handleClick)),{title:g,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:v,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||d$,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),n.isPopoverOpen&&V(u$,{id:n.popoverId,startDate:h.start,endDate:h.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Cn(this.linkEl,".fc-view-harness"))}}function d$(t){return t.text}function j0(t){if(t.allDayDate)return{start:t.allDayDate,end:un(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:jA(e),end:f$(e)}}function jA(t){return t.reduce(h$).eventRange.range.start}function h$(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function f$(t){return t.reduce(p$).eventRange.range.end}function p$(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class g${constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class m$ extends g${constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const v$=[],WA={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},qA=Object.assign(Object.assign({},WA),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function _$(t){let e=t.length>0?t[0].code:"en",n=v$.concat(t),r={en:qA};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function GA(t,e){return typeof t=="object"&&!Array.isArray(t)?ZA(t.code,[t.code],t):y$(t,e)}function y$(t,e){let n=[].concat(t||[]),r=b$(n,e)||qA;return ZA(t,n,r)}function b$(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let o=r.slice(0,i).join("-");if(e[o])return e[o]}}return null}function ZA(t,e,n){let r=mv([WA,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function ji(t){return{id:xs(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function w$(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(o){for(let s of o){const l=s.name,u=n[l];u===void 0?(n[l]=s.id,i(s.deps),r=S$(r,s)):u!==s.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&i(t),i(e),r}function E$(){let t=[],e=[],n;return(r,i)=>((!n||!Mo(r,t)||!Mo(i,e))&&(n=w$(r,i)),t=r,e=i,n)}function S$(t,e){return{premiumReleaseDate:T$(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function T$(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Uo extends cu{}Uo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Uo.prototype.baseIconClass="fc-icon";Uo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Uo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Uo.prototype.iconOverrideOption="buttonIcons";Uo.prototype.iconOverrideCustomButtonOption="icon";Uo.prototype.iconOverridePrefix="fc-icon-";function C$(t,e){let n={},r;for(r in t)Og(r,n,t,e);for(r in e)Og(r,n,t,e);return n}function Og(t,e,n,r){if(e[t])return e[t];let i=A$(t,e,n,r);return i&&(e[t]=i),i}function A$(t,e,n,r){let i=n[t],o=r[t],s=f=>i&&i[f]!==null?i[f]:o&&o[f]!==null?o[f]:null,l=s("component"),u=s("superType"),h=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");h=Og(u,e,n,r)}return!l&&h&&(l=h.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},h?h.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},h?h.overrides:{}),o?o.rawOptions:{})}:null}function W0(t){return $i(t,R$)}function R$(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=q0(e):n&&!(n.prototype instanceof yt)&&(n=q0(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function q0(t){return e=>V(Hi.Consumer,null,n=>V(rr,{elTag:"div",elClasses:nA(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function k$(t,e,n,r){let i=W0(t),o=W0(e.views),s=C$(i,o);return $i(s,l=>I$(l,o,e,n,r))}function I$(t,e,n,r,i){let o=t.overrides.duration||t.defaults.duration||r.duration||n.duration,s=null,l="",u="",h={};if(o&&(s=x$(o),s)){let v=Ag(s);l=v.unit,v.value===1&&(u=l,h=e[l]?e[l].rawOptions:{})}let f=v=>{let _=v.buttonText||{},S=t.defaults.buttonTextKey;return S!=null&&_[S]!=null?_[S]:_[t.type]!=null?_[t.type]:_[u]!=null?_[u]:null},g=v=>{let _=v.buttonHints||{},S=t.defaults.buttonTextKey;return S!=null&&_[S]!=null?_[S]:_[t.type]!=null?_[t.type]:_[u]!=null?_[u]:null};return{type:t.type,component:t.component,duration:s,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},h),t.overrides),buttonTextOverride:f(r)||f(n)||t.overrides.buttonText,buttonTextDefault:f(i)||t.defaults.buttonText||f(mc)||t.type,buttonTitleOverride:g(r)||g(n)||t.overrides.buttonHint,buttonTitleDefault:g(i)||t.defaults.buttonHint||g(mc)}}let G0={};function x$(t){let e=JSON.stringify(t),n=G0[e];return n===void 0&&(n=ct(t),G0[e]=n),n}function P$(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function D$(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function M$(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function O$(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function N$(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function L$(t,e,n){let r=e?e.activeRange:null;return YA({},H$(t,n),r,n)}function B$(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return YA(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return F$(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?QA(t,i,r):t;case"FETCH_EVENT_SOURCES":return Vv(t,e.sourceIds?QC(e.sourceIds):XA(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return z$(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function V$(t,e,n){let r=e?e.activeRange:null;return Vv(t,XA(t,n),r,!0,n)}function KA(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function YA(t,e,n,r){let i={};for(let o of e)i[o.sourceId]=o;return n&&(i=QA(i,n,r)),Object.assign(Object.assign({},t),i)}function F$(t,e){return ws(t,n=>n.sourceId!==e)}function QA(t,e,n){return Vv(t,ws(t,r=>$$(r,e,n)),e,!1,n)}function $$(t,e,n){return JA(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Vv(t,e,n,r,i){let o={};for(let s in t){let l=t[s];e[s]?o[s]=U$(l,n,r,i):o[s]=l}return o}function U$(t,e,n,r){let{options:i,calendarApi:o}=r,s=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=xs();return s.fetch({eventSource:t,range:e,isRefetch:n,context:r},u=>{let{rawEvents:h}=u;i.eventSourceSuccess&&(h=i.eventSourceSuccess.call(o,h,u.response)||h),t.success&&(h=t.success.call(o,h,u.response)||h),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:h})},u=>{let h=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(o,u),h=!0),t.failure&&(t.failure(u),h=!0),h||console.warn(u.message,u),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:u})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function z$(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function XA(t,e){return ws(t,n=>JA(n,e))}function H$(t,e){let n=dA(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let o of r){let s=uA(o,e,n);s&&i.push(s)}return i}function JA(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function j$(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function W$(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function q$(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function G$(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Z$(t,e,n,r,i){let o=t.headerToolbar?Z0(t.headerToolbar,t,e,n,r,i):null,s=t.footerToolbar?Z0(t.footerToolbar,t,e,n,r,i):null;return{header:o,footer:s}}function Z0(t,e,n,r,i,o){let s={},l=[],u=!1;for(let h in t){let f=t[h],g=K$(f,e,n,r,i,o);s[h]=g.widgets,l.push(...g.viewsWithButtons),u=u||g.hasTitle}return{sectionWidgets:s,viewsWithButtons:l,hasTitle:u}}function K$(t,e,n,r,i,o){let s=e.direction==="rtl",l=e.customButtons||{},u=n.buttonText||{},h=e.buttonText||{},f=n.buttonHints||{},g=e.buttonHints||{},v=t?t.split(" "):[],_=[],S=!1;return{widgets:v.map(A=>A.split(",").map(P=>{if(P==="title")return S=!0,{buttonName:P};let M,U,q,oe,se,D;if(M=l[P])q=k=>{M.click&&M.click.call(k.target,k,k.target)},(oe=r.getCustomButtonIconClass(M))||(oe=r.getIconClass(P,s))||(se=M.text),D=M.hint||M.text;else if(U=i[P]){_.push(P),q=()=>{o.changeView(P)},(se=U.buttonTextOverride)||(oe=r.getIconClass(P,s))||(se=U.buttonTextDefault);let k=U.buttonTextOverride||U.buttonTextDefault;D=gc(U.buttonTitleOverride||U.buttonTitleDefault||e.viewHint,[k,P],k)}else if(o[P])if(q=()=>{o[P]()},(se=u[P])||(oe=r.getIconClass(P,s))||(se=h[P]),P==="prevYear"||P==="nextYear"){let k=P==="prevYear"?"prev":"next";D=gc(f[k]||g[k],[h.year||"year","year"],h[P])}else D=k=>gc(f[P]||g[P],[h[k]||k,k],h[P]);return{buttonName:P,buttonClick:q,buttonIcon:oe,buttonText:se,buttonHint:D}})),viewsWithButtons:_,hasTitle:S}}class Y${constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Q$={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const X$=ji({name:"array-event-source",eventSourceDefs:[Q$]});let J$={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;cF(i.bind(null,wA(t.range,r)),o=>e({rawEvents:o}),n)}};const eU=ji({name:"func-event-source",eventSourceDefs:[J$]}),tU={method:String,extraParams:Z,startParam:String,endParam:String,timeZoneParam:String};let nU={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=iU(r,t.range,t.context);uF(r.method,r.url,i).then(([o,s])=>{e({rawEvents:o,response:s})},n)}};const rU=ji({name:"json-event-source",eventSourceRefiners:tU,eventSourceDefs:[nU]});function iU(t,e,n){let{dateEnv:r,options:i}=n,o,s,l,u,h={};return o=t.startParam,o==null&&(o=i.startParam),s=t.endParam,s==null&&(s=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},Object.assign(h,u),h[o]=r.formatIso(e.start),h[s]=r.formatIso(e.end),r.timeZone!=="local"&&(h[l]=r.timeZone),h}const oU={daysOfWeek:Z,startTime:ct,endTime:ct,duration:ct,startRecur:Z,endRecur:Z};let sU={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=wV(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Es(e,{start:t.startRecur,end:t.endRecur});return r?lU(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const aU=ji({name:"simple-recurring-event",recurringTypes:[sU],eventRefiners:oU});function lU(t,e,n,r,i){let o=t?QC(t):null,s=It(i.start),l=i.end,u=[];for(e&&(e.milliseconds<0?l=un(l,1):e.milliseconds>=1e3*60*60*24&&(s=un(s,-1)));s<l;){let h;(!o||o[s.getUTCDay()])&&(e?h=r.add(s,e):h=s,u.push(r.createMarker(n.toDate(h)))),s=un(s,1)}return u}const cU=ji({name:"change-handler",optionChangeHandlers:{events(t,e){K0([t],e)},eventSources:K0}});function K0(t,e){let n=vv(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let o=!1;for(let s=0;s<n.length;s+=1)if(n[s]._raw===i){n.splice(s,1),o=!0;break}o||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function uU(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},wA(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function dU(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",hs(t,e))}const hU=[X$,eU,rU,aU,cU,ji({name:"misc",isLoadingFuncs:[t=>KA(t.eventSources)],propSetHandlers:{dateProfile:uU,eventStore:dU}})];class fU{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new lv(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function pU(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Bt(e.titleFormat||gU(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function gU(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=yh(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class Y0{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class mU{constructor(e){this.computeCurrentViewData=xe(this._computeCurrentViewData),this.organizeRawLocales=xe(_$),this.buildLocale=xe(GA),this.buildPluginHooks=E$(),this.buildDateEnv=xe(vU),this.buildTheme=xe(_U),this.parseToolbars=xe(Z$),this.buildViewSpecs=xe(k$),this.buildDateProfileGenerator=Od(yU),this.buildViewApi=xe(bU),this.buildViewUiProps=Od(SU),this.buildEventUiBySource=xe(wU,Pr),this.buildEventUiBases=xe(EU),this.parseContextBusinessHours=Od(TU),this.buildTitle=xe(pU),this.nowManager=new Y0,this.emitter=new bf,this.actionRunner=new fU(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=v=>{this.actionRunner.request(v)},this.props=e,this.actionRunner.pause(),this.nowManager=new Y0;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,o=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let s={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=M$(r.calendarOptions,r.dateEnv,this.nowManager),u=o.dateProfileGenerator.build(l);Di(u.activeRange,l)||(l=u.currentRange.start);for(let v of r.pluginHooks.contextInit)v(s);let h=L$(r.calendarOptions,u,s),f={dynamicOptionOverrides:n,currentViewType:i,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(s),eventSources:h,eventUiBases:{},eventStore:nr(),renderableEventStore:nr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},g=Object.assign(Object.assign({},s),f);for(let v of r.pluginHooks.reducers)Object.assign(f,v(null,null,g));Sp(f,s)&&this.emitter.trigger("loading",!0),this.state=f,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,o=O$(r.dynamicOptionOverrides,e),s=this.computeOptionsData(n.optionOverrides,o,n.calendarApi),l=P$(r.currentViewType,e),u=this.computeCurrentViewData(l,s,n.optionOverrides,o);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(u.options);let h={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:f,dateProfile:g}=r;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(g=u.dateProfileGenerator.build(f)),f=D$(f,e),g=N$(g,e,f,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Di(g.currentRange,f))&&(f=g.currentRange.start);let v=B$(r.eventSources,e,g,h),_=L4(r.eventStore,e,v,g,h),T=KA(v)&&!u.options.progressiveEventRendering&&r.renderableEventStore||_,{eventUiSingleBase:A,selectionConfig:P}=this.buildViewUiProps(h),M=this.buildEventUiBySource(v),U=this.buildEventUiBases(T.defs,A,M),q={dynamicOptionOverrides:o,currentViewType:l,currentDate:f,dateProfile:g,eventSources:v,eventStore:_,renderableEventStore:T,selectionConfig:P,eventUiBases:U,businessHours:this.parseContextBusinessHours(h),dateSelection:j$(r.dateSelection,e),eventSelection:W$(r.eventSelection,e),eventDrag:q$(r.eventDrag,e),eventResize:G$(r.eventResize,e)},oe=Object.assign(Object.assign({},h),q);for(let k of s.pluginHooks.reducers)Object.assign(q,k(r,e,oe));let se=Sp(r,h),D=Sp(q,h);!se&&D?i.trigger("loading",!0):se&&!D&&i.trigger("loading",!1),this.state=q,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,o.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),o),n),l=i.pluginHooks.optionChangeHandlers,u=r&&r.calendarOptions,h=i.calendarOptions;if(u&&u!==h){u.timeZone!==h.timeZone&&(n.eventSources=s.eventSources=V$(s.eventSources,n.dateProfile,s),n.eventStore=s.eventStore=F0(s.eventStore,r.dateEnv,s.dateEnv),n.renderableEventStore=s.renderableEventStore=F0(s.renderableEventStore,r.dateEnv,s.dateEnv));for(let f in l)(this.optionsForHandling.indexOf(f)!==-1||u[f]!==h[f])&&l[f](h[f],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:o,localeDefaults:s,availableLocaleData:l,extra:u}=this.processRawCalendarOptions(e,n);Q0(u);let h=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,o,l,i.defaultRangeSeparator),f=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),g=this.buildTheme(i,o),v=this.parseToolbars(i,this.stableOptionOverrides,g,f,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:o,dateEnv:h,viewSpecs:f,theme:g,toolbarConfig:v,localeDefaults:s,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=pp([mc,e,n]),o=this.organizeRawLocales(r),s=o.map,l=this.buildLocale(i||o.defaultCode,s).options,u=this.buildPluginHooks(e.plugins||[],hU),h=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M0),O0),N0),u.listenerRefiners),u.optionRefiners),f={},g=pp([mc,l,e,n]),v={},_=this.currentCalendarOptionsInput,S=this.currentCalendarOptionsRefined,T=!1;for(let A in g)this.optionsForRefining.indexOf(A)===-1&&(g[A]===_[A]||rs[A]&&A in _&&rs[A](_[A],g[A]))?v[A]=S[A]:h[A]?(v[A]=h[A](g[A]),T=!0):f[A]=_[A];return T&&(this.currentCalendarOptionsInput=g,this.currentCalendarOptionsRefined=v,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:o,localeDefaults:l,extra:f}}_computeCurrentViewData(e,n,r,i){let o=n.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:l}=this.processRawViewOptions(o,n.pluginHooks,n.localeDefaults,r,i);Q0(l),this.nowManager.handleInput(n.dateEnv,s.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),h=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:o,options:s,dateProfileGenerator:u,viewApi:h}}processRawViewOptions(e,n,r,i,o){let s=pp([mc,e.optionDefaults,r,i,e.optionOverrides,o]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M0),O0),N0),e4),n.listenerRefiners),n.optionRefiners),u={},h=this.currentViewOptionsInput,f=this.currentViewOptionsRefined,g=!1,v={};for(let _ in s)s[_]===h[_]||rs[_]&&rs[_](s[_],h[_])?u[_]=f[_]:(s[_]===this.currentCalendarOptionsInput[_]||rs[_]&&rs[_](s[_],this.currentCalendarOptionsInput[_])?_ in this.currentCalendarOptionsRefined&&(u[_]=this.currentCalendarOptionsRefined[_]):l[_]?u[_]=l[_](s[_]):v[_]=s[_],g=!0);return g&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:v}}}function vU(t,e,n,r,i,o,s,l){let u=GA(e||s.defaultCode,s.map);return new d4({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:o.cmdFormatter,defaultSeparator:l})}function _U(t,e){let n=e.themeClasses[t.themeSystem]||Uo;return new n(t)}function yU(t){let e=t.dateProfileGeneratorClass||oA;return new e(t)}function bU(t,e,n){return new Y$(t,e,n)}function wU(t){return $i(t,e=>e.ui)}function EU(t,e,n){let r={"":e};for(let i in t){let o=t[i];o.sourceId&&n[o.sourceId]&&(r[i]=n[o.sourceId])}return r}function SU(t){let{options:e}=t;return{eventUiSingleBase:Ah({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Ah({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Sp(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function TU(t){return W4(t.options.businessHours,t)}function Q0(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class CU extends yt{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return V("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],o=!0;for(let s of e){let{buttonName:l,buttonClick:u,buttonText:h,buttonIcon:f,buttonHint:g}=s;if(l==="title")o=!1,i.push(V("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let v=l===n.activeButton,_=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",S=[`fc-${l}-button`,r.getClass("button")];v&&S.push(r.getClass("buttonActive")),i.push(V("button",{type:"button",title:typeof g=="function"?g(n.navUnit):g,disabled:_,"aria-pressed":v,className:S.join(" "),onClick:u},h||(f?V("span",{className:f,role:"img"}):"")))}}if(i.length>1){let s=o&&r.getClass("buttonGroup")||"";return V("div",{className:s},...i)}return i[0]}}class X0 extends yt{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,o,s=e.sectionWidgets,l=s.center;return s.left?(r=!0,i=s.left):i=s.start,s.right?(r=!0,o=s.right):o=s.end,V("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",l||[]),this.renderSection("end",o||[]))}renderSection(e,n){let{props:r}=this;return V(CU,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class AU extends yt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ni(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",s="";return r?n.availableWidth!==null?o=n.availableWidth/r:s=`${1/r*100}%`:o=e.height||"",V("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:o,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class RU extends il{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:o}=i,s=Ga(r);if(s&&i.isValidSegDownEl(n.target)){let l=Cn(n.target,".fc-event-forced-url"),u=l?l.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:r,event:new Mt(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:o.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=qC(e.el,"click",".fc-event",this.handleSegClick)}}class kU extends il{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Ga(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=sV(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:o}=i,s=Ga(r);(!n||i.isValidSegDownEl(n.target))&&o.emitter.trigger(e,{el:r,event:new Mt(o,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:o.viewApi})}}class IU extends Ds{constructor(){super(...arguments),this.buildViewContext=xe(p4),this.buildViewPropTransformers=xe(PU),this.buildToolbarProps=xe(xU),this.headerRef=Vn(),this.footerRef=Vn(),this.interactionsStore={},this.state={viewLabelId:mf()},this.registerInteractiveComponent=(e,n)=>{let r=fF(e,n),s=[RU,kU].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(r));this.interactionsStore[e.uid]=s,xg[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete xg[e.uid]},this.resizeRunner=new lv(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,o="",s;e.isHeightAuto||e.forPrint?o="":r.height!=null?i=!0:r.contentHeight!=null?o=r.contentHeight:s=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return V(Hi.Provider,{value:l},V(ol,{unit:"day"},h=>{let f=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,h,e.viewTitle);return V(kt,null,n.header&&V(X0,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},f)),V(AU,{liquid:i,height:o,aspectRatio:s,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&V(X0,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},f)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return V(kt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of o)Object.assign(i,l.transform(i,e));let s=r.component;return V(s,Object.assign({},i))}}function xU(t,e,n,r,i,o){let s=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),u=n.buildNext(e,r,!1);return{title:o,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!Di(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function PU(t){return t.map(e=>new e)}class DU extends gF{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Sh(()=>{Uc(V(hF,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,o,s,l)=>(this.setClassNames(i),this.setHeight(o),V(tA.Provider,{value:this.customContentRenderId},V(IU,Object.assign({isHeightAuto:s,forPrint:l},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Uc(null,this.el),this.setClassNames([]),this.setHeight(""))},Q5(e),this.el=e,this.renderRunner=new lv(this.handleRenderRequest),new mU({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Sh(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Mo(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){jC(this.el,"height",e)}}const MU={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},OU=Uh({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(t){return{...t,customRenderingMetaMap:BU(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const t=[];for(const e of this.customRenderingMap.values())t.push(Ta(NU,{key:e.id,customRendering:e}));return Ta("div",{attrs:{"data-fc-render-id":this.renderId}},Ta(Xt,t))},mounted(){const t=new m$;this.handleCustomRendering=t.handle.bind(t);const e=this.buildOptions(this.options),n=new DU(this.$el,e);this.calendar=n,n.render(),t.subscribe(r=>{this.customRenderingMap=r,this.renderId++,this.needCustomRenderingResize=!0})},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:LU()}),NU=Uh({props:{customRendering:Object},render(){const t=this.customRendering,e=typeof t.generatorMeta=="function"?t.generatorMeta(t.renderProps):t.generatorMeta;return Ta(pI,{to:t.containerEl},e)}});function LU(){let t={options:{deep:!0,handler(e){let n=this.getApi();n.pauseRendering();let r=this.buildOptions(e);n.resetOptions(r),this.renderId++}}};for(let e in MU)t[`options.${e}`]={deep:!0,handler(n){if(n!==void 0){let r=this.getApi();r.pauseRendering(),r.resetOptions({[e]:n},[e]),this.renderId++}}};return t}function BU(t){const e={};for(const n in t)e[VU(n)]=t[n];return e}function VU(t){return t.split("-").map((e,n)=>n?FU(e):e).join("")}function FU(t){return t.charAt(0).toUpperCase()+t.slice(1)}class $U extends ri{constructor(){super(...arguments),this.headerElRef=Vn()}renderSimpleLayout(e,n){let{props:r,context:i}=this,o=[],s=Ih(i.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),V(Th,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},V(Dv,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,n,r,i){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:s,context:l}=this,u=!s.forPrint&&Ih(l.options),h=!s.forPrint&&FA(l.options),f=[];return e&&f.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),f.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),h&&f.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Mg}]}),V(Th,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},V(o,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:f}))}}function Ld(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function fd(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function J0(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const eR=Bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function tR(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class nR extends yt{render(){let{props:e}=this;return V(Ov,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:eR,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class rR extends yt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,o=r.eventTimeFormat||eR,s=_A(i,o,n,!0,e.defaultDisplayEventEnd);return V(Mv,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:bA(e.seg,n),defaultGenerator:UU,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function UU(t){return V(kt,null,V("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&V("div",{className:"fc-event-time"},t.timeText),V("div",{className:"fc-event-title"},t.event.title||V(kt,null," ")))}class zU extends yt{constructor(){super(...arguments),this.compileSegs=xe(HU)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return V(HA,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return V(kt,null,n.map(o=>{let s=o.eventRange.instance.instanceId;return V("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},tR(o)?V(rR,Object.assign({seg:o,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},To(o,e.todayRange))):V(nR,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},To(o,e.todayRange))))}))}})}}function HU(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const jU=Bt({week:"narrow"});class WU extends ri{constructor(){super(...arguments),this.rootElRef=Vn(),this.state={dayNumberId:mf()},this.handleRootEl=e=>{ni(this.rootElRef,e),ni(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:o,dateEnv:s}=e,{date:l,dateProfile:u}=n;const h=n.showDayNumber&&GU(l,u.currentRange,s);return V(Lv,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:qU,date:l,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:h,extraRenderProps:n.extraRenderProps},(f,g)=>V("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&V(zA,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:kh(e,l,"week"),date:l,defaultFormat:jU}),!g.isDisabled&&(n.showDayNumber||Bv(o)||n.forceDayTop)?V("div",{className:"fc-daygrid-day-top"},V(f,{elTag:"a",elClasses:["fc-daygrid-day-number",h&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},kh(e,l)),{id:r.dayNumberId})})):n.showDayNumber?V("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},V("a",{className:"fc-daygrid-day-number"}," ")):void 0,V("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,V("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},V(zU,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),V("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function qU(t){return t.dayNumberText||V(kt,null," ")}function GU(t,e,n){const{start:r,end:i}=e,o=Oo(i,-1),s=n.getYear(r),l=n.getMonth(r),u=n.getYear(o),h=n.getMonth(o);return!(s===u&&l===h)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function iR(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function oR(t){return iR(t)+":"+t.lastCol}function ZU(t,e,n,r,i,o,s){let l=new QU(P=>{let M=t[P.index].eventRange.instance.instanceId+":"+P.span.start+":"+(P.span.end-1);return i[M]||1});l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=o,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let u=[],h=[];for(let P=0;P<t.length;P+=1){let M=t[P],U=oR(M);i[U]!=null?u.push({index:P,span:{start:M.firstCol,end:M.lastCol+1}}):h.push(M)}let f=l.addSegs(u),g=l.toRects(),{singleColPlacements:v,multiColPlacements:_,leftoverMargins:S}=KU(g,t,s),T=[],A=[];for(let P of h){_[P.firstCol].push({seg:P,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=P.firstCol;M<=P.lastCol;M+=1)v[M].push({seg:Da(P,M,M+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let P=0;P<s.length;P+=1)T.push(0);for(let P of f){let M=t[P.index],U=P.span;_[U.start].push({seg:Da(M,U.start,U.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let q=U.start;q<U.end;q+=1)T[q]+=1,v[q].push({seg:Da(M,q,q+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let P=0;P<s.length;P+=1)A.push(S[P]);return{singleColPlacements:v,multiColPlacements:_,moreCnts:T,moreMarginTops:A}}function KU(t,e,n){let r=YU(t,n.length),i=[],o=[],s=[];for(let l=0;l<n.length;l+=1){let u=r[l],h=[],f=0,g=0;for(let _ of u){let S=e[_.index];h.push({seg:Da(S,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:_.levelCoord-f}),f=_.levelCoord+_.thickness}let v=[];f=0,g=0;for(let _ of u){let S=e[_.index],T=_.span.end-_.span.start>1,A=_.span.start===l;g+=_.levelCoord-f,f=_.levelCoord+_.thickness,T?(g+=_.thickness,A&&v.push({seg:Da(S,_.span.start,_.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:_.levelCoord,marginTop:0})):A&&(v.push({seg:Da(S,_.span.start,_.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:g}),g=0)}i.push(h),o.push(v),s.push(g)}return{singleColPlacements:i,multiColPlacements:o,leftoverMargins:s}}function YU(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Da(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,o=i.range,s=Es(o,{start:r[e].date,end:un(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===o.end.valueOf()})}class QU extends kA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=o=>!this.forceHidden[fs(o)];for(let o=0;o<r.length;o+=1)r[o]=r[o].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:o}=this,{touchingEntry:s,touchingLevel:l,touchingLateral:u}=e;if(this.hiddenConsumes&&s){const h=fs(s);if(!o[h])if(this.allowReslicing){const f=Object.assign(Object.assign({},s),{span:xv(s.span,n.span)}),g=fs(f);o[g]=!0,i[l][u]=f,r.push(f),this.splitEntry(s,n,r)}else o[h]=!0,r.push(s)}super.handleInvalidInsertion(e,n,r)}}class sR extends ri{constructor(){super(...arguments),this.cellElRefs=new Ri,this.frameElRefs=new Ri,this.fgElRefs=new Ri,this.segHarnessRefs=new Ri,this.rootElRef=Vn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,o=e.cells.length,s=fd(e.businessHourSegs,o),l=fd(e.bgEventSegs,o),u=fd(this.getHighlightSegs(),o),h=fd(this.getMirrorSegs(),o),{singleColPlacements:f,multiColPlacements:g,moreCnts:v,moreMarginTops:_}=ZU(vA(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),S=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return V("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((T,A)=>{let P=this.renderFgSegs(A,e.forPrint?f[A]:g[A],e.todayRange,S),M=this.renderFgSegs(A,XU(h[A],g),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return V(WU,{key:T.key,elRef:this.cellElRefs.createRef(T.key),innerElRef:this.frameElRefs.createRef(T.key),dateProfile:e.dateProfile,date:T.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&A===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:T.extraRenderProps,extraDataAttrs:T.extraDataAttrs,extraClassNames:T.extraClassNames,extraDateSpan:T.extraDateSpan,moreCnt:v[A],moreMarginTop:_[A],singlePlacements:f[A],fgContentElRef:this.fgElRefs.createRef(T.key),fgContent:V(kt,null,V(kt,null,P),V(kt,null,M)),bgContent:V(kt,null,this.renderFillSegs(u[A],"highlight"),this.renderFillSegs(s[A],"non-business"),this.renderFillSegs(l[A],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!Pr(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,o,s,l){let{context:u}=this,{eventSelection:h}=this.props,{framePositions:f}=this.state,g=this.props.cells.length===1,v=o||s||l,_=[];if(f)for(let S of n){let{seg:T}=S,{instanceId:A}=T.eventRange.instance,P=S.isVisible&&!i[A],M=S.isAbsolute,U="",q="";M&&(u.isRtl?(q=0,U=f.lefts[T.lastCol]-f.lefts[T.firstCol]):(U=0,q=f.rights[T.firstCol]-f.rights[T.lastCol])),_.push(V("div",{className:"fc-daygrid-event-harness"+(M?" fc-daygrid-event-harness-abs":""),key:iR(T),ref:v?null:this.segHarnessRefs.createRef(oR(T)),style:{visibility:P?"":"hidden",marginTop:M?"":S.marginTop,top:M?S.absoluteTop:"",left:U,right:q}},tR(T)?V(rR,Object.assign({seg:T,isDragging:o,isSelected:A===h,defaultDisplayEventEnd:g},To(T,r))):V(nR,Object.assign({seg:T,isDragging:o,isResizing:s,isDateSelecting:l,isSelected:A===h,defaultDisplayEventEnd:g},To(T,r)))))}return _}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:o}=this.state,s=[];if(o)for(let l of e){let u=r?{right:0,left:o.lefts[l.lastCol]-o.lefts[l.firstCol]}:{left:0,right:o.rights[l.firstCol]-o.rights[l.lastCol]};s.push(V("div",{key:yA(l.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?V($A,Object.assign({seg:l},To(l,i))):UA(n)))}return V(kt,{},...s)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let u=n.cells.map(h=>i.currentMap[h.key]);if(u.length){let h=this.rootElRef.current,f=new Za(h,u,!0,!1);(!r.framePositions||!r.framePositions.similarTo(f))&&this.setState({framePositions:new Za(h,u,!0,!1)})}}const o=this.state.segHeights,s=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),s),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}sR.addStateEquality({segHeights:Pr});function XU(t,e){if(!t.length)return[];let n=JU(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function JU(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class ez extends ri{constructor(){super(...arguments),this.splitBusinessHourSegs=xe(Ld),this.splitBgEventSegs=xe(tz),this.splitFgEventSegs=xe(Ld),this.splitDateSelectionSegs=xe(Ld),this.splitEventDrag=xe(J0),this.splitEventResize=xe(J0),this.rowRefs=new Ri}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitBgEventSegs(e.bgEventSegs,r),s=this.splitFgEventSegs(e.fgEventSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),u=this.splitEventDrag(e.eventDrag,r),h=this.splitEventResize(e.eventResize,r),f=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return V(ol,{unit:"day"},(g,v)=>V(kt,null,e.cells.map((_,S)=>V(sR,{ref:this.rowRefs.createRef(S),key:_.length?_[0].date.toISOString():S,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:v,dateProfile:e.dateProfile,cells:_,renderIntro:e.renderRowIntro,businessHourSegs:i[S],eventSelection:e.eventSelection,bgEventSegs:o[S],fgEventSegs:s[S],dateSelectionSegs:l[S],eventDrag:u[S],eventResize:h[S],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:f,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Za(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Za(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,o=r.leftToIndex(e),s=i.topToIndex(n);if(s!=null&&o!=null){let l=this.props.cells[s][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,o),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(s,o),rect:{left:r.lefts[o],right:r.rights[o],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=un(r,1);return{start:r,end:i}}}function tz(t,e){return Ld(t.filter(nz),e)}function nz(t){return t.eventRange.def.allDay}class rz extends ri{constructor(){super(...arguments),this.elRef=Vn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,o=r===!0||n===!0;o&&!i&&(o=!1,n=null,r=null);let s=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return V("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},V("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,V("tbody",{role:"presentation"},V(ez,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=iz(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function iz(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${BV(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${fv(e.currentDate)}"]`)),n}class oz extends OA{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class aR extends ri{constructor(){super(...arguments),this.slicer=new oz,this.tableRef=Vn()}render(){let{props:e,context:n}=this;return V(rz,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class sz extends $U{constructor(){super(...arguments),this.buildDayTableModel=xe(az),this.headerRef=Vn(),this.tableRef=Vn()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),o=e.dayHeaders&&V(PA,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=l=>V(aR,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,s)}}function az(t,e){let n=new DA(t.renderRange,e);return new MA(n,/year|month|week/.test(t.currentRangeUnit))}class lz extends oA{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:o}=this;return cz({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}}function cz(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,o;if(t.snapToWeek&&(r=e.startOfWeek(r),o=e.startOfWeek(i),o.valueOf()!==i.valueOf()&&(i=k0(o,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(un(n.end,-1))),l=Math.ceil(AV(s,i));i=k0(i,6-l)}return{start:r,end:i}}var uz=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';av(uz);var dz=ji({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:sz,dateProfileGeneratorClass:lz},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class hz extends bF{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Y4(e)?["timed","allDay"]:["allDay"]:["timed"]}}const fz=Bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function lR(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return V(Hi.Consumer,null,n=>{if(!t.isLabeled)return V("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:o}=n,s=i.slotLabelFormat==null?fz:Array.isArray(i.slotLabelFormat)?Bt(i.slotLabelFormat[0]):Bt(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:o,text:r.format(t.date,s)};return V(rr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:pz,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},u=>V("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},V(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function pz(t){return t.text}class gz extends yt{render(){return this.props.slatMetas.map(e=>V("tr",{key:e.key},V(lR,Object.assign({},e))))}}const mz=Bt({week:"short"}),vz=5;class _z extends ri{constructor(){super(...arguments),this.allDaySplitter=new hz,this.headerElRef=Vn(),this.rootElRef=Vn(),this.scrollerElRef=Vn(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,o=i.renderRange,l=Ps(o.start,o.end)===1?kh(this.context,o.start,"week"):{};return r.weekNumbers&&e==="day"?V(zA,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:o.start,defaultFormat:mz},u=>V("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},V(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):V("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},V("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return V(rr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:yz,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},o=>V("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},V(o,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:o}=this,s=[],l=Ih(i.options);return e&&s.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(s.push({type:"body",key:"all-day",chunk:{content:n}}),s.push({type:"body",key:"all-day-divider",outerContent:V("tr",{role:"presentation",className:"fc-scrollgrid-section"},V("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),V(Th,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},V(Dv,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,n,r,i,o,s,l){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:h,props:f}=this,g=!f.forPrint&&Ih(h.options),v=!f.forPrint&&FA(h.options),_=[];e&&_.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:T=>V("tr",{role:"presentation"},this.renderHeadAxis("day",T.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(_.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:T=>V("tr",{role:"presentation"},this.renderTableRowAxis(T.rowSyncHeights[0]))},{key:"cols",content:n}]}),_.push({key:"all-day-divider",type:"body",outerContent:V("tr",{role:"presentation",className:"fc-scrollgrid-section"},V("td",{colSpan:2,className:"fc-timegrid-divider "+h.theme.getClass("tableCellShaded")}))}));let S=h.options.nowIndicator;return _.push({type:"body",key:"body",liquid:!0,expandRows:!!h.options.expandRows,chunks:[{key:"axis",content:T=>V("div",{className:"fc-timegrid-axis-chunk"},V("table",{"aria-hidden":!0,style:{height:T.expandRows?T.clientHeight:""}},T.tableColGroupNode,V("tbody",null,V(gz,{slatMetas:s}))),V("div",{className:"fc-timegrid-now-indicator-container"},V(ol,{unit:S?"minute":"day"},A=>{let P=S&&l&&l.safeComputeTop(A);return typeof P=="number"?V(Nv,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:P},isAxis:!0,date:A}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),v&&_.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Mg},{key:"cols",content:Mg}]}),V(Th,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:h.viewSpec},V(u,{liquid:!f.isHeightAuto&&!f.forPrint,forPrint:f.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:o}]}],sections:_}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=vz),{dayMaxEvents:e,dayMaxEventRows:n}}}function yz(t){return t.text}class bz{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Di(n.currentRange,e)){let r=It(e),i=e.valueOf()-r.valueOf();if(i>=Ar(n.slotMinTime)&&i<Ar(n.slotMaxTime))return this.computeTimeTop(ct(i))}return null}computeDateTop(e,n){return n||(n=It(e)),this.computeTimeTop(ct(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,o=(e.milliseconds-Ar(r.slotMinTime))/Ar(this.slotDuration),s,l;return o=Math.max(0,o),o=Math.min(i,o),s=Math.floor(o),s=Math.min(s,i-1),l=o-s,n.tops[s]+n.getHeight(s)*l}}class wz extends yt{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return V("tbody",null,e.slatMetas.map((o,s)=>{let l={time:o.time,date:n.dateEnv.toDate(o.date),view:n.viewApi};return V("tr",{key:o.key,ref:i.createRef(o.key)},e.axis&&V(lR,Object.assign({},o)),V(rr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!o.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":o.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class Ez extends yt{constructor(){super(...arguments),this.rootElRef=Vn(),this.slatElRefs=new Ri}render(){let{props:e,context:n}=this;return V("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},V("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,V(wz,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new bz(new Za(this.rootElRef.current,Sz(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Sz(t,e){return e.map(n=>t[n.key])}function Ul(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function ew(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class Tz extends yt{render(){let{props:e}=this;return V(HA,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>uR(e.hiddenSegs,e),defaultGenerator:Cz,forceTimed:!0},n=>V(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Cz(t){return t.shortText}function Az(t,e,n){let r=new kA;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),o=MF(i),s=Rz(r);return s=Pz(s,1),{segRects:Dz(s),hiddenGroups:o}}function Rz(t){const{entriesByLevel:e}=t,n=Fv((r,i)=>r+":"+i,(r,i)=>{let o=xz(t,r,i),s=tw(o,n),l=e[r][i];return[Object.assign(Object.assign({},l),{nextLevelNodes:s[0]}),l.thickness+s[1]]});return tw(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function tw(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,o=r,s=[];for(;o<i;)s.push(e(n,o)),o+=1;return s.sort(kz),[s.map(Iz),s[0][1]]}function kz(t,e){return e[1]-t[1]}function Iz(t){return t[0]}function xz(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,o=i[e][n],s=r[e]+o.thickness,l=r.length,u=e;for(;u<l&&r[u]<s;u+=1);for(;u<l;u+=1){let h=i[u],f,g=Dg(h,o.span.start,Pg),v=g[0]+g[1],_=v;for(;(f=h[_])&&f.span.start<o.span.end;)_+=1;if(v<_)return{level:u,lateralStart:v,lateralEnd:_}}return null}function Pz(t,e){const n=Fv((r,i,o)=>fs(r),(r,i,o)=>{let{nextLevelNodes:s,thickness:l}=r,u=l+o,h=l/u,f,g=[];if(!s.length)f=e;else for(let _ of s)if(f===void 0){let S=n(_,i,u);f=S[0],g.push(S[1])}else{let S=n(_,f,0);g.push(S[1])}let v=(f-i)*h;return[f-v,Object.assign(Object.assign({},r),{thickness:v,nextLevelNodes:g})]});return t.map(r=>n(r,0,0)[1])}function Dz(t){let e=[];const n=Fv((i,o,s)=>fs(i),(i,o,s)=>{let l=Object.assign(Object.assign({},i),{levelCoord:o,stackDepth:s,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,o+i.thickness,s+1)+1});function r(i,o,s){let l=0;for(let u of i)l=Math.max(n(u,o,s),l);return l}return r(t,0,0),e}function Fv(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function nw(t,e,n=null,r=0){let i=[];if(n)for(let o=0;o<t.length;o+=1){let s=t[o],l=n.computeDateTop(s.start,e),u=Math.max(l+(r||0),n.computeDateTop(s.end,e));i.push({start:Math.round(l),end:Math.round(u)})}return i}function Mz(t,e,n,r){let i=[],o=[];for(let h=0;h<t.length;h+=1){let f=e[h];f?i.push({index:h,thickness:1,span:f}):o.push(t[h])}let{segRects:s,hiddenGroups:l}=Az(i,n,r),u=[];for(let h of s)u.push({seg:t[h.index],rect:h});for(let h of o)u.push({seg:h,rect:null});return{segPlacements:u,hiddenGroups:l}}const Oz=Bt({hour:"numeric",minute:"2-digit",meridiem:!1});class cR extends yt{render(){return V(Ov,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Oz}))}}class Nz extends yt{constructor(){super(...arguments),this.sortEventSegs=xe(vA)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,o=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return V(Lv,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},u=>V("div",{className:"fc-timegrid-col-frame"},V("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),V("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,s,!1,!1,!1)),V("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),V("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Bv(r)&&V(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,o,s){let{props:l}=this;return l.forPrint?uR(e,l):this.renderPositionedFgSegs(e,n,r,i,o,s)}renderPositionedFgSegs(e,n,r,i,o,s){let{eventMaxStack:l,eventShortHeight:u,eventOrderStrict:h,eventMinHeight:f}=this.context.options,{date:g,slatCoords:v,eventSelection:_,todayRange:S,nowDate:T}=this.props,A=r||i||o,P=nw(e,g,v,f),{segPlacements:M,hiddenGroups:U}=Mz(e,P,h,l);return V(kt,null,this.renderHiddenGroups(U,e),M.map(q=>{let{seg:oe,rect:se}=q,D=oe.eventRange.instance.instanceId,k=A||!!(!n[D]&&se),I=Tp(se&&se.span),F=!A&&se?this.computeSegHStyle(se):{left:0,right:0},$=!!se&&se.stackForward>0,z=!!se&&se.span.end-se.span.start<u;return V("div",{className:"fc-timegrid-event-harness"+($?" fc-timegrid-event-harness-inset":""),key:s||D,style:Object.assign(Object.assign({visibility:k?"":"hidden"},I),F)},V(cR,Object.assign({seg:oe,isDragging:r,isResizing:i,isDateSelecting:o,isSelected:D===_,isShort:z},To(oe,S,T))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:o,nowDate:s,eventSelection:l,eventDrag:u,eventResize:h}=this.props;return V(kt,null,e.map(f=>{let g=Tp(f.span),v=Lz(f.entries,n);return V(Tz,{key:YC(jA(v)),hiddenSegs:v,top:g.top,bottom:g.bottom,extraDateSpan:r,dateProfile:i,todayRange:o,nowDate:s,eventSelection:l,eventDrag:u,eventResize:h})}))}renderFillSegs(e,n){let{props:r,context:i}=this,s=nw(e,r.date,r.slatCoords,i.options.eventMinHeight).map((l,u)=>{let h=e[u];return V("div",{key:yA(h.eventRange),className:"fc-timegrid-bg-harness",style:Tp(l)},n==="bg-event"?V($A,Object.assign({seg:h},To(h,r.todayRange,r.nowDate))):UA(n))});return V(kt,null,s)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,o)=>V(Nv,{key:o,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,o=e.levelCoord,s=e.levelCoord+e.thickness,l,u;i&&(s=Math.min(1,o+(s-o)*2)),n?(l=1-s,u=o):(l=o,u=1-s);let h={zIndex:e.stackDepth+1,left:l*100+"%",right:u*100+"%"};return i&&!e.stackForward&&(h[n?"marginLeft":"marginRight"]=10*2),h}}function uR(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:o}){let s=(i?i.affectedInstances:null)||(o?o.affectedInstances:null)||{};return V(kt,null,t.map(l=>{let u=l.eventRange.instance.instanceId;return V("div",{key:u,style:{visibility:s[u]?"hidden":""}},V(cR,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===r,isShort:!1},To(l,e,n))))}))}function Tp(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Lz(t,e){return t.map(n=>e[n.index])}class Bz extends yt{constructor(){super(...arguments),this.splitFgEventSegs=xe(Ul),this.splitBgEventSegs=xe(Ul),this.splitBusinessHourSegs=xe(Ul),this.splitNowIndicatorSegs=xe(Ul),this.splitDateSelectionSegs=xe(Ul),this.splitEventDrag=xe(ew),this.splitEventResize=xe(ew),this.rootElRef=Vn(),this.cellElRefs=new Ri}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,o=this.splitFgEventSegs(e.fgEventSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitBusinessHourSegs(e.businessHourSegs,i),u=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),h=this.splitDateSelectionSegs(e.dateSelectionSegs,i),f=this.splitEventDrag(e.eventDrag,i),g=this.splitEventResize(e.eventResize,i);return V("div",{className:"fc-timegrid-cols",ref:this.rootElRef},V("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,V("tbody",{role:"presentation"},V("tr",{role:"row"},e.axis&&V("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},V("div",{className:"fc-timegrid-col-frame"},V("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&V(Nv,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((v,_)=>V(Nz,{key:v.key,elRef:this.cellElRefs.createRef(v.key),dateProfile:e.dateProfile,date:v.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,fgEventSegs:o[_],bgEventSegs:s[_],businessHourSegs:l[_],nowIndicatorSegs:u[_],dateSelectionSegs:h[_],eventDrag:f[_],eventResize:g[_],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Za(this.rootElRef.current,Vz(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Vz(t,e){return e.map(n=>t[n.key])}class Fz extends ri{constructor(){super(...arguments),this.processSlotOptions=xe($z),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return V("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},V(Ez,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),V(Bz,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:o}=this,{dateProfile:s}=this.props,{slatCoords:l}=this.state,{snapDuration:u,snapsPerSlot:h}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),f=o.leftToIndex(e),g=l.positions.topToIndex(n);if(f!=null&&g!=null){let v=this.props.cells[f],_=l.positions.tops[g],S=l.positions.getHeight(g),T=(n-_)/S,A=Math.floor(T*h),P=g*h+A,M=this.props.cells[f].date,U=Cg(s.slotMinTime,EV(u,P)),q=r.add(M,U),oe=r.add(q,u);return{dateProfile:s,dateSpan:Object.assign({range:{start:q,end:oe},allDay:!1},v.extraDateSpan),dayEl:o.els[f],rect:{left:o.lefts[f],right:o.rights[f],top:_,bottom:_+S},layer:0}}return null}}function $z(t,e){let n=e||t,r=hv(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class Uz extends OA{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let o=Es(e,n[i]);o&&r.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:i})}return r}}class zz extends ri{constructor(){super(...arguments),this.buildDayRanges=xe(Hz),this.slicer=new Uz,this.timeColsRef=Vn()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:o,nextDayThreshold:s}=n.options,l=this.buildDayRanges(i,r,n.dateEnv);return V(ol,{unit:o?"minute":"day"},(u,h)=>V(Fz,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:o&&this.slicer.sliceNowDate(u,r,s,n,l),todayRange:h,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Hz(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const rw=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function jz(t,e,n,r,i){let o=new Date(0),s=t,l=ct(0),u=n||Wz(r),h=[];for(;Ar(s)<Ar(e);){let f=i.add(o,s),g=hv(l,u)!==null;h.push({date:f,time:s,key:f.toISOString(),isoTimeStr:VV(f),isLabeled:g}),s=Cg(s,r),l=Cg(l,r)}return h}function Wz(t){let e,n,r;for(e=rw.length-1;e>=0;e-=1)if(n=ct(rw[e]),r=hv(n,t),r!==null&&r>1)return n;return t}class qz extends _z{constructor(){super(...arguments),this.buildTimeColsModel=xe(Gz),this.buildSlatMetas=xe(jz)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:o}=i,s=this.buildTimeColsModel(o,r),l=this.allDaySplitter.splitProps(i),u=this.buildSlatMetas(o.slotMinTime,o.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:h}=e,f=!h,g=h,v=e.dayHeaders&&V(PA,{dates:s.headerDates,dateProfile:o,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),_=e.allDaySlot!==!1&&(T=>V(aR,Object.assign({},l.allDay,{dateProfile:o,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:T.tableMinWidth,colGroupNode:T.tableColGroupNode,renderRowIntro:f?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:T.clientWidth,clientHeight:T.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),S=T=>V(zz,Object.assign({},l.timed,{dayTableModel:s,dateProfile:o,axis:f,slotDuration:e.slotDuration,slatMetas:u,forPrint:i.forPrint,tableColGroupNode:T.tableColGroupNode,tableMinWidth:T.tableMinWidth,clientWidth:T.clientWidth,clientHeight:T.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:T.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(v,_,S,s.colCnt,h,u,this.state.slatCoords):this.renderSimpleLayout(v,_,S)}}function Gz(t,e){let n=new DA(t.renderRange,e);return new MA(n,!1)}var Zz='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';av(Zz);const Kz={allDaySlot:Boolean};var Yz=ji({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Kz,views:{timeGrid:{component:qz,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Pv.touchMouseIgnoreWait=500;let Ng=0,xh=0,Lg=!1;class dR{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&Qz(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,Xz()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new bf,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Jz()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e3()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Cn(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Lg=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Cn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Ng||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Lg=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,o,s=0,l=0;return r&&r.length?(i=r[0].pageX,o=r[0].pageY):(i=e.pageX,o=e.pageY),n?(this.origPageX=i,this.origPageY=o):(s=i-this.origPageX,l=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:o,deltaX:s,deltaY:l}}}function Qz(t){return t.button===0&&!t.ctrlKey}function Xz(){Ng+=1,setTimeout(()=>{Ng-=1},Pv.touchMouseIgnoreWait)}function Jz(){xh+=1,xh===1&&window.addEventListener("touchmove",hR,{passive:!1})}function e3(){xh-=1,xh||window.removeEventListener("touchmove",hR,{passive:!1})}function hR(t){Lg&&t.preventDefault()}class t3{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",pc(r,{left:i.left,top:i.top}),aV(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(cv(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&pc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),pc(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class fR extends Iv{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class pR extends fR{constructor(e,n){super(new PF(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return IF(this.scrollController.el)}}class n3 extends fR{constructor(e){super(new DF,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const iw=typeof performance=="function"?performance.now:Date.now;class r3{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=iw();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,o=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(iw()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,o=i-e.distance,s=o*o/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+s*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+s*l);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,o=this.scrollCaches||[];for(let s of o){let l=s.clientRect,u=e-l.left,h=l.right-e,f=n-l.top,g=l.bottom-n;u>=0&&h>=0&&f>=0&&g>=0&&(f<=r&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>f)&&(i={scrollCache:s,name:"top",distance:f}),g<=r&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>g)&&(i={scrollCache:s,name:"bottom",distance:g}),u<=r&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"left",distance:u}),h<=r&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>h)&&(i={scrollCache:s,name:"right",distance:h}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new n3(!1):new pR(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class uu extends NF{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,lV(document.body),uV(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let o=this.minDistance,s,{deltaX:l,deltaY:u}=i;s=l*l+u*u,s>=o*o&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,cV(document.body),dV(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new dR(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new t3,this.autoScroller=new r3}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class i3{constructor(e){this.el=e,this.origRect=kv(e),this.scrollCaches=RA(e).map(n=>new pR(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!o3(i.getEventTarget())&&!mF(r,i.clientRect))return!1;return!0}}function o3(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class wf{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new bf}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,o;i instanceof HTMLElement&&(o=kv(i),r=vF(r,o));let s=this.initialHit=this.queryHitForOffset(r.left,r.top);if(s){if(this.useSubjectCenter&&o){let l=TA(o,s.rect);l&&(r=_F(l))}this.coordAdjust=yF(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Ef(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=$i(this.droppableStore,e=>(e.component.prepareHits(),new i3(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,o=null;for(let s in r){let l=r[s].component,u=i[s];if(u&&u.isWithinClipping(e,n)){let h=u.computeLeft(),f=u.computeTop(),g=e-h,v=n-f,{origRect:_}=u,S=_.right-_.left,T=_.bottom-_.top;if(g>=0&&g<S&&v>=0&&v<T){let A=l.queryHit(g,v,S,T);A&&_f(A.dateProfile.activeRange,A.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(g+h-window.scrollX,v+f-window.scrollY)))&&(!o||A.layer>o.layer)&&(A.componentId=s,A.context=l.context,A.rect.left+=h,A.rect.right+=h,A.rect.top+=f,A.rect.bottom+=f,o=A)}}}return o}}function Ef(t,e){return!t&&!e?!0:!!t!=!!e?!1:oF(t.dateSpan,e.dateSpan)}function gR(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,s3(t,e.dateEnv)),n}function s3(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class a3 extends il{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,o=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:s,finalHit:l}=this.hitDragging;if(s&&l&&Ef(s,l)){let{context:u}=i,h=Object.assign(Object.assign({},gR(s.dateSpan,u)),{dayEl:s.dayEl,jsEvent:r.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",h)}}},this.dragging=new uu(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new wf(this.dragging,Av(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class l3 extends il{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:l,dragging:u}=this,{options:h}=l.context,f=h.selectable&&l.isValidDateDownEl(s.origEvent.target);u.setIgnoreMove(!f),u.delay=s.isTouch?c3(l):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,l)=>{let{context:u}=this.component,h=null,f=!1;if(s){let g=this.hitDragging.initialHit;s.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,s)||(h=u3(g,s,u.pluginHooks.dateSelectionTransformers)),(!h||!UF(h,s.dateProfile,u))&&(f=!0,h=null)}h?u.dispatch({type:"SELECT_DATES",selection:h}):l||u.dispatch({type:"UNSELECT_DATES"}),f?uv():dv(),l||(this.dragSelection=h)},this.handlePointerUp=s=>{this.dragSelection&&(pA(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new uu(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new wf(this.dragging,Av(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function c3(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function u3(t,e,n){let r=t.dateSpan,i=e.dateSpan,o=[r.range.start,r.range.end,i.range.start,i.range.end];o.sort(mV);let s={};for(let l of n){let u=l(t,e);if(u===!1)return null;u&&Object.assign(s,u)}return s.range={start:o[0],end:o[3]},s.allDay=r.allDay,s}class du extends il{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let l=s.origEvent.target,{component:u,dragging:h}=this,{mirror:f}=h,{options:g}=u.context,v=u.context;this.subjectEl=s.subjectEl;let _=this.subjectSeg=Ga(s.subjectEl),T=(this.eventRange=_.eventRange).instance.instanceId;this.relevantEvents=Ev(v.getCurrentData().eventStore,T),h.minDistance=s.isTouch?0:g.eventDragMinDistance,h.delay=s.isTouch&&T!==u.props.eventSelection?h3(u):null,g.fixedMirrorParent?f.parentNode=g.fixedMirrorParent:f.parentNode=Cn(l,".fc"),f.revertDuration=g.dragRevertDuration;let A=u.isValidSegDownEl(l)&&!Cn(l,".fc-event-resizer");h.setIgnoreMove(!A),this.isDragging=A&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let l=this.component.context,u=this.eventRange,h=u.instance.instanceId;s.isTouch?h!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:h}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(s),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Mt(l,u.def,u.instance),jsEvent:s.origEvent,view:l.viewApi}))},this.handleHitUpdate=(s,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,h=this.hitDragging.initialHit,f=this.component.context,g=null,v=null,_=null,S=!1,T={affectedEvents:u,mutatedEvents:nr(),isEvent:!0};if(s){g=s.context;let A=g.options;f===g||A.editable&&A.droppable?(v=d3(h,s,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),v&&(_=Cv(u,g.getCurrentData().eventUiBases,v,g),T.mutatedEvents=_,NA(T,s.dateProfile,g)||(S=!0,v=null,_=null,T.mutatedEvents=nr()))):g=null}this.displayDrag(g,T),S?uv():dv(),l||(f===g&&Ef(h,s)&&(v=null),this.dragging.setMirrorNeedsRevert(!v),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=v,this.mutatedRelevantEvents=_)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:h,validMutation:f}=this,g=this.eventRange.def,v=this.eventRange.instance,_=new Mt(l,g,v),S=this.relevantEvents,T=this.mutatedRelevantEvents,{finalHit:A}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:_,jsEvent:s.origEvent,view:u}),f){if(h===l){let P=new Mt(l,T.defs[g.defId],v?T.instances[v.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:T});let M={oldEvent:_,event:P,relatedEvents:hs(T,l,v),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:S})}},U={};for(let q of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(U,q(f,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},M),U),{el:s.subjectEl,delta:f.datesDelta,jsEvent:s.origEvent,view:u})),l.emitter.trigger("eventChange",M)}else if(h){let P={event:_,relatedEvents:hs(S,l,v),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:S})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},P),{draggedEl:s.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:S}),l.emitter.trigger("eventRemove",P);let M=T.defs[g.defId],U=T.instances[v.instanceId],q=new Mt(h,M,U);h.dispatch({type:"MERGE_EVENTS",eventStore:T});let oe={event:q,relatedEvents:hs(T,h,U),revert(){h.dispatch({type:"REMOVE_EVENTS",eventStore:T})}};h.emitter.trigger("eventAdd",oe),s.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:v.instanceId}),h.emitter.trigger("drop",Object.assign(Object.assign({},gR(A.dateSpan,h)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:A.context.viewApi})),h.emitter.trigger("eventReceive",Object.assign(Object.assign({},oe),{draggedEl:s.subjectEl,view:A.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new uu(e.el);i.pointer.selector=du.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new wf(this.dragging,xg);o.useSubjectCenter=e.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:nr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}du.SELECTOR=".fc-event-draggable, .fc-event-resizable";function d3(t,e,n,r){let i=t.dateSpan,o=e.dateSpan,s=i.range.start,l=o.range.start,u={};i.allDay!==o.allDay&&(u.allDay=o.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,o.allDay?s=It(n):s=n);let h=ma(s,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);h.milliseconds&&(u.allDay=!1);let f={datesDelta:h,standardProps:u};for(let g of r)g(f,t,e);return f}function h3(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class f3 extends il{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:s}=this,l=this.querySegEl(o),u=Ga(l),h=this.eventRange=u.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==h.instance.instanceId)},this.handleDragStart=o=>{let{context:s}=this.component,l=this.eventRange;this.relevantEvents=Ev(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(o);this.draggingSegEl=u,this.draggingSeg=Ga(u),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:u,event:new Mt(s,l.def,l.instance),jsEvent:o.origEvent,view:s.viewApi})},this.handleHitUpdate=(o,s,l)=>{let{context:u}=this.component,h=this.relevantEvents,f=this.hitDragging.initialHit,g=this.eventRange.instance,v=null,_=null,S=!1,T={affectedEvents:h,mutatedEvents:nr(),isEvent:!0};o&&(o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(v=p3(f,o,l.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),v&&(_=Cv(h,u.getCurrentData().eventUiBases,v,u),T.mutatedEvents=_,NA(T,o.dateProfile,u)||(S=!0,v=null,_=null,T.mutatedEvents=null)),_?u.dispatch({type:"SET_EVENT_RESIZE",state:T}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),S?uv():dv(),s||(v&&Ef(f,o)&&(v=null),this.validMutation=v,this.mutatedRelevantEvents=_)},this.handleDragEnd=o=>{let{context:s}=this.component,l=this.eventRange.def,u=this.eventRange.instance,h=new Mt(s,l,u),f=this.relevantEvents,g=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:h,jsEvent:o.origEvent,view:s.viewApi}),this.validMutation){let v=new Mt(s,g.defs[l.defId],u?g.instances[u.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:g});let _={oldEvent:h,event:v,relatedEvents:hs(g,s,u),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:f})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},_),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ct(0),endDelta:this.validMutation.endDelta||ct(0),jsEvent:o.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",_)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new uu(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new wf(this.dragging,Av(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Cn(e.subjectEl,".fc-event")}}function p3(t,e,n,r){let i=t.context.dateEnv,o=t.dateSpan.range.start,s=e.dateSpan.range.start,l=ma(o,s,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}class g3{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,o=WC(r.origEvent);this.matchesCancel=!!Cn(o,i),this.matchesEvent=!!Cn(o,du.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:o}=this,s=i.getCurrentData();if(!o.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let l=i.options.unselectAuto;l&&(!l||!this.matchesCancel)&&i.calendarApi.unselect(r)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new dR(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const m3={fixedMirrorParent:Z},v3={dateClick:Z,eventDragStart:Z,eventDragStop:Z,eventDrop:Z,eventResizeStart:Z,eventResizeStop:Z,eventResize:Z,drop:Z,eventReceive:Z,eventLeave:Z};Pv.dataAttrPrefix="";var _3=ji({name:"@fullcalendar/interaction",componentInteractions:[a3,l3,du,f3],calendarInteractions:[g3],elementDraggingImpl:uu,optionRefiners:m3,listenerRefiners:v3});const y3={name:"AppointmentBooking",components:{FullCalendar:OU},data(){return{showBookingForm:!1,conflictMessage:"",newAppointment:{title:"",date:"",time:"",duration:"60",description:""},appointments:[],calendarOptions:{plugins:[dz,Yz,_3],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:[],select:this.handleDateSelect,eventClick:this.handleEventClick,eventDrop:this.handleEventDrop,eventResize:this.handleEventResize}}},computed:{upcomingAppointments(){const t=new Date;return this.appointments.filter(e=>new Date(e.start)>=t).sort((e,n)=>new Date(e.start)-new Date(n.start))}},mounted(){this.loadAppointments(),this.updateCalendarEvents()},methods:{handleDateSelect(t){const e=t.start.toISOString().split("T")[0];this.newAppointment.date=e,this.showBookingForm=!0},handleEventClick(t){confirm(`Delete appointment '${t.event.title}'?`)&&this.cancelAppointment(t.event.id)},handleEventDrop(t){this.updateAppointmentTime(t.event)},handleEventResize(t){this.updateAppointmentTime(t.event)},bookAppointment(){if(!this.validateAppointment())return;const t=new Date(`${this.newAppointment.date}T${this.newAppointment.time}`),e=new Date(t.getTime()+this.newAppointment.duration*6e4);if(this.checkConflict(t,e)){this.conflictMessage="Appointment conflicts with existing booking. Please choose a different time.",setTimeout(()=>{this.conflictMessage=""},5e3);return}const n={id:Date.now().toString(),title:this.newAppointment.title,start:t.toISOString(),end:e.toISOString(),backgroundColor:"#4CAF50",borderColor:"#45a049",extendedProps:{description:this.newAppointment.description,duration:this.newAppointment.duration}};this.appointments.push(n),this.saveAppointments(),this.updateCalendarEvents(),this.resetForm(),this.showBookingForm=!1,alert("Appointment booked successfully!")},validateAppointment(){return this.newAppointment.title.trim()?this.newAppointment.date?this.newAppointment.time?new Date(`${this.newAppointment.date}T${this.newAppointment.time}`)<=new Date?(alert("Please select a future date and time"),!1):!0:(alert("Please select a time"),!1):(alert("Please select a date"),!1):(alert("Please enter appointment title"),!1)},checkConflict(t,e){return this.appointments.some(n=>{const r=new Date(n.start),i=new Date(n.end);return t<i&&e>r})},cancelAppointment(t){confirm("Are you sure you want to cancel this appointment?")&&(this.appointments=this.appointments.filter(e=>e.id!==t),this.saveAppointments(),this.updateCalendarEvents())},updateAppointmentTime(t){const e=this.appointments.find(n=>n.id===t.id);e&&(e.start=t.start.toISOString(),e.end=t.end.toISOString(),this.saveAppointments())},resetForm(){this.newAppointment={title:"",date:"",time:"",duration:"60",description:""},this.conflictMessage=""},updateCalendarEvents(){this.calendarOptions.events=[...this.appointments]},loadAppointments(){const t=localStorage.getItem("appointments");t&&(this.appointments=JSON.parse(t))},saveAppointments(){localStorage.setItem("appointments",JSON.stringify(this.appointments))},formatDate(t){return new Date(t).toLocaleDateString()},formatTime(t){return new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}},b3={class:"appointment-booking"},w3={class:"booking-header"},E3={key:0,class:"booking-form"},S3={class:"form-group"},T3={class:"form-group"},C3={class:"form-group"},A3={class:"form-group"},R3={class:"form-group"},k3={class:"form-actions"},I3={key:1,class:"conflict-message"},x3={class:"calendar-container"},P3={class:"appointments-list"},D3={key:0,class:"no-appointments"},M3={key:1,class:"appointment-cards"},O3={class:"appointment-header"},N3=["onClick"],L3={class:"appointment-details"},B3={key:0};function V3(t,e,n,r,i,o){const s=jr("FullCalendar");return ge(),me("div",b3,[w("div",w3,[e[8]||(e[8]=w("h2",null,"Appointment Booking System",-1)),w("button",{onClick:e[0]||(e[0]=l=>i.showBookingForm=!i.showBookingForm),class:"btn-primary"},ve(i.showBookingForm?"Hide Form":"Book Appointment"),1)]),i.showBookingForm?(ge(),me("div",E3,[e[16]||(e[16]=w("h3",null,"Book New Appointment",-1)),w("form",{onSubmit:e[7]||(e[7]=As((...l)=>o.bookAppointment&&o.bookAppointment(...l),["prevent"]))},[w("div",S3,[e[9]||(e[9]=w("label",{for:"title"},"Appointment Title:",-1)),Ne(w("input",{id:"title","onUpdate:modelValue":e[1]||(e[1]=l=>i.newAppointment.title=l),type:"text",required:"",placeholder:"Enter appointment title"},null,512),[[tt,i.newAppointment.title]])]),w("div",T3,[e[10]||(e[10]=w("label",{for:"date"},"Date:",-1)),Ne(w("input",{id:"date","onUpdate:modelValue":e[2]||(e[2]=l=>i.newAppointment.date=l),type:"date",required:""},null,512),[[tt,i.newAppointment.date]])]),w("div",C3,[e[11]||(e[11]=w("label",{for:"time"},"Time:",-1)),Ne(w("input",{id:"time","onUpdate:modelValue":e[3]||(e[3]=l=>i.newAppointment.time=l),type:"time",required:""},null,512),[[tt,i.newAppointment.time]])]),w("div",A3,[e[13]||(e[13]=w("label",{for:"duration"},"Duration (minutes):",-1)),Ne(w("select",{id:"duration","onUpdate:modelValue":e[4]||(e[4]=l=>i.newAppointment.duration=l),required:""},e[12]||(e[12]=[w("option",{value:"30"},"30 minutes",-1),w("option",{value:"60"},"1 hour",-1),w("option",{value:"90"},"1.5 hours",-1),w("option",{value:"120"},"2 hours",-1)]),512),[[Ii,i.newAppointment.duration]])]),w("div",R3,[e[14]||(e[14]=w("label",{for:"description"},"Description:",-1)),Ne(w("textarea",{id:"description","onUpdate:modelValue":e[5]||(e[5]=l=>i.newAppointment.description=l),placeholder:"Enter appointment description"},null,512),[[tt,i.newAppointment.description]])]),w("div",k3,[e[15]||(e[15]=w("button",{type:"submit",class:"btn-primary"},"Book Appointment",-1)),w("button",{type:"button",onClick:e[6]||(e[6]=(...l)=>o.resetForm&&o.resetForm(...l)),class:"btn-secondary"},"Reset")])],32)])):pt("",!0),i.conflictMessage?(ge(),me("div",I3,ve(i.conflictMessage),1)):pt("",!0),w("div",x3,[ut(s,{ref:"fullCalendar",options:i.calendarOptions},null,8,["options"])]),w("div",P3,[e[20]||(e[20]=w("h3",null,"Upcoming Appointments",-1)),i.appointments.length===0?(ge(),me("div",D3," No appointments scheduled ")):(ge(),me("div",M3,[(ge(!0),me(Xt,null,Ni(o.upcomingAppointments,l=>(ge(),me("div",{key:l.id,class:"appointment-card"},[w("div",O3,[w("h4",null,ve(l.title),1),w("button",{onClick:u=>o.cancelAppointment(l.id),class:"btn-danger"}," Cancel ",8,N3)]),w("div",L3,[w("p",null,[e[17]||(e[17]=w("strong",null,"Date:",-1)),Ke(" "+ve(o.formatDate(l.start)),1)]),w("p",null,[e[18]||(e[18]=w("strong",null,"Time:",-1)),Ke(" "+ve(o.formatTime(l.start))+" - "+ve(o.formatTime(l.end)),1)]),l.extendedProps.description?(ge(),me("p",B3,[e[19]||(e[19]=w("strong",null,"Description:",-1)),Ke(" "+ve(l.extendedProps.description),1)])):pt("",!0)])]))),128))]))])])}const F3=xn(y3,[["render",V3],["__scopeId","data-v-237cce28"]]),$3={name:"AppointmentTable",data(){return{appointments:[],searchTerm:"",statusFilter:"",timeRange:"all",sortField:"start",sortDirection:"desc",refreshInterval:null,currentPage:1,itemsPerPage:10,columnSearch:{title:"",date:"",time:"",duration:"",status:"",description:""}}},computed:{filteredAppointments(){let t=[...this.appointments];if(this.searchTerm){const e=this.searchTerm.toLowerCase();t=t.filter(n=>n.title.toLowerCase().includes(e)||this.getDescription(n).toLowerCase().includes(e))}if(this.columnSearch.title){const e=this.columnSearch.title.toLowerCase();t=t.filter(n=>n.title.toLowerCase().includes(e))}if(this.columnSearch.date){const e=this.columnSearch.date.toLowerCase();t=t.filter(n=>this.formatDate(n.start).toLowerCase().includes(e))}if(this.columnSearch.time){const e=this.columnSearch.time.toLowerCase();t=t.filter(n=>(this.formatTime(n.start)+" - "+this.formatTime(n.end)).toLowerCase().includes(e))}if(this.columnSearch.duration){const e=this.columnSearch.duration.toLowerCase();t=t.filter(n=>this.getDuration(n).toString().includes(e))}if(this.columnSearch.status&&(t=t.filter(e=>this.getStatus(e)===this.columnSearch.status)),this.columnSearch.description){const e=this.columnSearch.description.toLowerCase();t=t.filter(n=>this.getDescription(n).toLowerCase().includes(e))}if(this.statusFilter&&(t=t.filter(e=>this.getStatus(e)===this.statusFilter)),this.timeRange!=="all"){const e=new Date,n=new Date;switch(this.timeRange){case"week":n.setDate(e.getDate()-7);break;case"month":n.setMonth(e.getMonth()-1);break;case"year":n.setFullYear(e.getFullYear()-1);break}t=t.filter(r=>new Date(r.start)>=n)}return t.sort((e,n)=>{let r,i;return this.sortField==="duration"?(r=this.getDuration(e),i=this.getDuration(n)):this.sortField==="status"?(r=this.getStatus(e),i=this.getStatus(n)):(r=e[this.sortField],i=n[this.sortField]),this.sortDirection==="asc"?r>i?1:-1:r<i?1:-1})},totalPages(){return Math.ceil(this.filteredAppointments.length/this.itemsPerPage)},paginatedAppointments(){const t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredAppointments.slice(t,e)},startIndex(){return(this.currentPage-1)*this.itemsPerPage},endIndex(){return Math.min(this.startIndex+this.itemsPerPage,this.filteredAppointments.length)},visiblePages(){const t=[];let n=Math.max(1,this.currentPage-Math.floor(2.5)),r=Math.min(this.totalPages,n+5-1);r-n+1<5&&(n=Math.max(1,r-5+1));for(let i=n;i<=r;i++)t.push(i);return t}},watch:{filteredAppointments(){this.currentPage>this.totalPages&&this.totalPages>0&&(this.currentPage=this.totalPages)}},mounted(){this.loadAppointments(),this.refreshInterval=setInterval(this.loadAppointments,1e3)},beforeUnmount(){this.refreshInterval&&clearInterval(this.refreshInterval)},methods:{loadAppointments(){try{const t=localStorage.getItem("appointments");t?this.appointments=JSON.parse(t):this.appointments=[]}catch(t){console.error("Error loading appointments from localStorage:",t),this.appointments=[]}},saveAppointments(){try{localStorage.setItem("appointments",JSON.stringify(this.appointments))}catch(t){console.error("Error saving appointments to localStorage:",t)}},sortBy(t){this.sortField===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortField=t,this.sortDirection="asc")},getSortClass(t){return this.sortField!==t?"":this.sortDirection==="asc"?"sort-asc":"sort-desc"},getRowClass(t){const e=this.getStatus(t);return{"row-scheduled":e==="scheduled","row-completed":e==="completed","row-cancelled":e==="cancelled"}},getStatusClass(t){return{"status-scheduled":t==="scheduled","status-completed":t==="completed","status-cancelled":t==="cancelled"}},getStatus(t){return t.extendedProps?.status||"scheduled"},getDescription(t){return t.extendedProps?.description||"-"},getDuration(t){if(t.extendedProps?.duration)return t.extendedProps.duration;const e=new Date(t.start),n=new Date(t.end);return Math.round((n-e)/6e4)},getStatusCount(t){return this.appointments.filter(e=>this.getStatus(e)===t).length},updateStatus(t,e){try{const n=this.appointments.findIndex(r=>r.id===t);n!==-1&&(this.appointments[n].extendedProps||(this.appointments[n].extendedProps={}),this.appointments[n].extendedProps.status=e,this.saveAppointments())}catch(n){console.error("Error updating appointment status:",n),alert("Failed to update appointment status")}},formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatTime(t){return new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})},exportToCSV(){const e=[["Title","Date","Time","Duration","Status","Description"].join(",")];this.filteredAppointments.forEach(o=>{const s=[`"${o.title}"`,`"${this.formatDate(o.start)}"`,`"${this.formatTime(o.start)}"`,`"${this.getDuration(o)}"`,`"${this.getStatus(o)}"`,`"${this.getDescription(o)}"`];e.push(s.join(","))});const n=new Blob([e.join(`
`)],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),i=URL.createObjectURL(n);r.setAttribute("href",i),r.setAttribute("download",`appointments_${new Date().toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},async exportToPDF(){try{const{jsPDF:t}=await Tc(async()=>{const{jsPDF:g}=await import("./jspdf.es.min-D2ftdynC.js").then(v=>v.j);return{jsPDF:g}},[]),e=(await Tc(async()=>{const{default:g}=await import("./html2canvas.esm-BfxBtG_O.js");return{default:g}},[])).default,n=new t,r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight();n.setFontSize(16),n.text("Appointment Records",r/2,20,{align:"center"});let o=40;const s=8,l=20;n.setFontSize(10);const u=["Title","Date","Time","Duration","Status"],h=[50,30,25,25,25];let f=l;u.forEach((g,v)=>{n.text(g,f,o),f+=h[v]}),o+=s,n.line(l,o,r-l,o),o+=5,this.filteredAppointments.forEach(g=>{o>i-30&&(n.addPage(),o=20),f=l,[g.title.substring(0,20),this.formatDate(g.start),this.formatTime(g.start),this.getDuration(g),this.getStatus(g)].forEach((_,S)=>{n.text(_,f,o),f+=h[S]}),o+=s}),n.save(`appointments_${new Date().toISOString().split("T")[0]}.pdf`)}catch(t){console.error("Error exporting PDF:",t),alert("Error exporting PDF. Please make sure jsPDF is installed.")}}}},U3={class:"appointment-table-container"},z3={class:"table-header"},H3={class:"table-controls"},j3={class:"search-box"},W3={class:"filter-controls"},q3={class:"export-controls"},G3={class:"column-search-row"},Z3={class:"column-search"},K3={class:"column-search"},Y3={class:"column-search"},Q3={class:"column-search"},X3={class:"column-search"},J3={class:"column-search"},e6={class:"table-wrapper"},t6={class:"appointment-table"},n6={key:0},r6={class:"title-cell"},i6={class:"date-cell"},o6={class:"time-cell"},s6={class:"duration-cell"},a6={class:"status-cell"},l6={class:"description-cell"},c6={class:"actions-cell"},u6=["onClick"],d6=["onClick"],h6={key:2,class:"status-final"},f6={class:"pagination-container"},p6={class:"pagination-info"},g6={class:"pagination-controls"},m6=["disabled"],v6={class:"pagination-pages"},_6=["onClick"],y6=["disabled"],b6={class:"table-footer"},w6={class:"summary-stats"},E6={class:"stat-item"},S6={class:"stat-item"},T6={class:"stat-item"},C6={class:"stat-item"};function A6(t,e,n,r,i,o){return ge(),me("div",U3,[w("div",z3,[e[20]||(e[20]=w("h3",null,"Appointment Records",-1)),w("div",H3,[w("div",j3,[Ne(w("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.searchTerm=s),type:"text",placeholder:"Search appointments...",class:"search-input"},null,512),[[tt,i.searchTerm]])]),w("div",W3,[Ne(w("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.statusFilter=s),class:"status-filter"},e[18]||(e[18]=[w("option",{value:""},"All Status",-1),w("option",{value:"scheduled"},"Scheduled",-1),w("option",{value:"completed"},"Completed",-1),w("option",{value:"cancelled"},"Cancelled",-1)]),512),[[Ii,i.statusFilter]]),Ne(w("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.timeRange=s),class:"time-filter"},e[19]||(e[19]=[w("option",{value:"all"},"All Time",-1),w("option",{value:"week"},"This Week",-1),w("option",{value:"month"},"This Month",-1),w("option",{value:"year"},"This Year",-1)]),512),[[Ii,i.timeRange]])]),w("div",q3,[w("button",{onClick:e[3]||(e[3]=(...s)=>o.exportToCSV&&o.exportToCSV(...s)),class:"export-btn csv-btn"}," 📊 Export CSV "),w("button",{onClick:e[4]||(e[4]=(...s)=>o.exportToPDF&&o.exportToPDF(...s)),class:"export-btn pdf-btn"}," 📄 Export PDF ")])])]),w("div",G3,[w("div",Z3,[Ne(w("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>i.columnSearch.title=s),type:"text",placeholder:"Search title...",class:"column-search-input"},null,512),[[tt,i.columnSearch.title]])]),w("div",K3,[Ne(w("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>i.columnSearch.date=s),type:"text",placeholder:"Search date...",class:"column-search-input"},null,512),[[tt,i.columnSearch.date]])]),w("div",Y3,[Ne(w("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>i.columnSearch.time=s),type:"text",placeholder:"Search time...",class:"column-search-input"},null,512),[[tt,i.columnSearch.time]])]),w("div",Q3,[Ne(w("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>i.columnSearch.duration=s),type:"text",placeholder:"Search duration...",class:"column-search-input"},null,512),[[tt,i.columnSearch.duration]])]),w("div",X3,[Ne(w("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>i.columnSearch.status=s),class:"column-search-select"},e[21]||(e[21]=[w("option",{value:""},"All Status",-1),w("option",{value:"scheduled"},"Scheduled",-1),w("option",{value:"completed"},"Completed",-1),w("option",{value:"cancelled"},"Cancelled",-1)]),512),[[Ii,i.columnSearch.status]])]),w("div",J3,[Ne(w("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>i.columnSearch.description=s),type:"text",placeholder:"Search description...",class:"column-search-input"},null,512),[[tt,i.columnSearch.description]])]),e[22]||(e[22]=w("div",{class:"column-search"},[w("span",{class:"column-search-placeholder"},"Actions")],-1))]),w("div",e6,[w("table",t6,[w("thead",null,[w("tr",null,[w("th",{onClick:e[11]||(e[11]=s=>o.sortBy("title")),class:"sortable"},[e[23]||(e[23]=Ke(" Title ")),w("span",{class:Ut(["sort-icon",o.getSortClass("title")])},"↕",2)]),w("th",{onClick:e[12]||(e[12]=s=>o.sortBy("start")),class:"sortable"},[e[24]||(e[24]=Ke(" Date ")),w("span",{class:Ut(["sort-icon",o.getSortClass("start")])},"↕",2)]),w("th",{onClick:e[13]||(e[13]=s=>o.sortBy("start")),class:"sortable"},[e[25]||(e[25]=Ke(" Time ")),w("span",{class:Ut(["sort-icon",o.getSortClass("start")])},"↕",2)]),w("th",{onClick:e[14]||(e[14]=s=>o.sortBy("duration")),class:"sortable"},[e[26]||(e[26]=Ke(" Duration ")),w("span",{class:Ut(["sort-icon",o.getSortClass("duration")])},"↕",2)]),w("th",{onClick:e[15]||(e[15]=s=>o.sortBy("status")),class:"sortable"},[e[27]||(e[27]=Ke(" Status ")),w("span",{class:Ut(["sort-icon",o.getSortClass("status")])},"↕",2)]),e[28]||(e[28]=w("th",null,"Description",-1)),e[29]||(e[29]=w("th",null,"Actions",-1))])]),w("tbody",null,[o.paginatedAppointments.length===0?(ge(),me("tr",n6,e[30]||(e[30]=[w("td",{colspan:"7",class:"no-data"},"No appointments found",-1)]))):pt("",!0),(ge(!0),me(Xt,null,Ni(o.paginatedAppointments,s=>(ge(),me("tr",{key:s.id,class:Ut(o.getRowClass(s))},[w("td",r6,ve(s.title),1),w("td",i6,ve(o.formatDate(s.start)),1),w("td",o6,ve(o.formatTime(s.start))+" - "+ve(o.formatTime(s.end)),1),w("td",s6,ve(o.getDuration(s))+" min",1),w("td",a6,[w("span",{class:Ut(o.getStatusClass(o.getStatus(s)))},ve(o.getStatus(s)),3)]),w("td",l6,ve(o.getDescription(s)),1),w("td",c6,[o.getStatus(s)==="scheduled"?(ge(),me("button",{key:0,onClick:l=>o.updateStatus(s.id,"completed"),class:"btn-complete"}," Complete ",8,u6)):pt("",!0),o.getStatus(s)==="scheduled"?(ge(),me("button",{key:1,onClick:l=>o.updateStatus(s.id,"cancelled"),class:"btn-cancel"}," Cancel ",8,d6)):pt("",!0),o.getStatus(s)!=="scheduled"?(ge(),me("span",h6,ve(o.getStatus(s)),1)):pt("",!0)])],2))),128))])])]),w("div",f6,[w("div",p6," Showing "+ve(o.startIndex+1)+" to "+ve(o.endIndex)+" of "+ve(o.filteredAppointments.length)+" entries ",1),w("div",g6,[w("button",{onClick:e[16]||(e[16]=s=>t.goToPage(i.currentPage-1)),disabled:i.currentPage===1,class:"pagination-btn"}," Previous ",8,m6),w("span",v6,[(ge(!0),me(Xt,null,Ni(o.visiblePages,s=>(ge(),me("button",{key:s,onClick:l=>t.goToPage(s),class:Ut(["pagination-btn",{active:s===i.currentPage}])},ve(s),11,_6))),128))]),w("button",{onClick:e[17]||(e[17]=s=>t.goToPage(i.currentPage+1)),disabled:i.currentPage===o.totalPages,class:"pagination-btn"}," Next ",8,y6)])]),w("div",b6,[w("div",w6,[w("span",E6," Total: "+ve(i.appointments.length),1),w("span",S6," Scheduled: "+ve(o.getStatusCount("scheduled")),1),w("span",T6," Completed: "+ve(o.getStatusCount("completed")),1),w("span",C6," Cancelled: "+ve(o.getStatusCount("cancelled")),1)])])])}const R6=xn($3,[["render",A6],["__scopeId","data-v-847ddd46"]]);var Fee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var I6=Yl.exports,ow;function x6(){return ow||(ow=1,function(t,e){(function(n,r){r(e)})(I6,function(n){var r="1.9.4";function i(a){var c,p,m,b;for(p=1,m=arguments.length;p<m;p++){b=arguments[p];for(c in b)a[c]=b[c]}return a}var o=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function s(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var m=p.call(arguments,2);return function(){return a.apply(c,m.length?m.concat(p.call(arguments)):arguments)}}var l=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function h(a,c,p){var m,b,C,B;return B=function(){m=!1,b&&(C.apply(p,b),b=!1)},C=function(){m?b=arguments:(a.apply(p,arguments),setTimeout(B,c),m=!0)},C}function f(a,c,p){var m=c[1],b=c[0],C=m-b;return a===m&&p?a:((a-b)%C+C)%C+b}function g(){return!1}function v(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function _(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return _(a).split(/\s+/)}function T(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function A(a,c,p){var m=[];for(var b in a)m.push(encodeURIComponent(p?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!c||c.indexOf("?")===-1?"?":"&")+m.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function M(a,c){return a.replace(P,function(p,m){var b=c[m];if(b===void 0)throw new Error("No value provided for variable "+p);return typeof b=="function"&&(b=b(c)),b})}var U=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function q(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var oe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var D=0;function k(a){var c=+new Date,p=Math.max(0,16-(c-D));return D=c+p,window.setTimeout(a,p)}var I=window.requestAnimationFrame||se("RequestAnimationFrame")||k,F=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function $(a,c,p){if(p&&I===k)a.call(c);else return I.call(window,s(a,c))}function z(a){a&&F.call(window,a)}var O={__proto__:null,extend:i,create:o,bind:s,get lastId(){return l},stamp:u,throttle:h,wrapNum:f,falseFn:g,formatNum:v,trim:_,splitWords:S,setOptions:T,getParamString:A,template:M,isArray:U,indexOf:q,emptyImageUrl:oe,requestFn:I,cancelFn:F,requestAnimFrame:$,cancelAnimFrame:z};function dt(){}dt.extend=function(a){var c=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,m=o(p);m.constructor=c,c.prototype=m;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(c[b]=this[b]);return a.statics&&i(c,a.statics),a.includes&&(Ft(a.includes),i.apply(null,[m].concat(a.includes))),i(m,a),delete m.statics,delete m.includes,m.options&&(m.options=p.options?o(p.options):{},i(m.options,a.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,B=m._initHooks.length;C<B;C++)m._initHooks[C].call(this)}},c},dt.include=function(a){var c=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},dt.mergeOptions=function(a){return i(this.prototype.options,a),this},dt.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Ft(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=U(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Qe={on:function(a,c,p){if(typeof a=="object")for(var m in a)this._on(m,a[m],c);else{a=S(a);for(var b=0,C=a.length;b<C;b++)this._on(a[b],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var m in a)this._off(m,a[m],c);else{a=S(a);for(var b=arguments.length===1,C=0,B=a.length;C<B;C++)b?this._off(a[C]):this._off(a[C],c,p)}return this},_on:function(a,c,p,m){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var b={fn:c,ctx:p};m&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,c,p){var m,b,C;if(this._events&&(m=this._events[a],!!m)){if(arguments.length===1){if(this._firingCount)for(b=0,C=m.length;b<C;b++)m[b].fn=g;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var B=this._listens(a,c,p);if(B!==!1){var W=m[B];this._firingCount&&(W.fn=g,this._events[a]=m=m.slice()),m.splice(B,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var m=i({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var C=0,B=b.length;C<B;C++){var W=b[C],G=W.fn;W.once&&this.off(a,G,W.ctx),G.call(W.ctx||this,m)}this._firingCount--}}return p&&this._propagateEvent(m),this},listens:function(a,c,p,m){typeof a!="string"&&console.warn('"string" type argument expected');var b=c;typeof c!="function"&&(m=!!c,b=void 0,p=void 0);var C=this._events&&this._events[a];if(C&&C.length&&this._listens(a,b,p)!==!1)return!0;if(m){for(var B in this._eventParents)if(this._eventParents[B].listens(a,c,p,m))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var m=this._events[a]||[];if(!c)return!!m.length;p===this&&(p=void 0);for(var b=0,C=m.length;b<C;b++)if(m[b].fn===c&&m[b].ctx===p)return b;return!1},once:function(a,c,p){if(typeof a=="object")for(var m in a)this._on(m,a[m],c,!0);else{a=S(a);for(var b=0,C=a.length;b<C;b++)this._on(a[b],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};Qe.addEventListener=Qe.on,Qe.removeEventListener=Qe.clearAllEventListeners=Qe.off,Qe.addOneTimeEventListener=Qe.once,Qe.fireEvent=Qe.fire,Qe.hasEventListeners=Qe.listens;var Ve=dt.extend(Qe);function le(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var Ot=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(a){return this.clone()._add(Ee(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Ee(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new le(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new le(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ot(this.x),this.y=Ot(this.y),this},distanceTo:function(a){a=Ee(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=Ee(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Ee(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function Ee(a,c,p){return a instanceof le?a:U(a)?new le(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new le(a.x,a.y):new le(a,c,p)}function Fe(a,c){if(a)for(var p=c?[a,c]:a,m=0,b=p.length;m<b;m++)this.extend(p[m])}Fe.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof le||typeof a[0]=="number"||"x"in a)c=p=Ee(a);else if(a=$e(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return Ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Ee(this.min.x,this.max.y)},getTopRight:function(){return Ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof le?a=Ee(a):a=$e(a),a instanceof Fe?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=$e(a);var c=this.min,p=this.max,m=a.min,b=a.max,C=b.x>=c.x&&m.x<=p.x,B=b.y>=c.y&&m.y<=p.y;return C&&B},overlaps:function(a){a=$e(a);var c=this.min,p=this.max,m=a.min,b=a.max,C=b.x>c.x&&m.x<p.x,B=b.y>c.y&&m.y<p.y;return C&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,m=Math.abs(c.x-p.x)*a,b=Math.abs(c.y-p.y)*a;return $e(Ee(c.x-m,c.y-b),Ee(p.x+m,p.y+b))},equals:function(a){return a?(a=$e(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function $e(a,c){return!a||a instanceof Fe?a:new Fe(a,c)}function We(a,c){if(a)for(var p=c?[a,c]:a,m=0,b=p.length;m<b;m++)this.extend(p[m])}We.prototype={extend:function(a){var c=this._southWest,p=this._northEast,m,b;if(a instanceof Ze)m=a,b=a;else if(a instanceof We){if(m=a._southWest,b=a._northEast,!m||!b)return this}else return a?this.extend(ke(a)||it(a)):this;return!c&&!p?(this._southWest=new Ze(m.lat,m.lng),this._northEast=new Ze(b.lat,b.lng)):(c.lat=Math.min(m.lat,c.lat),c.lng=Math.min(m.lng,c.lng),p.lat=Math.max(b.lat,p.lat),p.lng=Math.max(b.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,m=Math.abs(c.lat-p.lat)*a,b=Math.abs(c.lng-p.lng)*a;return new We(new Ze(c.lat-m,c.lng-b),new Ze(p.lat+m,p.lng+b))},getCenter:function(){return new Ze((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ze(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ze(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ze||"lat"in a?a=ke(a):a=it(a);var c=this._southWest,p=this._northEast,m,b;return a instanceof We?(m=a.getSouthWest(),b=a.getNorthEast()):m=b=a,m.lat>=c.lat&&b.lat<=p.lat&&m.lng>=c.lng&&b.lng<=p.lng},intersects:function(a){a=it(a);var c=this._southWest,p=this._northEast,m=a.getSouthWest(),b=a.getNorthEast(),C=b.lat>=c.lat&&m.lat<=p.lat,B=b.lng>=c.lng&&m.lng<=p.lng;return C&&B},overlaps:function(a){a=it(a);var c=this._southWest,p=this._northEast,m=a.getSouthWest(),b=a.getNorthEast(),C=b.lat>c.lat&&m.lat<p.lat,B=b.lng>c.lng&&m.lng<p.lng;return C&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=it(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function it(a,c){return a instanceof We?a:new We(a,c)}function Ze(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Ze.prototype={equals:function(a,c){if(!a)return!1;a=ke(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+v(this.lat,a)+", "+v(this.lng,a)+")"},distanceTo:function(a){return fe.distance(this,ke(a))},wrap:function(){return fe.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return it([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Ze(this.lat,this.lng,this.alt)}};function ke(a,c,p){return a instanceof Ze?a:U(a)&&typeof a[0]!="object"?a.length===3?new Ze(a[0],a[1],a[2]):a.length===2?new Ze(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ze(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Ze(a,c,p)}var Q={latLngToPoint:function(a,c){var p=this.projection.project(a),m=this.scale(c);return this.transformation._transform(p,m)},pointToLatLng:function(a,c){var p=this.scale(c),m=this.transformation.untransform(a,p);return this.projection.unproject(m)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),m=this.transformation.transform(c.min,p),b=this.transformation.transform(c.max,p);return new Fe(m,b)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,m=a.alt;return new Ze(p,c,m)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),m=c.lat-p.lat,b=c.lng-p.lng;if(m===0&&b===0)return a;var C=a.getSouthWest(),B=a.getNorthEast(),W=new Ze(C.lat-m,C.lng-b),G=new Ze(B.lat-m,B.lng-b);return new We(W,G)}},fe=i({},Q,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,m=a.lat*p,b=c.lat*p,C=Math.sin((c.lat-a.lat)*p/2),B=Math.sin((c.lng-a.lng)*p/2),W=C*C+Math.cos(m)*Math.cos(b)*B*B,G=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W));return this.R*G}}),pe=6378137,be={R:pe,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,m=Math.max(Math.min(p,a.lat),-p),b=Math.sin(m*c);return new le(this.R*a.lng*c,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var c=180/Math.PI;return new Ze((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=pe*Math.PI;return new Fe([-a,-a],[a,a])}()};function Xe(a,c,p,m){if(U(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=m}Xe.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new le((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function x(a,c,p,m){return new Xe(a,c,p,m)}var N=i({},fe,{code:"EPSG:3857",projection:be,transformation:function(){var a=.5/(Math.PI*be.R);return x(a,.5,-a,.5)}()}),H=i({},N,{code:"EPSG:900913"});function X(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function te(a,c){var p="",m,b,C,B,W,G;for(m=0,C=a.length;m<C;m++){for(W=a[m],b=0,B=W.length;b<B;b++)G=W[b],p+=(b?"L":"M")+G.x+" "+G.y;p+=c?Ce.svg?"z":"x":""}return p||"M0 0"}var J=document.documentElement.style,de="ActiveXObject"in window,ce=de&&!document.addEventListener,ae="msLaunchUri"in navigator&&!("documentMode"in document),ie=ir("webkit"),Te=ir("android"),he=ir("android 2")||ir("android 3"),Se=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),De=Te&&ir("Google")&&Se<537&&!("AudioNode"in window),Ae=!!window.opera,ze=!ae&&ir("chrome"),nt=ir("gecko")&&!ie&&!Ae&&!de,nn=!ze&&ir("safari"),Gt=ir("phantom"),Pn="OTransition"in J,sn=navigator.platform.indexOf("Win")===0,vr=de&&"transition"in J,ii="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!he,Zt="MozPerspective"in J,Fn=!window.L_DISABLE_3D&&(vr||ii||Zt)&&!Pn&&!Gt,Mr=typeof orientation<"u"||ir("mobile"),ll=Mr&&ie,vu=Mr&&ii,cl=!window.PointerEvent&&window.MSPointerEvent,Wi=!!(window.PointerEvent||cl),Ms="ontouchstart"in window||!!window.TouchEvent,ul=!window.L_NO_TOUCH&&(Ms||Wi),oi=Mr&&Ae,_u=Mr&&nt,Os=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yu=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,c),window.removeEventListener("testPassiveEventSupport",g,c)}catch{}return a}(),zo=function(){return!!document.createElement("canvas").getContext}(),Ns=!!(document.createElementNS&&X("svg").createSVGRect),dn=!!Ns&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),bu=!Ns&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Ho=navigator.platform.indexOf("Mac")===0,jo=navigator.platform.indexOf("Linux")===0;function ir(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ce={ie:de,ielt9:ce,edge:ae,webkit:ie,android:Te,android23:he,androidStock:De,opera:Ae,chrome:ze,gecko:nt,safari:nn,phantom:Gt,opera12:Pn,win:sn,ie3d:vr,webkit3d:ii,gecko3d:Zt,any3d:Fn,mobile:Mr,mobileWebkit:ll,mobileWebkit3d:vu,msPointer:cl,pointer:Wi,touch:ul,touchNative:Ms,mobileOpera:oi,mobileGecko:_u,retina:Os,passiveEvents:yu,canvas:zo,svg:Ns,vml:bu,inlineSvg:dn,mac:Ho,linux:jo},si=Ce.msPointer?"MSPointerDown":"pointerdown",wu=Ce.msPointer?"MSPointerMove":"pointermove",Eu=Ce.msPointer?"MSPointerUp":"pointerup",Wo=Ce.msPointer?"MSPointerCancel":"pointercancel",Ls={touchstart:si,touchmove:wu,touchend:Eu,touchcancel:Wo},Bs={touchstart:Fs,touchmove:Vs,touchend:Vs,touchcancel:Vs},_r={},yr=!1;function Su(a,c,p){return c==="touchstart"&&Cu(),Bs[c]?(p=Bs[c].bind(this,p),a.addEventListener(Ls[c],p,!1),p):(console.warn("wrong event specified:",c),g)}function Tu(a,c,p){if(!Ls[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Ls[c],p,!1)}function dl(a){_r[a.pointerId]=a}function hl(a){_r[a.pointerId]&&(_r[a.pointerId]=a)}function fl(a){delete _r[a.pointerId]}function Cu(){yr||(document.addEventListener(si,dl,!0),document.addEventListener(wu,hl,!0),document.addEventListener(Eu,fl,!0),document.addEventListener(Wo,fl,!0),yr=!0)}function Vs(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in _r)c.touches.push(_r[p]);c.changedTouches=[c],a(c)}}function Fs(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Nt(c),Vs(a,c)}function Au(a){var c={},p,m;for(m in a)p=a[m],c[m]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var pl=200;function qo(a,c){a.addEventListener("dblclick",c);var p=0,m;function b(C){if(C.detail!==1){m=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var B=Al(C);if(!(B.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!B.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var W=Date.now();W-p<=pl?(m++,m===2&&c(Au(C))):m=1,p=W}}}return a.addEventListener("click",b),{dblclick:c,simDblclick:b}}function ai(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Go=ci(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zo=ci(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),gl=Zo==="webkitTransition"||Zo==="OTransition"?Zo+"End":"transitionend";function ml(a){return typeof a=="string"?document.getElementById(a):a}function qi(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(a,null);p=m?m[c]:null}return p==="auto"?null:p}function ot(a,c,p){var m=document.createElement(a);return m.className=c||"",p&&p.appendChild(m),m}function Tt(a){var c=a.parentNode;c&&c.removeChild(a)}function Ko(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function li(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Gi(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function vl(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=or(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function qe(a,c){if(a.classList!==void 0)for(var p=S(c),m=0,b=p.length;m<b;m++)a.classList.add(p[m]);else if(!vl(a,c)){var C=or(a);_l(a,(C?C+" ":"")+c)}}function Pt(a,c){a.classList!==void 0?a.classList.remove(c):_l(a,_((" "+or(a)+" ").replace(" "+c+" "," ")))}function _l(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function or(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function $t(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&$s(a,c)}function $s(a,c){var p=!1,m="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(m)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+m+"(opacity="+c+")"}function ci(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Or(a,c,p){var m=c||new le(0,0);a.style[Go]=(Ce.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(p?" scale("+p+")":"")}function Ue(a,c){a._leaflet_pos=c,Ce.any3d?Or(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function sr(a){return a._leaflet_pos||new le(0,0)}var br,wr,yl;if("onselectstart"in document)br=function(){Me(window,"selectstart",Nt)},wr=function(){wt(window,"selectstart",Nt)};else{var Zi=ci(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);br=function(){if(Zi){var a=document.documentElement.style;yl=a[Zi],a[Zi]="none"}},wr=function(){Zi&&(document.documentElement.style[Zi]=yl,yl=void 0)}}function bl(){Me(window,"dragstart",Nt)}function wl(){wt(window,"dragstart",Nt)}var Us,El;function ui(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Yn(),Us=a,El=a.style.outlineStyle,a.style.outlineStyle="none",Me(window,"keydown",Yn))}function Yn(){Us&&(Us.style.outlineStyle=El,Us=void 0,El=void 0,wt(window,"keydown",Yn))}function Sl(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function zs(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Ru={__proto__:null,TRANSFORM:Go,TRANSITION:Zo,TRANSITION_END:gl,get:ml,getStyle:qi,create:ot,remove:Tt,empty:Ko,toFront:li,toBack:Gi,hasClass:vl,addClass:qe,removeClass:Pt,setClass:_l,getClass:or,setOpacity:$t,testProp:ci,setTransform:Or,setPosition:Ue,getPosition:sr,get disableTextSelection(){return br},get enableTextSelection(){return wr},disableImageDrag:bl,enableImageDrag:wl,preventOutline:ui,restoreOutline:Yn,getSizedParentNode:Sl,getScale:zs};function Me(a,c,p,m){if(c&&typeof c=="object")for(var b in c)Tl(a,b,c[b],p);else{c=S(c);for(var C=0,B=c.length;C<B;C++)Tl(a,c[C],p,m)}return this}var ar="_leaflet_events";function wt(a,c,p,m){if(arguments.length===1)ku(a),delete a[ar];else if(c&&typeof c=="object")for(var b in c)Cl(a,b,c[b],p);else if(c=S(c),arguments.length===2)ku(a,function(W){return q(c,W)!==-1});else for(var C=0,B=c.length;C<B;C++)Cl(a,c[C],p,m);return this}function ku(a,c){for(var p in a[ar]){var m=p.split(/\d/)[0];(!c||c(m))&&Cl(a,m,null,null,p)}}var lr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Tl(a,c,p,m){var b=c+u(p)+(m?"_"+u(m):"");if(a[ar]&&a[ar][b])return this;var C=function(W){return p.call(m||a,W||window.event)},B=C;!Ce.touchNative&&Ce.pointer&&c.indexOf("touch")===0?C=Su(a,c,C):Ce.touch&&c==="dblclick"?C=qo(a,C):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(lr[c]||c,C,Ce.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(C=function(W){W=W||window.event,Rl(a,W)&&B(W)},a.addEventListener(lr[c],C,!1)):a.addEventListener(c,B,!1):a.attachEvent("on"+c,C),a[ar]=a[ar]||{},a[ar][b]=C}function Cl(a,c,p,m,b){b=b||c+u(p)+(m?"_"+u(m):"");var C=a[ar]&&a[ar][b];if(!C)return this;!Ce.touchNative&&Ce.pointer&&c.indexOf("touch")===0?Tu(a,c,C):Ce.touch&&c==="dblclick"?ai(a,C):"removeEventListener"in a?a.removeEventListener(lr[c]||c,C,!1):a.detachEvent("on"+c,C),a[ar][b]=null}function cr(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ki(a){return Tl(a,"wheel",cr),this}function Yi(a){return Me(a,"mousedown touchstart dblclick contextmenu",cr),a._leaflet_disable_click=!0,this}function Nt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Qn(a){return Nt(a),cr(a),this}function Al(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function Hs(a,c){if(!c)return new le(a.clientX,a.clientY);var p=zs(c),m=p.boundingClientRect;return new le((a.clientX-m.left)/p.x-c.clientLeft,(a.clientY-m.top)/p.y-c.clientTop)}var Dt=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Iu(a){return Ce.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Dt:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Rl(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var xu={__proto__:null,on:Me,off:wt,stopPropagation:cr,disableScrollPropagation:Ki,disableClickPropagation:Yi,preventDefault:Nt,stop:Qn,getPropagationPath:Al,getMousePosition:Hs,getWheelDelta:Iu,isExternalTarget:Rl,addListener:Me,removeListener:wt},kl=Ve.extend({run:function(a,c,p,m){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=sr(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Ue(this._el,p),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),rt=Ve.extend({options:{crs:N,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=T(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ke(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zo&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,gl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(ke(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=i({animate:p.animate},p.zoom),p.pan=i({animate:p.animate,duration:p.duration},p.pan));var m=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var m=this.getZoomScale(c),b=this.getSize().divideBy(2),C=a instanceof le?a:this.latLngToContainerPoint(a),B=C.subtract(b).multiplyBy(1-1/m),W=this.containerPointToLatLng(b.add(B));return this.setView(W,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():it(a);var p=Ee(c.paddingTopLeft||c.padding||[0,0]),m=Ee(c.paddingBottomRight||c.padding||[0,0]),b=this.getBoundsZoom(a,!1,p.add(m));if(b=typeof c.maxZoom=="number"?Math.min(c.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var C=m.subtract(p).divideBy(2),B=this.project(a.getSouthWest(),b),W=this.project(a.getNorthEast(),b),G=this.unproject(B.add(W).divideBy(2).add(C),b);return{center:G,zoom:b}},fitBounds:function(a,c){if(a=it(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=Ee(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new kl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){qe(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Ce.any3d)return this.setView(a,c,p);this._stop();var m=this.project(this.getCenter()),b=this.project(a),C=this.getSize(),B=this._zoom;a=ke(a),c=c===void 0?B:c;var W=Math.max(C.x,C.y),G=W*this.getZoomScale(B,c),re=b.distanceTo(m)||1,ye=1.42,Oe=ye*ye;function Je(Yt){var qu=Yt?-1:1,yk=Yt?G:W,bk=G*G-W*W+qu*Oe*Oe*re*re,wk=2*yk*Oe*re,Nf=bk/wk,h_=Math.sqrt(Nf*Nf+1)-Nf,Ek=h_<1e-9?-18:Math.log(h_);return Ek}function Mn(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function ln(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}function dr(Yt){return Mn(Yt)/ln(Yt)}var Un=Je(0);function na(Yt){return W*(ln(Un)/ln(Un+ye*Yt))}function gk(Yt){return W*(ln(Un)*dr(Un+ye*Yt)-Mn(Un))/Oe}function mk(Yt){return 1-Math.pow(1-Yt,1.5)}var vk=Date.now(),u_=(Je(1)-Un)/ye,_k=p.duration?1e3*p.duration:1e3*u_*.8;function d_(){var Yt=(Date.now()-vk)/_k,qu=mk(Yt)*u_;Yt<=1?(this._flyToFrame=$(d_,this),this._move(this.unproject(m.add(b.subtract(m).multiplyBy(gk(qu)/re)),B),this.getScaleZoom(W/na(qu),B),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),d_.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=it(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),m=this._limitCenter(p,this._zoom,it(a));return p.equals(m)||this.panTo(m,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=Ee(c.paddingTopLeft||c.padding||[0,0]),m=Ee(c.paddingBottomRight||c.padding||[0,0]),b=this.project(this.getCenter()),C=this.project(a),B=this.getPixelBounds(),W=$e([B.min.add(p),B.max.subtract(m)]),G=W.getSize();if(!W.contains(C)){this._enforcingBounds=!0;var re=C.subtract(W.getCenter()),ye=W.extend(C).getSize().subtract(G);b.x+=re.x<0?-ye.x:ye.x,b.y+=re.y<0?-ye.y:ye.y,this.panTo(this.unproject(b),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),m=c.divideBy(2).round(),b=p.divideBy(2).round(),C=m.subtract(b);return!C.x&&!C.y?this:(a.animate&&a.pan?this.panBy(C):(a.pan&&this._rawPanBy(C),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=s(this._handleGeolocationResponse,this),p=s(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,m=new Ze(c,p),b=m.toBounds(a.coords.accuracy*2),C=this._locateOptions;if(C.setView){var B=this.getBoundsZoom(b);this.setView(m,C.maxZoom?Math.min(B,C.maxZoom):B)}var W={latlng:m,bounds:b,timestamp:a.timestamp};for(var G in a.coords)typeof a.coords[G]=="number"&&(W[G]=a.coords[G]);this.fire("locationfound",W)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Tt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),m=ot("div",p,c||this._mapPane);return a&&(this._panes[a]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new We(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=it(a),p=Ee(p||[0,0]);var m=this.getZoom()||0,b=this.getMinZoom(),C=this.getMaxZoom(),B=a.getNorthWest(),W=a.getSouthEast(),G=this.getSize().subtract(p),re=$e(this.project(W,m),this.project(B,m)).getSize(),ye=Ce.any3d?this.options.zoomSnap:1,Oe=G.x/re.x,Je=G.y/re.y,Mn=c?Math.max(Oe,Je):Math.min(Oe,Je);return m=this.getScaleZoom(Mn,m),ye&&(m=Math.round(m/(ye/100))*(ye/100),m=c?Math.ceil(m/ye)*ye:Math.floor(m/ye)*ye),Math.max(b,Math.min(C,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new Fe(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var m=p.zoom(a*p.scale(c));return isNaN(m)?1/0:m},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ke(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(Ee(a),c)},layerPointToLatLng:function(a){var c=Ee(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(ke(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ke(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(it(a))},distance:function(a,c){return this.options.crs.distance(ke(a),ke(c))},containerPointToLayerPoint:function(a){return Ee(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Ee(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(Ee(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ke(a)))},mouseEventToContainerPoint:function(a){return Hs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=ml(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,qe(a,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=qi(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ue(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qe(a.markerPane,"leaflet-zoom-hide"),qe(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Ue(this._mapPane,new le(0,0));var m=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var b=this._zoom!==c;this._moveStart(b,p)._move(a,c)._moveEnd(b),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,m){c===void 0&&(c=this._zoom);var b=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),m?p&&p.pinch&&this.fire("zoom",p):((b||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ue(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var c=a?wt:Me;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],m,b=c==="mouseout"||c==="mouseover",C=a.target||a.srcElement,B=!1;C;){if(m=this._targets[u(C)],m&&(c==="click"||c==="preclick")&&this._draggableMoved(m)){B=!0;break}if(m&&m.listens(c,!0)&&(b&&!Rl(C,a)||(p.push(m),b))||C===this._container)break;C=C.parentNode}return!p.length&&!B&&!b&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&ui(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var m=i({},a);m.type="preclick",this._fireDOMEvent(m,m.type,p)}var b=this._findEventTargets(a,c);if(p){for(var C=[],B=0;B<p.length;B++)p[B].listens(c,!0)&&C.push(p[B]);b=C.concat(b)}if(b.length){c==="contextmenu"&&Nt(a);var W=b[0],G={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var re=W.getLatLng&&(!W._radius||W._radius<=10);G.containerPoint=re?this.latLngToContainerPoint(W.getLatLng()):this.mouseEventToContainerPoint(a),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=re?W.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(B=0;B<b.length;B++)if(b[B].fire(c,G,!0),G.originalEvent._stopped||b[B].options.bubblingMouseEvents===!1&&q(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return sr(this._mapPane)||new le(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var m=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(m)},_latLngBoundsToNewLayerBounds:function(a,c,p){var m=this._getNewPixelOrigin(p,c);return $e([this.project(a.getSouthWest(),c)._subtract(m),this.project(a.getNorthWest(),c)._subtract(m),this.project(a.getSouthEast(),c)._subtract(m),this.project(a.getNorthEast(),c)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var m=this.project(a,c),b=this.getSize().divideBy(2),C=new Fe(m.subtract(b),m.add(b)),B=this._getBoundsOffset(C,p,c);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?a:this.unproject(m.add(B),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),m=new Fe(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(m,c))},_getBoundsOffset:function(a,c,p){var m=$e(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),b=m.min.subtract(a.min),C=m.max.subtract(a.max),B=this._rebound(b.x,-C.x),W=this._rebound(b.y,-C.y);return new le(B,W)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),m=Ce.any3d?this.options.zoomSnap:1;return m&&(a=Math.round(a/m)*m),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=Go,m=this._proxy.style[p];Or(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),m===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Or(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(c),b=this._getCenterOffset(a)._divideBy(1-1/m);return p.animate!==!0&&!this.getSize().contains(b)?!1:($(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,m){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,qe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function js(a,c){return new rt(a,c)}var $n=dt.extend({options:{position:"topright"},initialize:function(a){T(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),m=a._controlCorners[p];return qe(c,"leaflet-control"),p.indexOf("bottom")!==-1?m.insertBefore(c,m.firstChild):m.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Dn=function(a){return new $n(a)};rt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=ot("div",c+"control-container",this._container);function m(b,C){var B=c+b+" "+c+C;a[b+C]=ot("div",B,p)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Tt(this._controlCorners[a]);Tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Il=$n.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,m){return p<m?-1:m<p?1:0}},initialize:function(a,c,p){T(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in a)this._addLayer(a[m],m);for(m in c)this._addLayer(c[m],m,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return $n.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){qe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(qe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=ot("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Yi(c),Ki(c);var m=this._section=ot("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Me(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=ot("a",a+"-toggle",c);b.href="#",b.title="Layers",b.setAttribute("role","button"),Me(b,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Nt(C),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=ot("div",a+"-base",m),this._separator=ot("div",a+"-separator",m),this._overlaysList=ot("div",a+"-overlays",m),c.appendChild(m)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(s(function(m,b){return this.options.sortFunction(m.layer,b.layer,m.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ko(this._baseLayersList),Ko(this._overlaysList),this._layerControlInputs=[];var a,c,p,m,b=0;for(p=0;p<this._layers.length;p++)m=this._layers[p],this._addItem(m),c=c||m.overlay,a=a||!m.overlay,b+=m.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(u(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=p,m.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),m;a.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=p):m=this._createRadioElement("leaflet-base-layers_"+u(this),p),this._layerControlInputs.push(m),m.layerId=u(a.layer),Me(m,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var C=document.createElement("span");c.appendChild(C),C.appendChild(m),C.appendChild(b);var B=a.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,m=[],b=[];this._handlingClick=!0;for(var C=a.length-1;C>=0;C--)c=a[C],p=this._getLayer(c.layerId).layer,c.checked?m.push(p):c.checked||b.push(p);for(C=0;C<b.length;C++)this._map.hasLayer(b[C])&&this._map.removeLayer(b[C]);for(C=0;C<m.length;C++)this._map.hasLayer(m[C])||this._map.addLayer(m[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,m=this._map.getZoom(),b=a.length-1;b>=0;b--)c=a[b],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&m<p.options.minZoom||p.options.maxZoom!==void 0&&m>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Me(a,"click",Nt),this.expand();var c=this;setTimeout(function(){wt(a,"click",Nt),c._preventClick=!1})}}),If=function(a,c,p){return new Il(a,c,p)},di=$n.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=ot("div",c+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,m,b){var C=ot("a",p,m);return C.innerHTML=a,C.href="#",C.title=c,C.setAttribute("role","button"),C.setAttribute("aria-label",c),Yi(C),Me(C,"click",Qn),Me(C,"click",b,this),Me(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Pt(this._zoomInButton,c),Pt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(qe(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(qe(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});rt.mergeOptions({zoomControl:!0}),rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new di,this.addControl(this.zoomControl))});var Pu=function(a){return new di(a)},Ws=$n.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=ot("div",c),m=this.options;return this._addScales(m,c+"-line",p),a.on(m.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=ot("div",c,p)),a.imperial&&(this._iScale=ot("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,m,b;c>5280?(p=c/5280,m=this._getRoundNum(p),this._updateScale(this._iScale,m+" mi",m/p)):(b=this._getRoundNum(c),this._updateScale(this._iScale,b+" ft",b/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),qs=function(a){return new Ws(a)},Du='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qi=$n.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Du+" ":"")+"Leaflet</a>"},initialize:function(a){T(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),Yi(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});rt.mergeOptions({attributionControl:!0}),rt.addInitHook(function(){this.options.attributionControl&&new Qi().addTo(this)});var xf=function(a){return new Qi(a)};$n.Layers=Il,$n.Zoom=di,$n.Scale=Ws,$n.Attribution=Qi,Dn.layers=If,Dn.zoom=Pu,Dn.scale=qs,Dn.attribution=xf;var Xn=dt.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xn.addTo=function(a,c){return a.addHandler(c,this),this};var Yo={Events:Qe},xl=Ce.touch?"touchstart mousedown":"mousedown",Er=Ve.extend({options:{clickTolerance:3},initialize:function(a,c,p,m){T(this,m),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(Me(this._dragStartTarget,xl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Er._dragging===this&&this.finishDrag(!0),wt(this._dragStartTarget,xl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!vl(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Er._dragging===this&&this.finishDrag();return}if(!(Er._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Er._dragging=this,this._preventOutline&&ui(this._element),bl(),br(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=Sl(this._element);this._startPoint=new le(c.clientX,c.clientY),this._startPos=sr(this._element),this._parentScale=zs(p);var m=a.type==="mousedown";Me(document,m?"mousemove":"touchmove",this._onMove,this),Me(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new le(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Nt(a),this._moved||(this.fire("dragstart"),this._moved=!0,qe(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ue(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wt(document,"mousemove touchmove",this._onMove,this),wt(document,"mouseup touchend touchcancel",this._onUp,this),wl(),wr();var c=this._moved&&this._moving;this._moving=!1,Er._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Gs(a,c,p){var m,b=[1,4,2,8],C,B,W,G,re,ye,Oe,Je;for(C=0,ye=a.length;C<ye;C++)a[C]._code=Nr(a[C],c);for(W=0;W<4;W++){for(Oe=b[W],m=[],C=0,ye=a.length,B=ye-1;C<ye;B=C++)G=a[C],re=a[B],G._code&Oe?re._code&Oe||(Je=an(re,G,Oe,c,p),Je._code=Nr(Je,c),m.push(Je)):(re._code&Oe&&(Je=an(re,G,Oe,c,p),Je._code=Nr(Je,c),m.push(Je)),m.push(G));a=m}return a}function Zs(a,c){var p,m,b,C,B,W,G,re,ye;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Oe=ke([0,0]),Je=it(a),Mn=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());Mn<1700&&(Oe=Ks(a));var ln=a.length,dr=[];for(p=0;p<ln;p++){var Un=ke(a[p]);dr.push(c.project(ke([Un.lat-Oe.lat,Un.lng-Oe.lng])))}for(W=G=re=0,p=0,m=ln-1;p<ln;m=p++)b=dr[p],C=dr[m],B=b.y*C.x-C.y*b.x,G+=(b.x+C.x)*B,re+=(b.y+C.y)*B,W+=B*3;W===0?ye=dr[0]:ye=[G/W,re/W];var na=c.unproject(Ee(ye));return ke([na.lat+Oe.lat,na.lng+Oe.lng])}function Ks(a){for(var c=0,p=0,m=0,b=0;b<a.length;b++){var C=ke(a[b]);c+=C.lat,p+=C.lng,m++}return ke([c/m,p/m])}var Ys={__proto__:null,clipPolygon:Gs,polygonCenter:Zs,centroid:Ks};function Pl(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Ou(a,p),a=Mu(a,p),a}function Dl(a,c,p){return Math.sqrt(ur(a,c,p,!0))}function hi(a,c,p){return ur(a,c,p)}function Mu(a,c){var p=a.length,m=typeof Uint8Array<"u"?Uint8Array:Array,b=new m(p);b[0]=b[p-1]=1,Qs(a,b,c,0,p-1);var C,B=[];for(C=0;C<p;C++)b[C]&&B.push(a[C]);return B}function Qs(a,c,p,m,b){var C=0,B,W,G;for(W=m+1;W<=b-1;W++)G=ur(a[W],a[m],a[b],!0),G>C&&(B=W,C=G);C>p&&(c[B]=1,Qs(a,c,p,m,B),Qs(a,c,p,B,b))}function Ou(a,c){for(var p=[a[0]],m=1,b=0,C=a.length;m<C;m++)Nu(a[m],a[b])>c&&(p.push(a[m]),b=m);return b<C-1&&p.push(a[C-1]),p}var Ml;function Qo(a,c,p,m,b){var C=m?Ml:Nr(a,p),B=Nr(c,p),W,G,re;for(Ml=B;;){if(!(C|B))return[a,c];if(C&B)return!1;W=C||B,G=an(a,c,W,p,b),re=Nr(G,p),W===C?(a=G,C=re):(c=G,B=re)}}function an(a,c,p,m,b){var C=c.x-a.x,B=c.y-a.y,W=m.min,G=m.max,re,ye;return p&8?(re=a.x+C*(G.y-a.y)/B,ye=G.y):p&4?(re=a.x+C*(W.y-a.y)/B,ye=W.y):p&2?(re=G.x,ye=a.y+B*(G.x-a.x)/C):p&1&&(re=W.x,ye=a.y+B*(W.x-a.x)/C),new le(re,ye,b)}function Nr(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Nu(a,c){var p=c.x-a.x,m=c.y-a.y;return p*p+m*m}function ur(a,c,p,m){var b=c.x,C=c.y,B=p.x-b,W=p.y-C,G=B*B+W*W,re;return G>0&&(re=((a.x-b)*B+(a.y-C)*W)/G,re>1?(b=p.x,C=p.y):re>0&&(b+=B*re,C+=W*re)),B=a.x-b,W=a.y-C,m?B*B+W*W:new le(b,C)}function d(a){return!U(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function y(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function E(a,c){var p,m,b,C,B,W,G,re;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ye=ke([0,0]),Oe=it(a),Je=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Je<1700&&(ye=Ks(a));var Mn=a.length,ln=[];for(p=0;p<Mn;p++){var dr=ke(a[p]);ln.push(c.project(ke([dr.lat-ye.lat,dr.lng-ye.lng])))}for(p=0,m=0;p<Mn-1;p++)m+=ln[p].distanceTo(ln[p+1])/2;if(m===0)re=ln[0];else for(p=0,C=0;p<Mn-1;p++)if(B=ln[p],W=ln[p+1],b=B.distanceTo(W),C+=b,C>m){G=(C-m)/b,re=[W.x-G*(W.x-B.x),W.y-G*(W.y-B.y)];break}var Un=c.unproject(Ee(re));return ke([Un.lat+ye.lat,Un.lng+ye.lng])}var R={__proto__:null,simplify:Pl,pointToSegmentDistance:Dl,closestPointOnSegment:hi,clipSegment:Qo,_getEdgeIntersection:an,_getBitCode:Nr,_sqClosestPointOnSegment:ur,isFlat:d,_flat:y,polylineCenter:E},j={project:function(a){return new le(a.lng,a.lat)},unproject:function(a){return new Ze(a.y,a.x)},bounds:new Fe([-180,-90],[180,90])},K={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Fe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,m=a.lat*c,b=this.R_MINOR/p,C=Math.sqrt(1-b*b),B=C*Math.sin(m),W=Math.tan(Math.PI/4-m/2)/Math.pow((1-B)/(1+B),C/2);return m=-p*Math.log(Math.max(W,1e-10)),new le(a.lng*c*p,m)},unproject:function(a){for(var c=180/Math.PI,p=this.R,m=this.R_MINOR/p,b=Math.sqrt(1-m*m),C=Math.exp(-a.y/p),B=Math.PI/2-2*Math.atan(C),W=0,G=.1,re;W<15&&Math.abs(G)>1e-7;W++)re=b*Math.sin(B),re=Math.pow((1-re)/(1+re),b/2),G=Math.PI/2-2*Math.atan(C*re)-B,B+=G;return new Ze(B*c,a.x*c/p)}},ue={__proto__:null,LonLat:j,Mercator:K,SphericalMercator:be},bt=i({},fe,{code:"EPSG:3395",projection:K,transformation:function(){var a=.5/(Math.PI*K.R);return x(a,.5,-a,.5)}()}),Kt=i({},fe,{code:"EPSG:4326",projection:j,transformation:x(1/180,1,-1/180,.5)}),ht=i({},Q,{projection:j,transformation:x(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,m=c.lat-a.lat;return Math.sqrt(p*p+m*m)},infinite:!0});Q.Earth=fe,Q.EPSG3395=bt,Q.EPSG3857=N,Q.EPSG900913=H,Q.EPSG4326=Kt,Q.Simple=ht;var Et=Ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});rt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=u(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?U(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=u(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var m in this._zoomBoundLayers){var b=this._zoomBoundLayers[m].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),c=b.maxZoom===void 0?c:Math.max(c,b.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Lt=Et.extend({initialize:function(a,c){T(this,c),this._layers={};var p,m;if(a)for(p=0,m=a.length;p<m;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,m;for(p in this._layers)m=this._layers[p],m[a]&&m[a].apply(m,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),Xi=function(a,c){return new Lt(a,c)},zt=Lt.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Lt.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Lt.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new We;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),Xs=function(a,c){return new zt(a,c)},Lr=dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){T(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(m,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(a,c){var p=this.options,m=p[c+"Size"];typeof m=="number"&&(m=[m,m]);var b=Ee(m),C=Ee(c==="shadow"&&p.shadowAnchor||p.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),C&&(a.style.marginLeft=-C.x+"px",a.style.marginTop=-C.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ce.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function YR(a){return new Lr(a)}var Ol=Lr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ol.imagePath!="string"&&(Ol.imagePath=this._detectIconPath()),(this.options.imagePath||Ol.imagePath)+Lr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,m,b){var C=m.exec(p);return C&&C[b]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ot("div","leaflet-default-icon-path",document.body),c=qi(a,"background-image")||qi(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Wv=Xn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Er(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qe(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,m=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,C=sr(c._icon),B=p.getPixelBounds(),W=p.getPixelOrigin(),G=$e(B.min._subtract(W).add(b),B.max._subtract(W).subtract(b));if(!G.contains(C)){var re=Ee((Math.max(G.max.x,C.x)-G.max.x)/(B.max.x-G.max.x)-(Math.min(G.min.x,C.x)-G.min.x)/(B.min.x-G.min.x),(Math.max(G.max.y,C.y)-G.max.y)/(B.max.y-G.max.y)-(Math.min(G.min.y,C.y)-G.min.y)/(B.min.y-G.min.y)).multiplyBy(m);p.panBy(re,{animate:!1}),this._draggable._newPos._add(re),this._draggable._startPos._add(re),Ue(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=$(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,m=sr(c._icon),b=c._map.layerPointToLatLng(m);p&&Ue(p,m),c._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Lu=Et.extend({options:{icon:new Ol,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){T(this,c),this._latlng=ke(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=ke(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),m=!1;p!==this._icon&&(this._icon&&this._removeIcon(),m=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),qe(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(p,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),C=!1;b!==this._shadow&&(this._removeShadow(),C=!0),b&&(qe(b,c),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&C&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(this._icon,"focus",this._panOnFocus,this),Tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Tt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ue(this._icon,a),this._shadow&&Ue(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(qe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wv)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wv(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&$t(this._icon,a),this._shadow&&$t(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?Ee(c.iconSize):Ee(0,0),m=c.iconAnchor?Ee(c.iconAnchor):Ee(0,0);a.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:p.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function QR(a,c){return new Lu(a,c)}var Ji=Et.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return T(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bu=Ji.extend({options:{fill:!0,radius:10},initialize:function(a,c){T(this,c),this._latlng=ke(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=ke(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Ji.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),m=[a+p,c+p];this._pxBounds=new Fe(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function XR(a,c){return new Bu(a,c)}var Pf=Bu.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=i({},p,{radius:c})),T(this,c),this._latlng=ke(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new We(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ji.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,m=p.options.crs;if(m.distance===fe.distance){var b=Math.PI/180,C=this._mRadius/fe.R/b,B=p.project([c+C,a]),W=p.project([c-C,a]),G=B.add(W).divideBy(2),re=p.unproject(G).lat,ye=Math.acos((Math.cos(C*b)-Math.sin(c*b)*Math.sin(re*b))/(Math.cos(c*b)*Math.cos(re*b)))/b;(isNaN(ye)||ye===0)&&(ye=C/Math.cos(Math.PI/180*c)),this._point=G.subtract(p.getPixelOrigin()),this._radius=isNaN(ye)?0:G.x-p.project([re,a-ye]).x,this._radiusY=G.y-B.y}else{var Oe=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Oe).x}this._updateBounds()}});function JR(a,c,p){return new Pf(a,c,p)}var fi=Ji.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){T(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,m=ur,b,C,B=0,W=this._parts.length;B<W;B++)for(var G=this._parts[B],re=1,ye=G.length;re<ye;re++){b=G[re-1],C=G[re];var Oe=m(a,b,C,!0);Oe<c&&(c=Oe,p=m(a,b,C))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return E(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=ke(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new We,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=d(a),m=0,b=a.length;m<b;m++)p?(c[m]=ke(a[m]),this._bounds.extend(c[m])):c[m]=this._convertLatLngs(a[m]);return c},_project:function(){var a=new Fe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new le(a,a);this._rawPxBounds&&(this._pxBounds=new Fe([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var m=a[0]instanceof Ze,b=a.length,C,B;if(m){for(B=[],C=0;C<b;C++)B[C]=this._map.latLngToLayerPoint(a[C]),p.extend(B[C]);c.push(B)}else for(C=0;C<b;C++)this._projectLatlngs(a[C],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,m,b,C,B,W,G;for(p=0,b=0,C=this._rings.length;p<C;p++)for(G=this._rings[p],m=0,B=G.length;m<B-1;m++)W=Qo(G[m],G[m+1],a,m,!0),W&&(c[b]=c[b]||[],c[b].push(W[0]),(W[1]!==G[m+1]||m===B-2)&&(c[b].push(W[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,m=a.length;p<m;p++)a[p]=Pl(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,m,b,C,B,W,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,C=this._parts.length;p<C;p++)for(W=this._parts[p],m=0,B=W.length,b=B-1;m<B;b=m++)if(!(!c&&m===0)&&Dl(a,W[b],W[m])<=G)return!0;return!1}});function ek(a,c){return new fi(a,c)}fi._flat=y;var Js=fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=fi.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Ze&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){fi.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new le(c,c);if(a=new Fe(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,b=this._rings.length,C;m<b;m++)C=Gs(this._rings[m],a,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,m,b,C,B,W,G,re;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(C=0,G=this._parts.length;C<G;C++)for(p=this._parts[C],B=0,re=p.length,W=re-1;B<re;W=B++)m=p[B],b=p[W],m.y>a.y!=b.y>a.y&&a.x<(b.x-m.x)*(a.y-m.y)/(b.y-m.y)+m.x&&(c=!c);return c||fi.prototype._containsPoint.call(this,a,!0)}});function tk(a,c){return new Js(a,c)}var pi=zt.extend({initialize:function(a,c){T(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=U(a)?a:a.features,p,m,b;if(c){for(p=0,m=c.length;p<m;p++)b=c[p],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var C=this.options;if(C.filter&&!C.filter(a))return this;var B=Vu(a,C);return B?(B.feature=Uu(a),B.defaultOptions=B.options,this.resetStyle(B),C.onEachFeature&&C.onEachFeature(a,B),this.addLayer(B)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function Vu(a,c){var p=a.type==="Feature"?a.geometry:a,m=p?p.coordinates:null,b=[],C=c&&c.pointToLayer,B=c&&c.coordsToLatLng||Df,W,G,re,ye;if(!m&&!p)return null;switch(p.type){case"Point":return W=B(m),qv(C,a,W,c);case"MultiPoint":for(re=0,ye=m.length;re<ye;re++)W=B(m[re]),b.push(qv(C,a,W,c));return new zt(b);case"LineString":case"MultiLineString":return G=Fu(m,p.type==="LineString"?0:1,B),new fi(G,c);case"Polygon":case"MultiPolygon":return G=Fu(m,p.type==="Polygon"?1:2,B),new Js(G,c);case"GeometryCollection":for(re=0,ye=p.geometries.length;re<ye;re++){var Oe=Vu({geometry:p.geometries[re],type:"Feature",properties:a.properties},c);Oe&&b.push(Oe)}return new zt(b);case"FeatureCollection":for(re=0,ye=p.features.length;re<ye;re++){var Je=Vu(p.features[re],c);Je&&b.push(Je)}return new zt(b);default:throw new Error("Invalid GeoJSON object.")}}function qv(a,c,p,m){return a?a(c,p):new Lu(p,m&&m.markersInheritOptions&&m)}function Df(a){return new Ze(a[1],a[0],a[2])}function Fu(a,c,p){for(var m=[],b=0,C=a.length,B;b<C;b++)B=c?Fu(a[b],c-1,p):(p||Df)(a[b]),m.push(B);return m}function Mf(a,c){return a=ke(a),a.alt!==void 0?[v(a.lng,c),v(a.lat,c),v(a.alt,c)]:[v(a.lng,c),v(a.lat,c)]}function $u(a,c,p,m){for(var b=[],C=0,B=a.length;C<B;C++)b.push(c?$u(a[C],d(a[C])?0:c-1,p,m):Mf(a[C],m));return!c&&p&&b.length>0&&b.push(b[0].slice()),b}function ea(a,c){return a.feature?i({},a.feature,{geometry:c}):Uu(c)}function Uu(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Of={toGeoJSON:function(a){return ea(this,{type:"Point",coordinates:Mf(this.getLatLng(),a)})}};Lu.include(Of),Pf.include(Of),Bu.include(Of),fi.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=$u(this._latlngs,c?1:0,!1,a);return ea(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Js.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),m=$u(this._latlngs,p?2:c?1:0,!0,a);return c||(m=[m]),ea(this,{type:(p?"Multi":"")+"Polygon",coordinates:m})}}),Lt.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),ea(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",m=[];return this.eachLayer(function(b){if(b.toGeoJSON){var C=b.toGeoJSON(a);if(p)m.push(C.geometry);else{var B=Uu(C);B.type==="FeatureCollection"?m.push.apply(m,B.features):m.push(B)}}}),p?ea(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Gv(a,c){return new pi(a,c)}var nk=Gv,zu=Et.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=it(c),T(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&li(this._image),this},bringToBack:function(){return this._map&&Gi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=it(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:ot("img");if(qe(c,"leaflet-image-layer"),this._zoomAnimated&&qe(c,"leaflet-zoom-animated"),this.options.className&&qe(c,this.options.className),c.onselectstart=g,c.onmousemove=g,c.onload=s(this.fire,this,"load"),c.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Or(this._image,p,c)},_reset:function(){var a=this._image,c=new Fe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ue(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){$t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),rk=function(a,c,p){return new zu(a,c,p)},Zv=zu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:ot("video");if(qe(c,"leaflet-image-layer"),this._zoomAnimated&&qe(c,"leaflet-zoom-animated"),this.options.className&&qe(c,this.options.className),c.onselectstart=g,c.onmousemove=g,c.onloadeddata=s(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),m=[],b=0;b<p.length;b++)m.push(p[b].src);this._url=p.length>0?m:[c.src];return}U(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var B=ot("source");B.src=this._url[C],c.appendChild(B)}}});function ik(a,c,p){return new Zv(a,c,p)}var Kv=zu.extend({_initImage:function(){var a=this._image=this._url;qe(a,"leaflet-image-layer"),this._zoomAnimated&&qe(a,"leaflet-zoom-animated"),this.options.className&&qe(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function ok(a,c,p){return new Kv(a,c,p)}var Br=Et.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Ze||U(a))?(this._latlng=ke(a),T(this,c)):(T(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&$t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&$t(this._container,1),this.bringToFront(),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?($t(this._container,0),this._removeTimeout=setTimeout(s(Tt,void 0,this._container),200)):Tt(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ke(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&li(this._container),this},bringToBack:function(){return this._map&&Gi(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof zt){c=null;var p=this._source._layers;for(var m in p)if(p[m]._map){c=p[m];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=Ee(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ue(this._container,a.add(p)):c=c.add(a).add(p);var m=this._containerBottom=-c.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=m+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});rt.include({_initOverlay:function(a,c,p,m){var b=c;return b instanceof a||(b=new a(m).setContent(c)),p&&b.setLatLng(p),b}}),Et.include({_initOverlay:function(a,c,p,m){var b=p;return b instanceof a?(T(b,m),b._source=this):(b=c&&!m?c:new a(m,this),b.setContent(p)),b}});var Hu=Br.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Br.prototype.openOn.call(this,a)},onAdd:function(a){Br.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ji||this._source.on("preclick",cr))},onRemove:function(a){Br.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ji||this._source.off("preclick",cr))},getEvents:function(){var a=Br.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=ot("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=ot("div",a+"-content-wrapper",c);if(this._contentNode=ot("div",a+"-content",p),Yi(c),Ki(this._contentNode),Me(c,"contextmenu",cr),this._tipContainer=ot("div",a+"-tip-container",c),this._tip=ot("div",a+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=ot("a",a+"-close-button",c);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Me(m,"click",function(b){Nt(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var m=a.offsetHeight,b=this.options.maxHeight,C="leaflet-popup-scrolled";b&&m>b?(c.height=b+"px",qe(a,C)):Pt(a,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ue(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(qi(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,m=this._containerWidth,b=new le(this._containerLeft,-p-this._containerBottom);b._add(sr(this._container));var C=a.layerPointToContainerPoint(b),B=Ee(this.options.autoPanPadding),W=Ee(this.options.autoPanPaddingTopLeft||B),G=Ee(this.options.autoPanPaddingBottomRight||B),re=a.getSize(),ye=0,Oe=0;C.x+m+G.x>re.x&&(ye=C.x+m-re.x+G.x),C.x-ye-W.x<0&&(ye=C.x-W.x),C.y+p+G.y>re.y&&(Oe=C.y+p-re.y+G.y),C.y-Oe-W.y<0&&(Oe=C.y-W.y),(ye||Oe)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ye,Oe]))}},_getAnchor:function(){return Ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sk=function(a,c){return new Hu(a,c)};rt.mergeOptions({closePopupOnClick:!0}),rt.include({openPopup:function(a,c,p){return this._initOverlay(Hu,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Et.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Hu,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof zt||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Qn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Ji)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ju=Br.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Br.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Br.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Br.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,m=this._map,b=this._container,C=m.latLngToContainerPoint(m.getCenter()),B=m.layerPointToContainerPoint(a),W=this.options.direction,G=b.offsetWidth,re=b.offsetHeight,ye=Ee(this.options.offset),Oe=this._getAnchor();W==="top"?(c=G/2,p=re):W==="bottom"?(c=G/2,p=0):W==="center"?(c=G/2,p=re/2):W==="right"?(c=0,p=re/2):W==="left"?(c=G,p=re/2):B.x<C.x?(W="right",c=0,p=re/2):(W="left",c=G+(ye.x+Oe.x)*2,p=re/2),a=a.subtract(Ee(c,p,!0)).add(ye).add(Oe),Pt(b,"leaflet-tooltip-right"),Pt(b,"leaflet-tooltip-left"),Pt(b,"leaflet-tooltip-top"),Pt(b,"leaflet-tooltip-bottom"),qe(b,"leaflet-tooltip-"+W),Ue(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&$t(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return Ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ak=function(a,c){return new ju(a,c)};rt.include({openTooltip:function(a,c,p){return this._initOverlay(ju,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Et.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ju,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof zt||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Me(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Me(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,m;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),m=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(c)}});var Yv=Lr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ko(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var m=Ee(p.bgPos);c.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function lk(a){return new Yv(a)}Lr.Default=Ol;var Nl=Et.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){T(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Tt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof le?a:new le(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),m=0,b=c.length,C;m<b;m++)C=c[m].style.zIndex,c[m]!==this._container&&C&&(p=a(p,+C));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){$t(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var m in this._tiles){var b=this._tiles[m];if(!(!b.current||!b.loaded)){var C=Math.min(1,(a-b.loaded)/200);$t(b.el,C),C<1?c=!0:(b.active?p=!0:this._onOpaqueTile(b),b.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(z(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(Tt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var m=this._levels[a],b=this._map;return m||(m=this._levels[a]={},m.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=c,m.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),m.zoom=a,this._setZoomTransform(m,b.getCenter(),b.getZoom()),g(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var m=c.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Tt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,m){var b=Math.floor(a/2),C=Math.floor(c/2),B=p-1,W=new le(+b,+C);W.z=+B;var G=this._tileCoordsToKey(W),re=this._tiles[G];return re&&re.active?(re.retain=!0,!0):(re&&re.loaded&&(re.retain=!0),B>m?this._retainParent(b,C,B,m):!1)},_retainChildren:function(a,c,p,m){for(var b=2*a;b<2*a+2;b++)for(var C=2*c;C<2*c+2;C++){var B=new le(b,C);B.z=p+1;var W=this._tileCoordsToKey(B),G=this._tiles[W];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);p+1<m&&this._retainChildren(b,C,p+1,m)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,m){var b=Math.round(c);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var C=this.options.updateWhenZooming&&b!==this._tileZoom;(!m||C)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var m=this._map.getZoomScale(p,a.zoom),b=a.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(c,p)).round();Ce.any3d?Or(a.el,b,m):Ue(a.el,b)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),m=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],m).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],m).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],m).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],m).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),m=c.getZoomScale(p,this._tileZoom),b=c.project(a,this._tileZoom).floor(),C=c.getSize().divideBy(m*2);return new Fe(b.subtract(C),b.add(C))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(m),C=b.getCenter(),B=[],W=this.options.keepBuffer,G=new Fe(b.getBottomLeft().subtract([W,-W]),b.getTopRight().add([W,-W]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var re in this._tiles){var ye=this._tiles[re].coords;(ye.z!==this._tileZoom||!G.contains(new le(ye.x,ye.y)))&&(this._tiles[re].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Oe=b.min.y;Oe<=b.max.y;Oe++)for(var Je=b.min.x;Je<=b.max.x;Je++){var Mn=new le(Je,Oe);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var ln=this._tiles[this._tileCoordsToKey(Mn)];ln?ln.current=!0:B.push(Mn)}}if(B.sort(function(Un,na){return Un.distanceTo(C)-na.distanceTo(C)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var dr=document.createDocumentFragment();for(Je=0;Je<B.length;Je++)this._addTile(B[Je],dr);this._level.el.appendChild(dr)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(a);return it(this.options.bounds).overlaps(m)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),m=a.scaleBy(p),b=m.add(p),C=c.unproject(m,a.z),B=c.unproject(b,a.z);return[C,B]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new We(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new le(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(Tt(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){qe(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=g,a.onmousemove=g,Ce.ielt9&&this.options.opacity<1&&$t(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),m=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),s(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&$(s(this._tileReady,this,a,null,b)),Ue(b,p),this._tiles[m]={el:b,coords:a,current:!0},c.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var m=this._tileCoordsToKey(a);p=this._tiles[m],p&&(p.loaded=+new Date,this._map._fadeAnimated?($t(p.el,0),z(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(qe(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new le(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new Fe(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ck(a){return new Nl(a)}var ta=Nl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=T(this,c),c.detectRetina&&Ce.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return Me(p,"load",s(this._tileOnLoad,this,c,p)),Me(p,"error",s(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Ce.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return M(this._url,i(c,this.options))},_tileOnLoad:function(a,c){Ce.ielt9?setTimeout(s(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var m=this.options.errorTileUrl;m&&c.getAttribute("src")!==m&&(c.src=m),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,m=this.options.zoomOffset;return p&&(a=c-a),a+m},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=g,c.onerror=g,!c.complete)){c.src=oe;var p=this._tiles[a].coords;Tt(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",oe),Nl.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===oe))return Nl.prototype._tileReady.call(this,a,c,p)}});function Qv(a,c){return new ta(a,c)}var Xv=ta.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=i({},this.defaultWmsParams);for(var m in c)m in this.options||(p[m]=c[m]);c=T(this,c);var b=c.detectRetina&&Ce.retina?2:1,C=this.getTileSize();p.width=C.x*b,p.height=C.y*b,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,ta.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,m=$e(p.project(c[0]),p.project(c[1])),b=m.min,C=m.max,B=(this._wmsVersion>=1.3&&this._crs===Kt?[b.y,b.x,C.y,C.x]:[b.x,b.y,C.x,C.y]).join(","),W=ta.prototype.getTileUrl.call(this,a);return W+A(this.wmsParams,W,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(a,c){return i(this.wmsParams,a),c||this.redraw(),this}});function uk(a,c){return new Xv(a,c)}ta.WMS=Xv,Qv.wms=uk;var gi=Et.extend({options:{padding:.1},initialize:function(a){T(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,c),C=m.multiplyBy(-p).add(b).subtract(this._map._getNewPixelOrigin(a,c));Ce.any3d?Or(this._container,C,p):Ue(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new Fe(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jv=gi.extend({options:{tolerance:0},getEvents:function(){var a=gi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Me(a,"mousemove",this._onMouseMove,this),Me(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,Tt(this._container),wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gi.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),m=Ce.retina?2:1;Ue(c,a.min),c.width=m*p.x,c.height=m*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){gi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,m=c.prev;p?p.prev=m:this._drawLast=m,m?m.next=p:this._drawFirst=p,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],m,b;for(b=0;b<c.length;b++){if(m=Number(c[b]),isNaN(m))return;p.push(m)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Fe,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)a=m.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,m,b,C,B=a._parts,W=B.length,G=this._ctx;if(W){for(G.beginPath(),p=0;p<W;p++){for(m=0,b=B[p].length;m<b;m++)C=B[p][m],G[m?"lineTo":"moveTo"](C.x,C.y);c&&G.closePath()}this._fillStroke(G,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,m=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||m)/m;b!==1&&(p.save(),p.scale(1,b)),p.beginPath(),p.arc(c.x,c.y/b,m,0,Math.PI*2,!1),b!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,m,b=this._drawFirst;b;b=b.next)p=b.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(m=p);this._fireEvent(m?[m]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,m,b=this._drawFirst;b;b=b.next)p=b.layer,p.options.interactive&&p._containsPoint(c)&&(m=p);m!==this._hoveredLayer&&(this._handleMouseOut(a),m&&(qe(this._container,"leaflet-interactive"),this._fireEvent([m],a,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,m=c.prev;if(p)p.prev=m;else return;m?m.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,m=c.prev;if(m)m.next=p;else return;p?p.prev=m:m&&(this._drawLast=m),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function e_(a){return Ce.canvas?new Jv(a):null}var Ll=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dk={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=Ll("shape");qe(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=Ll("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Tt(c),a.removeInteractiveTarget(c),delete this._layers[u(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,m=a.options,b=a._container;b.stroked=!!m.stroke,b.filled=!!m.fill,m.stroke?(c||(c=a._stroke=Ll("stroke")),b.appendChild(c),c.weight=m.weight+"px",c.color=m.color,c.opacity=m.opacity,m.dashArray?c.dashStyle=U(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=m.lineCap.replace("butt","flat"),c.joinstyle=m.lineJoin):c&&(b.removeChild(c),a._stroke=null),m.fill?(p||(p=a._fill=Ll("fill")),b.appendChild(p),p.color=m.fillColor||m.color,p.opacity=m.fillOpacity):p&&(b.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),m=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+m+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){li(a._container)},_bringToBack:function(a){Gi(a._container)}},Wu=Ce.vml?Ll:X,Bl=gi.extend({_initContainer:function(){this._container=Wu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Tt(this._container),wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gi.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ue(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Wu("path");a.options.className&&qe(c,a.options.className),a.options.interactive&&qe(c,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Tt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,te(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),m=Math.max(Math.round(a._radiusY),1)||p,b="a"+p+","+m+" 0 1,0 ",C=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+b+p*2+",0 "+b+-p*2+",0 ";this._setPath(a,C)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){li(a._path)},_bringToBack:function(a){Gi(a._path)}});Ce.vml&&Bl.include(dk);function t_(a){return Ce.svg||Ce.vml?new Bl(a):null}rt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&e_(a)||t_(a)}});var n_=Js.extend({initialize:function(a,c){Js.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=it(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function hk(a,c){return new n_(a,c)}Bl.create=Wu,Bl.pointsToPath=te,pi.geometryToLayer=Vu,pi.coordsToLatLng=Df,pi.coordsToLatLngs=Fu,pi.latLngToCoords=Mf,pi.latLngsToCoords=$u,pi.getFeature=ea,pi.asFeature=Uu,rt.mergeOptions({boxZoom:!0});var r_=Xn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),br(),bl(),this._startPoint=this._map.mouseEventToContainerPoint(a),Me(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),qe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new Fe(this._point,this._startPoint),p=c.getSize();Ue(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Tt(this._box),Pt(this._container,"leaflet-crosshair")),wr(),wl(),wt(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var c=new We(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rt.addInitHook("addHandler","boxZoom",r_),rt.mergeOptions({doubleClickZoom:!0});var i_=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),m=c.options.zoomDelta,b=a.originalEvent.shiftKey?p-m:p+m;c.options.doubleClickZoom==="center"?c.setZoom(b):c.setZoomAround(a.containerPoint,b)}});rt.addInitHook("addHandler","doubleClickZoom",i_),rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var o_=Xn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Er(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}qe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=it(this._map.options.maxBounds);this._offsetLimit=$e(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,m=this._draggable._newPos.x,b=(m-c+p)%a+c-p,C=(m+c+p)%a-c-p,B=Math.abs(b+p)<Math.abs(C+p)?b:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(a){var c=this._map,p=c.options,m=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),m)c.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,B=p.easeLinearity,W=b.multiplyBy(B/C),G=W.distanceTo([0,0]),re=Math.min(p.inertiaMaxSpeed,G),ye=W.multiplyBy(re/G),Oe=re/(p.inertiaDeceleration*B),Je=ye.multiplyBy(-Oe/2).round();!Je.x&&!Je.y?c.fire("moveend"):(Je=c._limitOffset(Je,c.options.maxBounds),$(function(){c.panBy(Je,{duration:Oe,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});rt.addInitHook("addHandler","dragging",o_),rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var s_=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Me(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,m=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(m,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,m,b;for(m=0,b=p.left.length;m<b;m++)c[p.left[m]]=[-1*a,0];for(m=0,b=p.right.length;m<b;m++)c[p.right[m]]=[a,0];for(m=0,b=p.down.length;m<b;m++)c[p.down[m]]=[0,a];for(m=0,b=p.up.length;m<b;m++)c[p.up[m]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,m,b;for(m=0,b=p.zoomIn.length;m<b;m++)c[p.zoomIn[m]]=a;for(m=0,b=p.zoomOut.length;m<b;m++)c[p.zoomOut[m]]=-a},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,m;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(m=this._panKeys[c],a.shiftKey&&(m=Ee(m).multiplyBy(3)),p.options.maxBounds&&(m=p._limitOffset(Ee(m),p.options.maxBounds)),p.options.worldCopyJump){var b=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(m)));p.panTo(b)}else p.panBy(m)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Qn(a)}}});rt.addInitHook("addHandler","keyboard",s_),rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var a_=Xn.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Iu(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var m=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),m),Qn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,C=p?Math.ceil(b/p)*p:b,B=a._limitZoom(c+(this._delta>0?C:-C))-c;this._delta=0,this._startTime=null,B&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+B):a.setZoomAround(this._lastMousePos,c+B))}});rt.addInitHook("addHandler","scrollWheelZoom",a_);var fk=600;rt.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var l_=Xn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new le(c.clientX,c.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",Nt),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),fk),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){wt(document,"touchend",Nt),wt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new le(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});rt.addInitHook("addHandler","tapHold",l_),rt.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var c_=Xn.extend({addHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),m=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(m)._divideBy(2))),this._startDist=p.distanceTo(m),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),Nt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),m=c.mouseEventToContainerPoint(a.touches[1]),b=p.distanceTo(m)/this._startDist;if(this._zoom=c.getScaleZoom(b,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&b<1||this._zoom>c.getMaxZoom()&&b>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var C=p._add(m)._divideBy(2)._subtract(this._centerPoint);if(b===1&&C.x===0&&C.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var B=s(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(B,this,!0),Nt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});rt.addInitHook("addHandler","touchZoom",c_),rt.BoxZoom=r_,rt.DoubleClickZoom=i_,rt.Drag=o_,rt.Keyboard=s_,rt.ScrollWheelZoom=a_,rt.TapHold=l_,rt.TouchZoom=c_,n.Bounds=Fe,n.Browser=Ce,n.CRS=Q,n.Canvas=Jv,n.Circle=Pf,n.CircleMarker=Bu,n.Class=dt,n.Control=$n,n.DivIcon=Yv,n.DivOverlay=Br,n.DomEvent=xu,n.DomUtil=Ru,n.Draggable=Er,n.Evented=Ve,n.FeatureGroup=zt,n.GeoJSON=pi,n.GridLayer=Nl,n.Handler=Xn,n.Icon=Lr,n.ImageOverlay=zu,n.LatLng=Ze,n.LatLngBounds=We,n.Layer=Et,n.LayerGroup=Lt,n.LineUtil=R,n.Map=rt,n.Marker=Lu,n.Mixin=Yo,n.Path=Ji,n.Point=le,n.PolyUtil=Ys,n.Polygon=Js,n.Polyline=fi,n.Popup=Hu,n.PosAnimation=kl,n.Projection=ue,n.Rectangle=n_,n.Renderer=gi,n.SVG=Bl,n.SVGOverlay=Kv,n.TileLayer=ta,n.Tooltip=ju,n.Transformation=Xe,n.Util=O,n.VideoOverlay=Zv,n.bind=s,n.bounds=$e,n.canvas=e_,n.circle=JR,n.circleMarker=XR,n.control=Dn,n.divIcon=lk,n.extend=i,n.featureGroup=Xs,n.geoJSON=Gv,n.geoJson=nk,n.gridLayer=ck,n.icon=YR,n.imageOverlay=rk,n.latLng=ke,n.latLngBounds=it,n.layerGroup=Xi,n.map=js,n.marker=QR,n.point=Ee,n.polygon=tk,n.polyline=ek,n.popup=sk,n.rectangle=hk,n.setOptions=T,n.stamp=u,n.svg=t_,n.svgOverlay=ok,n.tileLayer=Qv,n.tooltip=ak,n.transformation=x,n.version=r,n.videoOverlay=ik;var pk=window.L;n.noConflict=function(){return window.L=pk,this},window.L=n})}(Yl,Yl.exports)),Yl.exports}var P6=x6();const es=k6(P6),D6={class:"map-container",role:"region","aria-labelledby":"map-heading"},M6={class:"map-header"},O6={class:"map-controls"},N6={class:"search-container"},L6=["disabled"],B6={class:"navigation-container"},V6=["disabled"],F6={key:0,class:"search-results",role:"region","aria-labelledby":"search-results-heading"},$6={role:"list"},U6=["onClick","aria-describedby"],z6={id:"`result-${index}-details`"},H6={class:"coordinates","aria-label":"Coordinates"},j6={key:1,class:"route-info",role:"region","aria-labelledby":"route-info-heading","aria-live":"polite"},W6={__name:"MapComponent",setup(t){const e=et(""),n=et(""),r=et([]),i=et(null),o=et(null),s=et(null),l=et([]),u=et(null),h=et(null),f=P=>{const{key:M}=P;(M==="Enter"||M===" ")&&bn.announceToScreenReader("Map is interactive. Use search and navigation controls above to interact with the map.")},g=()=>{o.value=es.map("map").setView([-37.8136,144.9631],13),es.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(o.value),v()},v=()=>{navigator.geolocation?(bn.announceToScreenReader("Getting your current location..."),navigator.geolocation.getCurrentPosition(P=>{h.value={lat:P.coords.latitude,lng:P.coords.longitude},o.value.setView([h.value.lat,h.value.lng],15),s.value&&o.value.removeLayer(s.value),s.value=es.marker([h.value.lat,h.value.lng]).addTo(o.value).bindPopup("📍 Your Current Location").openPopup(),bn.announceToScreenReader("Your location has been found and marked on the map")},P=>{console.error("Geolocation error:",P),bn.announceToScreenReader("Unable to get your location. Please enable location services.","assertive")})):bn.announceToScreenReader("Geolocation is not supported by this browser.","assertive")},_=async()=>{if(e.value.trim()){bn.announceToScreenReader(`Searching for ${e.value}...`);try{const M=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e.value)}&limit=5`)).json();if(r.value=M.map(U=>({...U,lat:parseFloat(U.lat),lon:parseFloat(U.lon)})),A(),r.value.forEach((U,q)=>{const oe=es.marker([U.lat,U.lon]).addTo(o.value).bindPopup(`
          <div>
            <h4>${U.display_name.split(",")[0]}</h4>
            <p>${U.display_name}</p>
            <p>Coordinates: ${U.lat.toFixed(4)}, ${U.lon.toFixed(4)}</p>
          </div>
        `);l.value.push(oe)}),r.value.length>0){const U=r.value[0];o.value.setView([U.lat,U.lon],15),bn.announceToScreenReader(`Found ${r.value.length} results for ${e.value}. Results are displayed below the map.`)}else bn.announceToScreenReader(`No results found for ${e.value}. Please try a different search term.`,"assertive")}catch(P){console.error("Search error:",P),bn.announceToScreenReader("Search failed. Please check your internet connection and try again.","assertive")}}},S=P=>{o.value.setView([P.lat,P.lon],17);const M=l.value.find(U=>U.getLatLng().lat===P.lat&&U.getLatLng().lng===P.lon);M&&M.openPopup(),bn.announceToScreenReader(`Selected ${P.display_name.split(",")[0]}. Map view updated to show this location.`)},T=async()=>{if(!n.value.trim()||!h.value){bn.announceToScreenReader("Please enter a destination and ensure location access is enabled","assertive");return}bn.announceToScreenReader(`Getting directions to ${n.value}...`);try{const M=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n.value)}&limit=1`)).json();if(M.length===0){bn.announceToScreenReader("Destination not found. Please try a different location.","assertive");return}const U={lat:parseFloat(M[0].lat),lng:parseFloat(M[0].lon)},oe=await(await fetch(`https://router.project-osrm.org/route/v1/driving/${h.value.lng},${h.value.lat};${U.lng},${U.lat}?overview=full&geometries=geojson`)).json();if(oe.routes&&oe.routes.length>0){const se=oe.routes[0];u.value&&o.value.removeLayer(u.value),u.value=es.geoJSON(se.geometry,{style:{color:"#6366f1",weight:5,opacity:.8}}).addTo(o.value),es.marker([U.lat,U.lng]).addTo(o.value).bindPopup(`🎯 Destination: ${M[0].display_name}`),i.value={distance:`${(se.distance/1e3).toFixed(2)} km`,duration:`${Math.round(se.duration/60)} minutes`};const D=es.latLngBounds([[h.value.lat,h.value.lng],[U.lat,U.lng]]);o.value.fitBounds(D,{padding:[20,20]}),bn.announceToScreenReader(`Route found. Distance: ${i.value.distance}, Duration: ${i.value.duration}. Route information is displayed below the map.`)}}catch(P){console.error("Directions error:",P),bn.announceToScreenReader("Failed to get directions. Please check your internet connection and try again.","assertive")}},A=()=>{l.value.forEach(P=>{o.value.removeLayer(P)}),l.value=[]};return Cs(()=>{g()}),im(()=>{o.value&&o.value.remove()}),(P,M)=>(ge(),me("section",D6,[w("header",M6,[M[8]||(M[8]=w("h3",{id:"map-heading"},"🗺️ Location Services",-1)),w("div",O6,[w("div",N6,[M[3]||(M[3]=w("label",{for:"search-input",class:"sr-only"},"Search for places",-1)),Ne(w("input",{id:"search-input","onUpdate:modelValue":M[0]||(M[0]=U=>e.value=U),onKeyup:Zd(_,["enter"]),placeholder:"Search places...",class:"search-input","aria-describedby":"search-help",autocomplete:"off"},null,544),[[tt,e.value]]),M[4]||(M[4]=w("div",{id:"search-help",class:"sr-only"}," Enter a place name and press Enter or click the search button to find locations ",-1)),w("button",{onClick:_,class:"search-btn","aria-label":"Search for places",disabled:!e.value.trim()},M[2]||(M[2]=[w("span",{"aria-hidden":"true"},"🔍",-1),w("span",{class:"sr-only"},"Search",-1)]),8,L6)]),w("div",B6,[M[6]||(M[6]=w("label",{for:"destination-input",class:"sr-only"},"Enter destination for navigation",-1)),Ne(w("input",{id:"destination-input","onUpdate:modelValue":M[1]||(M[1]=U=>n.value=U),onKeyup:Zd(T,["enter"]),placeholder:"Navigate to...",class:"nav-input","aria-describedby":"nav-help",autocomplete:"off"},null,544),[[tt,n.value]]),M[7]||(M[7]=w("div",{id:"nav-help",class:"sr-only"}," Enter a destination and press Enter or click the navigation button to get directions ",-1)),w("button",{onClick:T,class:"nav-btn","aria-label":"Get navigation directions",disabled:!n.value.trim()||!h.value},M[5]||(M[5]=[w("span",{"aria-hidden":"true"},"🧭",-1),w("span",{class:"sr-only"},"Navigate",-1)]),8,V6)])])]),w("div",{id:"map",class:"map-display",role:"application","aria-label":"Interactive map showing search results and navigation routes",tabindex:"0",onKeydown:f},null,32),r.value.length>0?(ge(),me("div",F6,[M[9]||(M[9]=w("h4",{id:"search-results-heading"},"Search Results:",-1)),w("ul",$6,[(ge(!0),me(Xt,null,Ni(r.value,(U,q)=>(ge(),me("li",{key:q,role:"listitem"},[w("button",{onClick:oe=>S(U),class:"result-item","aria-describedby":`result-${q}-details`},[w("strong",null,ve(U.display_name.split(",")[0]),1),w("p",z6,ve(U.display_name),1),w("span",H6," 📍 "+ve(U.lat.toFixed(4))+", "+ve(U.lon.toFixed(4)),1)],8,U6)]))),128))])])):pt("",!0),i.value?(ge(),me("div",j6,[M[12]||(M[12]=w("h4",{id:"route-info-heading"},"🧭 Route Information:",-1)),w("dl",null,[M[10]||(M[10]=w("dt",null,"Distance:",-1)),w("dd",null,ve(i.value.distance),1),M[11]||(M[11]=w("dt",null,"Duration:",-1)),w("dd",null,ve(i.value.duration),1)])])):pt("",!0)]))}},q6=xn(W6,[["__scopeId","data-v-7d73ae58"]]);class Cp{static async getHealthMetrics(){try{console.log("Fetching health metrics from Firestore...");const e=oa(no(yi,"Mentalexercise"),sa("data","desc")),r=(await sd(e)).docs.map(i=>{const o=i.data();return console.log("Document data:",o),{id:i.id,date:o.data?o.data.toDate():new Date,mood:o.Mood,exerciseTime:o["exercise time/h"]||0,sleepTime:o["sleep time/h"]||0,value:o["sleep time/h"]||0}});return console.log("Total documents fetched:",r.length),r}catch(e){return console.error("Error fetching health metrics:",e),[]}}static subscribeToHealthMetrics(e){console.log("Setting up real-time listener...");const n=oa(no(yi,"Mentalexercise"),sa("data","desc"));return n0(n,r=>{console.log("Real-time update received, documents:",r.size);const i=r.docs.map(o=>{const s=o.data();return{id:o.id,date:s.data?s.data.toDate():new Date,mood:s.Mood,exerciseTime:s["exercise time/h"]||0,sleepTime:s["sleep time/h"]||0,value:s["sleep time/h"]||0}});e(i)},r=>{console.error("Real-time listener error:",r)})}static async getSleepData(){try{console.log("Fetching sleep data from Firestore...");const e=oa(no(yi,"Mentalexercise"),sa("data","desc")),r=(await sd(e)).docs.map(i=>{const o=i.data();return{id:i.id,date:o.data?o.data.toDate():new Date,value:o["sleep time/h"]||0}});return console.log("Sleep data fetched:",r.length),r}catch(e){return console.error("Error fetching sleep data:",e),[]}}static async getExerciseData(){try{console.log("Fetching exercise data from Firestore...");const e=oa(no(yi,"Mentalexercise"),sa("data","desc")),r=(await sd(e)).docs.map(i=>{const o=i.data();return{id:i.id,date:o.data?o.data.toDate():new Date,value:o["exercise time/h"]||0}});return console.log("Exercise data fetched:",r.length),r}catch(e){return console.error("Error fetching exercise data:",e),[]}}static async addHealthMetric(e){try{console.log("Adding new health metric to Firestore...",e);const n=await t0(no(yi,"Mentalexercise"),{data:St.fromDate(new Date(e.date)),Mood:e.mood,"exercise time/h":parseFloat(e.exerciseTime)||0,"sleep time/h":parseFloat(e.sleepTime)||0});return console.log("Document written with ID: ",n.id),n.id}catch(n){throw console.error("Error adding health metric:",n),n}}static async getAppointments(){try{console.log("Fetching appointments from Firestore...");const e=oa(no(yi,"Appointments"),sa("start","desc")),r=(await sd(e)).docs.map(i=>{const o=i.data();return{id:i.id,title:o.title,start:o.start?o.start.toDate():new Date,end:o.end?o.end.toDate():new Date,description:o.description||"",duration:o.duration||60,status:o.status||"scheduled"}});return console.log("Total appointments fetched:",r.length),r}catch(e){return console.error("Error fetching appointments:",e),[]}}static subscribeToAppointments(e){console.log("Setting up appointments real-time listener...");const n=oa(no(yi,"Appointments"),sa("start","desc"));return n0(n,r=>{console.log("Appointments real-time update received, documents:",r.size);const i=r.docs.map(o=>{const s=o.data();return{id:o.id,title:s.title,start:s.start?s.start.toDate():new Date,end:s.end?s.end.toDate():new Date,description:s.description||"",duration:s.duration||60,status:s.status||"scheduled"}});e(i)},r=>{console.error("Appointments real-time listener error:",r)})}static async addAppointment(e){try{console.log("Adding new appointment to Firestore...",e);const n=await t0(no(yi,"Appointments"),{title:e.title,start:St.fromDate(new Date(e.start)),end:St.fromDate(new Date(e.end)),description:e.description||"",duration:parseInt(e.duration)||60,status:e.status||"scheduled"});return console.log("Appointment written with ID: ",n.id),n.id}catch(n){throw console.error("Error adding appointment:",n),n}}static async updateAppointmentStatus(e,n){try{const r=dC(yi,"Appointments",e);await R5(r,{status:n}),console.log("Appointment status updated:",e,n)}catch(r){throw console.error("Error updating appointment status:",r),r}}}const G6={name:"InteractiveChart",props:{title:{type:String,default:"Health Metrics"},dataType:{type:String,default:"combined"}},data(){return{rawData:[],filteredData:[],selectedTimeRange:30,searchQuery:"",sortField:"date",sortDirection:"desc",stats:null,loading:!1,unsubscribe:null,newRecord:{date:new Date().toISOString().split("T")[0],mood:"",exerciseTime:0,sleepTime:0},isSubmitting:!1,currentPage:1,itemsPerPage:10,columnSearch:{date:"",mood:"",exerciseTime:"",sleepTime:""}}},computed:{totalPages(){return Math.ceil(this.filteredData.length/this.itemsPerPage)},paginatedData(){const t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredData.slice(t,e)},startIndex(){return(this.currentPage-1)*this.itemsPerPage},endIndex(){return Math.min(this.startIndex+this.itemsPerPage,this.filteredData.length)},visiblePages(){const t=[];let n=Math.max(1,this.currentPage-Math.floor(2.5)),r=Math.min(this.totalPages,n+5-1);r-n+1<5&&(n=Math.max(1,r-5+1));for(let i=n;i<=r;i++)t.push(i);return t}},watch:{filteredData(){this.currentPage>this.totalPages&&this.totalPages>0&&(this.currentPage=this.totalPages)},columnSearch:{handler(){this.filterData()},deep:!0}},async mounted(){await this.loadData(),this.setupRealtimeUpdates()},beforeUnmount(){this.unsubscribe&&this.unsubscribe()},methods:{async loadData(){try{this.loading=!0,this.rawData=await Cp.getHealthMetrics(),this.filterData()}catch(t){console.error("Error loading data:",t)}finally{this.loading=!1}},setupRealtimeUpdates(){this.unsubscribe=Cp.subscribeToHealthMetrics(t=>{this.rawData=t,this.filterData()})},filterData(){let t=[...this.rawData];const e=new Date;if(e.setDate(e.getDate()-this.selectedTimeRange),t=t.filter(n=>new Date(n.date)>=e),this.searchQuery){const n=this.searchQuery.toLowerCase();t=t.filter(r=>r.mood&&r.mood.toLowerCase().includes(n)||r.exerciseTime.toString().includes(n)||r.sleepTime.toString().includes(n))}if(this.columnSearch.date){const n=this.columnSearch.date.toLowerCase();t=t.filter(r=>this.formatDate(r.date).toLowerCase().includes(n))}if(this.columnSearch.mood&&(t=t.filter(n=>n.mood===this.columnSearch.mood)),this.columnSearch.exerciseTime){const n=this.columnSearch.exerciseTime.toLowerCase();t=t.filter(r=>r.exerciseTime.toString().includes(n))}if(this.columnSearch.sleepTime){const n=this.columnSearch.sleepTime.toLowerCase();t=t.filter(r=>r.sleepTime.toString().includes(n))}this.sortData(t),this.calculateStats()},goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)},sortBy(t){this.sortField===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortField=t,this.sortDirection="asc"),this.sortData([...this.filteredData])},sortData(t){t.sort((e,n)=>{let r=e[this.sortField],i=n[this.sortField];return this.sortField==="date"?(r=new Date(r),i=new Date(i)):typeof r=="string"&&(r=r.toLowerCase(),i=i.toLowerCase()),r<i?this.sortDirection==="asc"?-1:1:r>i?this.sortDirection==="asc"?1:-1:0}),this.filteredData=t},getSortClass(t){return this.sortField!==t?"":this.sortDirection==="asc"?"sort-asc":"sort-desc"},getMoodClass(t){if(!t)return"mood-neutral";const e=t.toLowerCase();return e.includes("happy")||e.includes("good")||e.includes("great")?"mood-positive":e.includes("sad")||e.includes("bad")||e.includes("terrible")?"mood-negative":"mood-neutral"},formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"},calculateStats(){if(this.filteredData.length===0){this.stats=null;return}const t=this.filteredData.map(n=>n.exerciseTime||0),e=this.filteredData.map(n=>n.sleepTime||0);this.stats={avgExercise:(t.reduce((n,r)=>n+r,0)/t.length).toFixed(1),avgSleep:(e.reduce((n,r)=>n+r,0)/e.length).toFixed(1)}},async addNewRecord(){try{this.isSubmitting=!0,await Cp.addHealthMetric(this.newRecord),this.resetForm(),alert("Health record added successfully!")}catch(t){console.error("Error adding record:",t),alert("Failed to add record. Please try again.")}finally{this.isSubmitting=!1}},resetForm(){this.newRecord={date:new Date().toISOString().split("T")[0],mood:"",exerciseTime:0,sleepTime:0}},exportToCSV(){const e=[["Date","Mood","Exercise Time (h)","Sleep Time (h)"].join(",")];this.paginatedData.forEach(o=>{const s=[`"${this.formatDate(o.date)}"`,`"${o.mood}"`,`"${o.exerciseTime}"`,`"${o.sleepTime}"`];e.push(s.join(","))});const n=new Blob([e.join(`
`)],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),i=URL.createObjectURL(n);r.setAttribute("href",i),r.setAttribute("download",`health_records_${new Date().toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},async exportToPDF(){try{const{jsPDF:t}=await Tc(async()=>{const{jsPDF:f}=await import("./jspdf.es.min-D2ftdynC.js").then(g=>g.j);return{jsPDF:f}},[]),e=new t,n=e.internal.pageSize.getWidth(),r=e.internal.pageSize.getHeight();e.setFontSize(16),e.text("Health Records",n/2,20,{align:"center"});let i=40;const o=8,s=20;e.setFontSize(10);const l=["Date","Mood","Exercise (h)","Sleep (h)"],u=[40,30,35,35];let h=s;l.forEach((f,g)=>{e.text(f,h,i),h+=u[g]}),i+=o,e.line(s,i,n-s,i),i+=5,this.paginatedData.forEach(f=>{i>r-30&&(e.addPage(),i=20),h=s,[this.formatDate(f.date),f.mood,f.exerciseTime.toString(),f.sleepTime.toString()].forEach((v,_)=>{e.text(v,h,i),h+=u[_]}),i+=o}),e.save(`health_records_${new Date().toISOString().split("T")[0]}.pdf`)}catch(t){console.error("Error exporting PDF:",t),alert("Error exporting PDF. Please make sure jsPDF is installed.")}}}},Z6={class:"table-container"},K6={class:"table-header"},Y6={class:"table-controls"},Q6={class:"export-controls"},X6={class:"column-search-row"},J6={class:"column-search"},eH={class:"column-search"},tH={class:"column-search"},nH={class:"column-search"},rH={class:"table-wrapper"},iH={class:"data-table"},oH={class:"numeric"},sH={class:"numeric"},aH={key:0,class:"no-data"},lH={class:"pagination-container"},cH={class:"pagination-info"},uH={class:"pagination-controls"},dH=["disabled"],hH={class:"pagination-pages"},fH=["onClick"],pH=["disabled"],gH={key:0,class:"table-stats"},mH={class:"stat-item"},vH={class:"stat-value"},_H={class:"stat-item"},yH={class:"stat-value"},bH={class:"stat-item"},wH={class:"stat-value"},EH={class:"add-data-form"},SH={class:"form-row"},TH={class:"form-group"},CH={class:"form-group"},AH={class:"form-row"},RH={class:"form-group"},kH={class:"form-group"},IH={class:"form-actions"},xH=["disabled"];function PH(t,e,n,r,i,o){return ge(),me("div",Z6,[w("div",K6,[w("h3",null,ve(n.title),1),w("div",Y6,[Ne(w("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.selectedTimeRange=s),onChange:e[1]||(e[1]=(...s)=>o.filterData&&o.filterData(...s)),class:"table-select"},e[22]||(e[22]=[w("option",{value:"7"},"Last 7 days",-1),w("option",{value:"30"},"Last 30 days",-1),w("option",{value:"90"},"Last 90 days",-1),w("option",{value:"365"},"Last year",-1)]),544),[[Ii,i.selectedTimeRange]]),Ne(w("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.searchQuery=s),onInput:e[3]||(e[3]=(...s)=>o.filterData&&o.filterData(...s)),placeholder:"Search...",class:"search-input"},null,544),[[tt,i.searchQuery]]),w("div",Q6,[w("button",{onClick:e[4]||(e[4]=(...s)=>o.exportToCSV&&o.exportToCSV(...s)),class:"export-btn csv-btn"}," 📊 Export CSV "),w("button",{onClick:e[5]||(e[5]=(...s)=>o.exportToPDF&&o.exportToPDF(...s)),class:"export-btn pdf-btn"}," 📄 Export PDF ")])])]),w("div",X6,[w("div",J6,[Ne(w("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>i.columnSearch.date=s),type:"text",placeholder:"Search date...",class:"column-search-input"},null,512),[[tt,i.columnSearch.date]])]),w("div",eH,[Ne(w("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>i.columnSearch.mood=s),class:"column-search-select"},e[23]||(e[23]=[wc('<option value="" data-v-7380d8a5>All Moods</option><option value="Great" data-v-7380d8a5>Great</option><option value="Good" data-v-7380d8a5>Good</option><option value="Okay" data-v-7380d8a5>Okay</option><option value="Bad" data-v-7380d8a5>Bad</option><option value="Terrible" data-v-7380d8a5>Terrible</option>',6)]),512),[[Ii,i.columnSearch.mood]])]),w("div",tH,[Ne(w("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>i.columnSearch.exerciseTime=s),type:"text",placeholder:"Search exercise...",class:"column-search-input"},null,512),[[tt,i.columnSearch.exerciseTime]])]),w("div",nH,[Ne(w("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>i.columnSearch.sleepTime=s),type:"text",placeholder:"Search sleep...",class:"column-search-input"},null,512),[[tt,i.columnSearch.sleepTime]])])]),w("div",rH,[w("table",iH,[w("thead",null,[w("tr",null,[w("th",{onClick:e[10]||(e[10]=s=>o.sortBy("date")),class:"sortable"},[e[24]||(e[24]=Ke(" Date ")),w("span",{class:Ut(["sort-icon",o.getSortClass("date")])},"↕",2)]),w("th",{onClick:e[11]||(e[11]=s=>o.sortBy("mood")),class:"sortable"},[e[25]||(e[25]=Ke(" Mood ")),w("span",{class:Ut(["sort-icon",o.getSortClass("mood")])},"↕",2)]),w("th",{onClick:e[12]||(e[12]=s=>o.sortBy("exerciseTime")),class:"sortable"},[e[26]||(e[26]=Ke(" Exercise Time/h ")),w("span",{class:Ut(["sort-icon",o.getSortClass("exerciseTime")])},"↕",2)]),w("th",{onClick:e[13]||(e[13]=s=>o.sortBy("sleepTime")),class:"sortable"},[e[27]||(e[27]=Ke(" Sleep Time/h ")),w("span",{class:Ut(["sort-icon",o.getSortClass("sleepTime")])},"↕",2)])])]),w("tbody",null,[(ge(!0),me(Xt,null,Ni(o.paginatedData,s=>(ge(),me("tr",{key:s.id,class:"data-row"},[w("td",null,ve(o.formatDate(s.date)),1),w("td",null,[w("span",{class:Ut(["mood-badge",o.getMoodClass(s.mood)])},ve(s.mood||"N/A"),3)]),w("td",oH,ve(s.exerciseTime||0),1),w("td",sH,ve(s.sleepTime||0),1)]))),128))])]),o.paginatedData.length===0?(ge(),me("div",aH,e[28]||(e[28]=[w("p",null,"No data available",-1)]))):pt("",!0)]),w("div",lH,[w("div",cH," Showing "+ve(o.startIndex+1)+" to "+ve(o.endIndex)+" of "+ve(i.filteredData.length)+" entries ",1),w("div",uH,[w("button",{onClick:e[14]||(e[14]=s=>o.goToPage(i.currentPage-1)),disabled:i.currentPage===1,class:"pagination-btn"}," Previous ",8,dH),w("span",hH,[(ge(!0),me(Xt,null,Ni(o.visiblePages,s=>(ge(),me("button",{key:s,onClick:l=>o.goToPage(s),class:Ut(["pagination-btn",{active:s===i.currentPage}])},ve(s),11,fH))),128))]),w("button",{onClick:e[15]||(e[15]=s=>o.goToPage(i.currentPage+1)),disabled:i.currentPage===o.totalPages,class:"pagination-btn"}," Next ",8,pH)])]),i.stats?(ge(),me("div",gH,[w("div",mH,[e[29]||(e[29]=w("span",{class:"stat-label"},"Total Records:",-1)),w("span",vH,ve(i.filteredData.length),1)]),w("div",_H,[e[30]||(e[30]=w("span",{class:"stat-label"},"Avg Exercise:",-1)),w("span",yH,ve(i.stats.avgExercise)+"h",1)]),w("div",bH,[e[31]||(e[31]=w("span",{class:"stat-label"},"Avg Sleep:",-1)),w("span",wH,ve(i.stats.avgSleep)+"h",1)])])):pt("",!0),w("div",EH,[e[37]||(e[37]=w("h4",null,"Add New Health Record",-1)),w("form",{onSubmit:e[21]||(e[21]=As((...s)=>o.addNewRecord&&o.addNewRecord(...s),["prevent"])),class:"data-form"},[w("div",SH,[w("div",TH,[e[32]||(e[32]=w("label",{for:"date"},"Date:",-1)),Ne(w("input",{type:"date",id:"date","onUpdate:modelValue":e[16]||(e[16]=s=>i.newRecord.date=s),required:"",class:"form-input"},null,512),[[tt,i.newRecord.date]])]),w("div",CH,[e[34]||(e[34]=w("label",{for:"mood"},"Mood:",-1)),Ne(w("select",{id:"mood","onUpdate:modelValue":e[17]||(e[17]=s=>i.newRecord.mood=s),required:"",class:"form-input"},e[33]||(e[33]=[wc('<option value="" data-v-7380d8a5>Select mood</option><option value="Great" data-v-7380d8a5>Great</option><option value="Good" data-v-7380d8a5>Good</option><option value="Okay" data-v-7380d8a5>Okay</option><option value="Bad" data-v-7380d8a5>Bad</option><option value="Terrible" data-v-7380d8a5>Terrible</option>',6)]),512),[[Ii,i.newRecord.mood]])])]),w("div",AH,[w("div",RH,[e[35]||(e[35]=w("label",{for:"exercise"},"Exercise Time (hours):",-1)),Ne(w("input",{type:"number",id:"exercise","onUpdate:modelValue":e[18]||(e[18]=s=>i.newRecord.exerciseTime=s),min:"0",max:"24",step:"0.5",required:"",class:"form-input"},null,512),[[tt,i.newRecord.exerciseTime,void 0,{number:!0}]])]),w("div",kH,[e[36]||(e[36]=w("label",{for:"sleep"},"Sleep Time (hours):",-1)),Ne(w("input",{type:"number",id:"sleep","onUpdate:modelValue":e[19]||(e[19]=s=>i.newRecord.sleepTime=s),min:"0",max:"24",step:"0.5",required:"",class:"form-input"},null,512),[[tt,i.newRecord.sleepTime,void 0,{number:!0}]])])]),w("div",IH,[w("button",{type:"submit",disabled:i.isSubmitting,class:"submit-btn"},ve(i.isSubmitting?"Adding...":"Add Record"),9,xH),w("button",{type:"button",onClick:e[20]||(e[20]=(...s)=>o.resetForm&&o.resetForm(...s)),class:"reset-btn"}," Reset ")])],32)])])}const DH=xn(G6,[["render",PH],["__scopeId","data-v-7380d8a5"]]),MH={name:"AboutView",components:{AppointmentBooking:F3,AppointmentTable:R6,MapComponent:q6,InteractiveChart:DH},data(){return{height:175,weight:70,sleepTime:8,exerciseTime:30}},methods:{sendEmail(){this.$router.push("/email")},async logout(){try{await iN(x5),this.$router.push("/Firelogin")}catch(t){console.error("Logout error:",t),alert("Logout failed. Please try again.")}}}},OH={class:"about"},NH={class:"dashboard-grid"},LH={class:"dashboard-section"},BH={class:"metrics-grid"},VH={class:"metric-card"},FH={class:"metric-card"},$H={class:"metric-card"},UH={class:"metric-card"},zH={class:"dashboard-section"},HH={class:"actions-grid"},jH={class:"dashboard-section full-width"},WH={class:"dashboard-section full-width"},qH={class:"dashboard-section full-width"},GH={class:"dashboard-section full-width"};function ZH(t,e,n,r,i,o){const s=jr("AppointmentBooking"),l=jr("AppointmentTable"),u=jr("InteractiveChart"),h=jr("MapComponent");return ge(),me("div",OH,[e[11]||(e[11]=w("h1",null,"Mental Health Dashboard",-1)),w("div",NH,[w("div",LH,[e[6]||(e[6]=w("h2",null,"Health Metrics",-1)),w("div",BH,[w("div",VH,[e[2]||(e[2]=w("h3",null,"Height",-1)),w("p",null,ve(i.height)+" cm",1)]),w("div",FH,[e[3]||(e[3]=w("h3",null,"Weight",-1)),w("p",null,ve(i.weight)+" kg",1)]),w("div",$H,[e[4]||(e[4]=w("h3",null,"Sleep Time",-1)),w("p",null,ve(i.sleepTime)+" hours",1)]),w("div",UH,[e[5]||(e[5]=w("h3",null,"Exercise Time",-1)),w("p",null,ve(i.exerciseTime)+" minutes",1)])])]),w("div",zH,[e[7]||(e[7]=w("h2",null,"Quick Actions",-1)),w("div",HH,[w("button",{onClick:e[0]||(e[0]=(...f)=>o.sendEmail&&o.sendEmail(...f)),class:"email-btn"},"Send Email"),w("button",{onClick:e[1]||(e[1]=(...f)=>o.logout&&o.logout(...f)),class:"logout-btn"},"Logout")])]),w("div",jH,[e[8]||(e[8]=w("h2",null,"Appointment System",-1)),ut(s)]),w("div",WH,[e[9]||(e[9]=w("h2",null,"Appointment Records",-1)),ut(l)]),w("div",qH,[ut(u,{title:"Health Metrics Tracking",dataType:"combined"})]),w("div",GH,[e[10]||(e[10]=w("h2",null,"Location Services",-1)),ut(h)])])])}const KH=xn(MH,[["render",ZH],["__scopeId","data-v-7025cb27"]]),YH={name:"LoginView",setup(){const t=dm(),e=et({username:"",password:"",userType:""}),n=et(""),r=et(""),i=et(!1),o=et([]),s={username:"admin",password:"12345678",gender:"admin",isAustralian:!0,reason:"System Administrator"},l={username:"user",password:"123",gender:"other",isAustralian:!0,reason:"Default User Account"},u=gr("authState",null);Cs(()=>{h()});const h=()=>{try{const T=localStorage.getItem("submittedCards");T&&(o.value=JSON.parse(T))}catch(T){console.error("Error loading registered users:",T)}},f=Bn(()=>e.value.username.trim()!==""&&e.value.password.trim()!==""),g=()=>{setTimeout(()=>{n.value="",r.value=""},3e3)},v=(T,A,P)=>{if(P==="user"){const M=o.value.find(U=>U.username===T&&U.password===A);if(M)return{isValid:!0,user:M};if(T===l.username&&A===l.password)return{isValid:!0,user:l}}return P==="admin"&&T===s.username&&A===s.password?{isValid:!0,user:s}:{isValid:!1,user:null}};return{credentials:e,errorMessage:n,successMessage:r,isLoading:i,isFormValid:f,registeredUsers:o,handleLogin:async()=>{n.value="",r.value="",i.value=!0;try{h(),await new Promise(A=>setTimeout(A,1e3));const T=v(e.value.username,e.value.password,e.value.userType);T.isValid?(u?(u.isAuthenticated.value=!0,u.user.value={username:T.user.username,gender:T.user.gender,isAustralian:T.user.isAustralian,reason:T.user.reason}):(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("currentUser",JSON.stringify({username:T.user.username,gender:T.user.gender,isAustralian:T.user.isAustralian,reason:T.user.reason}))),r.value="Login successful! Redirecting...",setTimeout(()=>{const A=t.currentRoute.value.query.redirect||"/about";t.push(A)},1500)):(o.value.length===0?n.value="Invalid credentials. Try the demo credentials below or register first.":n.value="Invalid username or password. Please check your credentials or register first.",g())}catch{n.value="An error occurred during login. Please try again.",g()}finally{i.value=!1}},clearForm:()=>{e.value.username="",e.value.password="",n.value="",r.value=""}}}},QH={class:"login-container"},XH={class:"login-card"},JH={class:"form-group"},ej=["disabled"],tj={class:"form-group"},nj=["disabled"],rj={class:"form-group"},ij=["disabled"],oj={key:0,class:"error-message"},sj={key:1,class:"success-message"},aj=["disabled"],lj={key:0},cj={key:1};function uj(t,e,n,r,i,o){return ge(),me("div",QH,[w("div",XH,[e[8]||(e[8]=w("div",{class:"login-header"},[w("h1",null,"Login")],-1)),w("form",{onSubmit:e[3]||(e[3]=As((...s)=>r.handleLogin&&r.handleLogin(...s),["prevent"])),class:"login-form"},[w("div",JH,[e[5]||(e[5]=w("label",{for:"userType"},"User Type",-1)),Ne(w("select",{id:"userType","onUpdate:modelValue":e[0]||(e[0]=s=>r.credentials.userType=s),required:"",disabled:r.isLoading,class:"form-input"},e[4]||(e[4]=[w("option",{value:"user"},"Regular User",-1),w("option",{value:"admin"},"Administrator",-1)]),8,ej),[[Ii,r.credentials.userType]])]),w("div",tj,[e[6]||(e[6]=w("label",{for:"username"},"Username",-1)),Ne(w("input",{id:"username",type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>r.credentials.username=s),placeholder:"Enter your username",required:"",disabled:r.isLoading,class:"form-input"},null,8,nj),[[tt,r.credentials.username]])]),w("div",rj,[e[7]||(e[7]=w("label",{for:"password"},"Password",-1)),Ne(w("input",{id:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=s=>r.credentials.password=s),placeholder:"Enter your password",required:"",disabled:r.isLoading,class:"form-input"},null,8,ij),[[tt,r.credentials.password]])]),r.errorMessage?(ge(),me("div",oj,ve(r.errorMessage),1)):pt("",!0),r.successMessage?(ge(),me("div",sj,ve(r.successMessage),1)):pt("",!0),w("button",{type:"submit",disabled:r.isLoading||!r.isFormValid,class:"login-button"},[r.isLoading?(ge(),me("span",lj,"Logging in...")):(ge(),me("span",cj,"Login"))],8,aj)],32)])])}const dj=xn(YH,[["render",uj],["__scopeId","data-v-9ec7ef39"]]),hj="/assets/self-care-B47dAjQS.png",fj={class:"mental-health-page"},pj={class:"hero-section"},gj={class:"hero-content"},mj={class:"hero-text"},vj={class:"hero-buttons"},_j={class:"cta-section"},yj={class:"container"},bj={class:"cta-content"},wj={class:"cta-buttons"},Ej={class:"admin-section"},Sj={class:"container"},Tj={class:"admin-login-link"},Cj={__name:"MentalHealth",setup(t){const e=et(0),n=[{text:"Your mental health journey: You're the hero of your own story.",author:"Mental Health Hub"},{text:"Break the silence. Break the stigma. Your voice matters.",author:"Mental Health Hub"},{text:"Mind strong. Heart strong. You strong. Every step counts.",author:"Mental Health Hub"}];Cs(()=>{setInterval(()=>{e.value=(e.value+1)%n.length,r()},4e3)});const r=()=>{document.querySelectorAll(".quote-card").forEach((o,s)=>{o.classList.toggle("active",s===e.value)})};return(i,o)=>{const s=jr("router-link");return ge(),me("div",fj,[w("section",pj,[w("div",gj,[w("div",mj,[o[2]||(o[2]=w("h1",{class:"hero-title"},"🧠 Mental Health Hub",-1)),o[3]||(o[3]=w("p",{class:"hero-subtitle"},"Your journey to wellness starts here",-1)),o[4]||(o[4]=w("p",{class:"hero-description"}," Take control of your mental health with our comprehensive support system. You're not alone in this journey. ",-1)),w("div",vj,[ut(s,{to:"/FireRegister",class:"btn-primary"},{default:jn(()=>o[0]||(o[0]=[Ke("Join Our Community")])),_:1,__:[0]}),ut(s,{to:"/evaluate",class:"btn-secondary"},{default:jn(()=>o[1]||(o[1]=[Ke("Share Your Experience")])),_:1,__:[1]})])]),o[5]||(o[5]=w("div",{class:"hero-image"},[w("img",{src:hj,alt:"Mental health support",class:"hero-img"})],-1))])]),o[11]||(o[11]=wc('<section class="features-section" data-v-b0744ae9><div class="container" data-v-b0744ae9><h2 class="section-title" data-v-b0744ae9>How We Support You</h2><div class="features-grid" data-v-b0744ae9><div class="feature-card" data-v-b0744ae9><div class="feature-icon" data-v-b0744ae9>🤝</div><h3 data-v-b0744ae9>Community Support</h3><p data-v-b0744ae9>Connect with others who understand your journey and share experiences in a safe space.</p></div><div class="feature-card" data-v-b0744ae9><div class="feature-icon" data-v-b0744ae9>📊</div><h3 data-v-b0744ae9>Track Progress</h3><p data-v-b0744ae9>Monitor your mental health journey with personalized dashboards and insights.</p></div><div class="feature-card" data-v-b0744ae9><div class="feature-icon" data-v-b0744ae9>🎯</div><h3 data-v-b0744ae9>Goal Setting</h3><p data-v-b0744ae9>Set achievable wellness goals and celebrate your progress along the way.</p></div><div class="feature-card" data-v-b0744ae9><div class="feature-icon" data-v-b0744ae9>💡</div><h3 data-v-b0744ae9>Resources</h3><p data-v-b0744ae9>Access evidence-based tools and techniques for managing stress and anxiety.</p></div></div></div></section><section class="quotes-section" data-v-b0744ae9><div class="container" data-v-b0744ae9><h2 class="section-title" data-v-b0744ae9>Words of Encouragement</h2><div class="quotes-carousel" data-v-b0744ae9><div class="quote-card active" data-v-b0744ae9><blockquote data-v-b0744ae9> &quot;Your mental health journey: You&#39;re the hero of your own story.&quot; </blockquote><cite data-v-b0744ae9>- Mental Health Hub</cite></div><div class="quote-card" data-v-b0744ae9><blockquote data-v-b0744ae9> &quot;Break the silence. Break the stigma. Your voice matters.&quot; </blockquote><cite data-v-b0744ae9>- Mental Health Hub</cite></div><div class="quote-card" data-v-b0744ae9><blockquote data-v-b0744ae9> &quot;Mind strong. Heart strong. You strong. Every step counts.&quot; </blockquote><cite data-v-b0744ae9>- Mental Health Hub</cite></div></div></div></section><section class="stats-section" data-v-b0744ae9><div class="container" data-v-b0744ae9><div class="stats-grid" data-v-b0744ae9><div class="stat-item" data-v-b0744ae9><div class="stat-number" data-v-b0744ae9>1 in 4</div><div class="stat-label" data-v-b0744ae9>People experience mental health issues</div></div><div class="stat-item" data-v-b0744ae9><div class="stat-number" data-v-b0744ae9>85%</div><div class="stat-label" data-v-b0744ae9>Report improvement with support</div></div><div class="stat-item" data-v-b0744ae9><div class="stat-number" data-v-b0744ae9>24/7</div><div class="stat-label" data-v-b0744ae9>Community support available</div></div></div></div></section>',3)),w("section",_j,[w("div",yj,[w("div",bj,[o[8]||(o[8]=w("h2",null,"Ready to Start Your Journey?",-1)),o[9]||(o[9]=w("p",null,"Join thousands of others who have taken the first step towards better mental health.",-1)),w("div",wj,[ut(s,{to:"/",class:"btn-primary large"},{default:jn(()=>o[6]||(o[6]=[Ke("Get Started Today")])),_:1,__:[6]}),ut(s,{to:"/about",class:"btn-outline"},{default:jn(()=>o[7]||(o[7]=[Ke("Learn More")])),_:1,__:[7]})])])])]),w("section",Ej,[w("div",Sj,[w("div",Tj,[ut(s,{to:"/admin-login",class:"admin-link"},{default:jn(()=>o[10]||(o[10]=[w("span",{class:"admin-icon"},"🔐",-1),Ke(" Admin Login ")])),_:1,__:[10]})])])])])}}},Aj=xn(Cj,[["__scopeId","data-v-b0744ae9"]]),Rj={class:"rating-container"},kj={class:"average-rating"},Ij={key:0},xj={class:"user-rating"},Pj={class:"stars"},Dj=["onClick","onMouseover"],Mj=["disabled"],Oj={key:0,class:"thank-you"},sw="user-ratings",Nj={__name:"Evaluate",setup(t){function e(){const f=localStorage.getItem(sw);return f?JSON.parse(f):[]}function n(f){localStorage.setItem(sw,JSON.stringify(f))}const r=et(e()),i=et(0),o=et(0),s=et(!1);function l(f){i.value=f,s.value=!1}const u=Bn(()=>r.value.length===0?0:r.value.reduce((g,v)=>g+v,0)/r.value.length);function h(){i.value>0&&(r.value.push(i.value),n(r.value),s.value=!0,i.value=0)}return Cs(()=>{r.value=e()}),(f,g)=>(ge(),me("div",Rj,[g[4]||(g[4]=w("h2",null,"Evaluate",-1)),w("div",kj,[g[1]||(g[1]=Ke(" Average score: ")),w("strong",null,ve(u.value.toFixed(1)),1),g[2]||(g[2]=Ke(" / 5 ")),r.value.length===0?(ge(),me("span",Ij)):pt("",!0)]),w("div",xj,[g[3]||(g[3]=w("p",null,"Please rate our service:",-1)),w("div",Pj,[(ge(),me(Xt,null,Ni(5,v=>w("span",{key:v,class:Ut(["star",{filled:v<=i.value}]),onClick:_=>l(v),onMouseover:_=>o.value=v,onMouseleave:g[0]||(g[0]=_=>o.value=0)}," ★ ",42,Dj)),64))]),w("button",{disabled:i.value===0,onClick:h},"Submit",8,Mj),s.value?(ge(),me("p",Oj,"Thank you!")):pt("",!0)])]))}},Lj=xn(Nj,[["__scopeId","data-v-e0c8f3a4"]]),Bj={class:"firebase-container"},Vj={class:"firebase-card"},Fj={class:"form-group"},$j=["disabled"],Uj={class:"form-group"},zj=["disabled"],Hj={key:0,class:"error-message"},jj={key:1,class:"success-message"},Wj=["disabled"],qj={key:0},Gj={key:1},Zj={class:"register-link"},Kj={__name:"FirebaseSigninView",setup(t){const e=et(""),n=et(""),r=et(""),i=et(""),o=et(!1),s=dm(),l=dP(),u=Xh(),h=Bn(()=>e.value.trim()!==""&&n.value.trim()!==""),f=()=>{setTimeout(()=>{r.value="",i.value=""},3e3)},g=async()=>{r.value="",i.value="",o.value=!0;try{await new Promise(_=>setTimeout(_,500));const v=await eN(u,e.value,n.value);console.log("Firebase Login Successful!",v.user),i.value="Sign in successful! Redirecting to dashboard...",setTimeout(()=>{const _=l.query.redirect||"/about";s.push(_)},1500)}catch(v){switch(console.log(v.code),v.code){case"auth/user-not-found":r.value="No account found with this email. Please check your email or create an account.";break;case"auth/wrong-password":r.value="Incorrect password. Please try again.";break;case"auth/invalid-email":r.value="Please enter a valid email address.";break;case"auth/too-many-requests":r.value="Too many failed attempts. Please try again later.";break;default:r.value="Sign in failed. Please check your credentials and try again."}f()}finally{o.value=!1}};return(v,_)=>{const S=jr("router-link");return ge(),me("div",Bj,[w("div",Vj,[_[6]||(_[6]=w("div",{class:"firebase-header"},[w("h1",null,"🔥 Firebase Sign In"),w("p",null,"Welcome back! Sign in to your account")],-1)),w("form",{onSubmit:As(g,["prevent"]),class:"firebase-form"},[w("div",Fj,[_[2]||(_[2]=w("label",{for:"email"},"Email Address",-1)),Ne(w("input",{id:"email",type:"email","onUpdate:modelValue":_[0]||(_[0]=T=>e.value=T),placeholder:"Enter your email address",required:"",disabled:o.value,class:"form-input"},null,8,$j),[[tt,e.value]])]),w("div",Uj,[_[3]||(_[3]=w("label",{for:"password"},"Password",-1)),Ne(w("input",{id:"password",type:"password","onUpdate:modelValue":_[1]||(_[1]=T=>n.value=T),placeholder:"Enter your password",required:"",disabled:o.value,class:"form-input"},null,8,zj),[[tt,n.value]])]),r.value?(ge(),me("div",Hj,ve(r.value),1)):pt("",!0),i.value?(ge(),me("div",jj,ve(i.value),1)):pt("",!0),w("button",{type:"submit",disabled:o.value||!h.value,class:"firebase-button"},[o.value?(ge(),me("span",qj,"Signing In...")):(ge(),me("span",Gj,"🚀 Sign In"))],8,Wj)],32),w("div",Zj,[w("p",null,[_[5]||(_[5]=Ke("Don't have an account? ")),ut(S,{to:"/Fireregister",class:"link"},{default:jn(()=>_[4]||(_[4]=[Ke("Create one here")])),_:1,__:[4]})])])])])}}},Yj=xn(Kj,[["__scopeId","data-v-5896284a"]]),Qj={class:"firebase-container"},Xj={class:"firebase-card"},Jj={class:"form-group"},e9=["disabled"],t9={class:"form-group"},n9=["disabled"],r9={key:0,class:"error-message"},i9={key:1,class:"success-message"},o9=["disabled"],s9={key:0},a9={key:1},l9={class:"login-link"},c9={__name:"FirebaseRegisterView",setup(t){const e=et(""),n=et(""),r=et(""),i=et(""),o=et(!1),s=dm(),l=Xh(),u=Bn(()=>e.value.trim()!==""&&n.value.trim()!==""&&n.value.length>=6),h=()=>{setTimeout(()=>{r.value="",i.value=""},3e3)},f=async()=>{r.value="",i.value="",o.value=!0;try{await new Promise(v=>setTimeout(v,500));const g=await JO(l,e.value,n.value);console.log("Firebase Register Successful!",g.user),i.value="Account created successfully! Redirecting to sign in...",setTimeout(()=>{s.push("/Firelogin")},1500)}catch(g){switch(console.log(g.code),g.code){case"auth/email-already-in-use":r.value="This email is already registered. Please use a different email or sign in.";break;case"auth/weak-password":r.value="Password is too weak. Please use at least 6 characters.";break;case"auth/invalid-email":r.value="Please enter a valid email address.";break;default:r.value="Registration failed. Please try again."}h()}finally{o.value=!1}};return(g,v)=>{const _=jr("router-link");return ge(),me("div",Qj,[w("div",Xj,[v[6]||(v[6]=w("div",{class:"firebase-header"},[w("h1",null,"🔥 Create Firebase Account"),w("p",null,"Join our community with Firebase authentication")],-1)),w("form",{onSubmit:As(f,["prevent"]),class:"firebase-form"},[w("div",Jj,[v[2]||(v[2]=w("label",{for:"email"},"Email Address",-1)),Ne(w("input",{id:"email",type:"email","onUpdate:modelValue":v[0]||(v[0]=S=>e.value=S),placeholder:"Enter your email address",required:"",disabled:o.value,class:"form-input"},null,8,e9),[[tt,e.value]])]),w("div",t9,[v[3]||(v[3]=w("label",{for:"password"},"Password",-1)),Ne(w("input",{id:"password",type:"password","onUpdate:modelValue":v[1]||(v[1]=S=>n.value=S),placeholder:"Create a secure password",required:"",disabled:o.value,class:"form-input"},null,8,n9),[[tt,n.value]])]),r.value?(ge(),me("div",r9,ve(r.value),1)):pt("",!0),i.value?(ge(),me("div",i9,ve(i.value),1)):pt("",!0),w("button",{type:"submit",disabled:o.value||!u.value,class:"firebase-button"},[o.value?(ge(),me("span",s9,"Creating Account...")):(ge(),me("span",a9,"🚀 Create Account"))],8,o9)],32),w("div",l9,[w("p",null,[v[5]||(v[5]=Ke("Already have an account? ")),ut(_,{to:"/Firelogin",class:"link"},{default:jn(()=>v[4]||(v[4]=[Ke("Sign in here")])),_:1,__:[4]})])])])])}}},u9=xn(c9,[["__scopeId","data-v-327dea26"]]);class hu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const d9=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},pn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:d9()},$v=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},h9=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=$v(t);pn.publicKey=n.publicKey,pn.blockHeadless=n.blockHeadless,pn.storageProvider=n.storageProvider,pn.blockList=n.blockList,pn.limitRate=n.limitRate,pn.origin=n.origin||e},mR=async(t,e,n={})=>{const r=await fetch(pn.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),o=new hu(r.status,i);if(r.ok)return o;throw o},vR=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},f9=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},_R=t=>t.webdriver||!t.languages||t.languages.length===0,yR=()=>new hu(451,"Unavailable For Headless Browser"),p9=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},g9=t=>!t.list?.length||!t.watchVariable,m9=(t,e)=>t instanceof FormData?t.get(e):t[e],bR=(t,e)=>{if(g9(t))return!1;p9(t.list,t.watchVariable);const n=m9(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},wR=()=>new hu(403,"Forbidden"),v9=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},_9=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},ER=async(t,e,n)=>{if(!e.throttle||!n)return!1;v9(e.throttle,e.id);const r=e.id||t;return await _9(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},SR=()=>new hu(429,"Too Many Requests"),y9=async(t,e,n,r)=>{const i=$v(r),o=i.publicKey||pn.publicKey,s=i.blockHeadless||pn.blockHeadless,l=i.storageProvider||pn.storageProvider,u={...pn.blockList,...i.blockList},h={...pn.limitRate,...i.limitRate};return s&&_R(navigator)?Promise.reject(yR()):(vR(o,t,e),f9(n),n&&bR(u,n)?Promise.reject(wR()):await ER(location.pathname,h,l)?Promise.reject(SR()):mR("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},b9=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},w9=t=>typeof t=="string"?document.querySelector(t):t,E9=async(t,e,n,r)=>{const i=$v(r),o=i.publicKey||pn.publicKey,s=i.blockHeadless||pn.blockHeadless,l=pn.storageProvider||i.storageProvider,u={...pn.blockList,...i.blockList},h={...pn.limitRate,...i.limitRate};if(s&&_R(navigator))return Promise.reject(yR());const f=w9(n);vR(o,t,e),b9(f);const g=new FormData(f);return bR(u,g)?Promise.reject(wR()):await ER(location.pathname,h,l)?Promise.reject(SR()):(g.append("lib_version","4.4.1"),g.append("service_id",t),g.append("template_id",e),g.append("user_id",o),mR("/api/v1.0/email/send-form",g))},Ap={init:h9,send:y9,sendForm:E9,EmailJSResponseStatus:hu},S9={name:"BulkEmailSender",data(){return{emailData:{subject:"",message:""},attachment:null,errorMessage:"",newRecipient:{name:"",email:""},bulkEmails:"",recipients:[],selectedRecipients:[],allSelected:!1,sendOptions:{sendIndividually:!0,batchSize:5,delay:2},isSending:!1,sendProgress:{sent:0,failed:0,total:0},sendResults:[],emailjsConfig:{serviceId:"service_tl1f6jl",templateId:"template_buditia",publicKey:"u4r7jB4o4iZOUAxOs"}}},computed:{canSendEmails(){return this.emailData.subject.trim()&&this.emailData.message.trim()&&this.selectedRecipients.length>0},progressPercentage(){return this.sendProgress.total===0?0:Math.round((this.sendProgress.sent+this.sendProgress.failed)/this.sendProgress.total*100)}},mounted(){this.selectedRecipients=[...this.recipients],Ap.init(this.emailjsConfig.publicKey)},watch:{recipients:{handler(){this.allSelected&&(this.selectedRecipients=[...this.recipients])},deep:!0}},methods:{addRecipient(){if(!this.newRecipient.email.trim()){alert("Please enter an email address");return}if(!this.isValidEmail(this.newRecipient.email)){alert("Please enter a valid email address");return}if(this.recipients.some(t=>t.email===this.newRecipient.email)){alert("This email is already in the list");return}this.recipients.push({name:this.newRecipient.name.trim()||"No Name",email:this.newRecipient.email.trim()}),this.selectedRecipients.push(this.recipients[this.recipients.length-1]),this.newRecipient={name:"",email:""}},removeRecipient(t){const e=this.recipients[t];this.recipients.splice(t,1),this.selectedRecipients=this.selectedRecipients.filter(n=>n.email!==e.email)},clearAllRecipients(){confirm("Are you sure you want to clear all recipients?")&&(this.recipients=[],this.selectedRecipients=[])},selectAllRecipients(){this.allSelected?(this.selectedRecipients=[],this.allSelected=!1):(this.selectedRecipients=[...this.recipients],this.allSelected=!0)},importBulkEmails(){if(!this.bulkEmails.trim())return;const t=this.bulkEmails.split(/[,\n]/).map(e=>e.trim()).filter(e=>e&&this.isValidEmail(e)).filter(e=>!this.recipients.some(n=>n.email===e));t.forEach(e=>{const n={name:"Imported User",email:e};this.recipients.push(n),this.selectedRecipients.push(n)}),this.bulkEmails="",alert(`Imported ${t.length} valid email addresses`)},async sendBulkEmails(){if(this.canSendEmails){this.isSending=!0,this.sendProgress={sent:0,failed:0,total:this.selectedRecipients.length},this.sendResults=[];try{this.sendOptions.sendIndividually?await this.sendIndividualEmails():await this.sendBatchEmails()}catch(t){console.error("Bulk email sending failed:",t),alert("Failed to send bulk emails. Please try again.")}finally{this.isSending=!1}}},async sendIndividualEmails(){const t=this.chunkArray(this.selectedRecipients,this.sendOptions.batchSize);for(let e=0;e<t.length;e++){const r=t[e].map(i=>this.sendSingleEmail(i));await Promise.allSettled(r),e<t.length-1&&await this.delay(this.sendOptions.delay*1e3)}},async handleFileUpload(t){const e=t.target.files[0];if(e){if(e.size>10*1024*1024){this.errorMessage="File size must be less than 10MB";return}try{this.attachment=e,this.attachmentBase64=await this.convertFileToBase64(e),this.errorMessage=""}catch{this.errorMessage="Failed to process file",this.attachment=null,this.attachmentBase64=null}}},removeAttachment(){this.attachment=null,this.attachmentBase64=null,this.$nextTick(()=>{const t=this.$refs.attachmentInput;t&&(t.value="")})},async sendSingleEmail(t){try{const e={to_email:t.email,to_name:t.name,from_name:"Mental Health Hub",from_email:"noreply@mentalhealthhub.com",subject:this.emailData.subject,message:this.emailData.message,recipient_name:t.name};this.attachment&&this.attachmentBase64&&(e.attachment=this.attachmentBase64,e.attachment_name=this.attachment.name),await Ap.send(this.emailjsConfig.serviceId,this.emailjsConfig.templateId,e,this.emailjsConfig.publicKey),this.sendProgress.sent++,this.sendResults.push({email:t.email,success:!0})}catch(e){console.error(`Failed to send email to ${t.email}:`,e),this.sendProgress.failed++,this.sendResults.push({email:t.email,success:!1,error:e.message||"Unknown error"})}},async sendBatchEmails(){const t={from_name:"Mental Health Hub",from_email:"noreply@mentalhealthhub.com",subject:this.emailData.subject,message:this.emailData.message,recipients:this.selectedRecipients,recipient_list:this.selectedRecipients.map(e=>`${e.name} <${e.email}>`).join(", ")};this.attachment&&this.attachmentBase64&&(t.attachment=this.attachmentBase64,t.attachment_name=this.attachment.name);try{await Ap.send(this.emailjsConfig.serviceId,this.emailjsConfig.templateId,t,this.emailjsConfig.publicKey),this.sendProgress.sent=this.selectedRecipients.length,this.selectedRecipients.forEach(e=>{this.sendResults.push({email:e.email,success:!0})})}catch(e){console.error("Batch email sending failed:",e),this.sendProgress.failed=this.selectedRecipients.length,this.selectedRecipients.forEach(n=>{this.sendResults.push({email:n.email,success:!1,error:e.message||"Batch sending failed"})})}},isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},chunkArray(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},delay(t){return new Promise(e=>setTimeout(e,t))}}},T9={class:"bulk-email-sender"},C9={class:"email-form"},A9={class:"form-section email-content-section"},R9={class:"form-grid"},k9={class:"form-group"},I9={class:"form-group full-width"},x9={class:"form-group full-width"},P9={class:"file-upload-area"},D9={key:0,class:"attachment-info"},M9={class:"attachment-details"},O9={class:"attachment-text"},N9={key:0,class:"error-message"},L9={class:"form-section recipients-section"},B9={class:"recipient-input-card"},V9={class:"recipient-input"},F9={class:"form-group"},$9={class:"form-group"},U9={class:"bulk-import-card"},z9={class:"recipients-list-card"},H9={class:"recipients-header"},j9={key:0,class:"recipients-actions"},W9={key:0,class:"no-recipients"},q9={key:1,class:"recipient-cards"},G9={class:"recipient-avatar"},Z9={class:"recipient-info"},K9=["onClick"],Y9={class:"form-section send-options-section"},Q9={class:"send-options-grid"},X9={class:"option-card"},J9={class:"checkbox-label"},e7={class:"option-card"},t7={class:"option-card"},n7={class:"form-actions"},r7=["disabled"],i7={key:0,class:"loading-spinner"},o7={class:"btn-text"},s7={key:0,class:"progress-section"},a7={class:"progress-card"},l7={class:"progress-bar"},c7={class:"progress-text"},u7={key:0,class:"failed-count"},d7={key:1,class:"results-section"},h7={class:"results-card"},f7={class:"results-list"},p7={class:"result-status-icon"},g7={key:0},m7={key:1},v7={class:"result-content"},_7={class:"result-email"},y7={key:0,class:"result-error"},b7={class:"result-status"};function w7(t,e,n,r,i,o){return ge(),me("div",T9,[e[42]||(e[42]=wc('<div class="email-header" data-v-7c43aa7c><div class="header-content" data-v-7c43aa7c><div class="header-icon" data-v-7c43aa7c><svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-7c43aa7c><path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-7c43aa7c></path><polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-7c43aa7c></polyline></svg></div><h2 data-v-7c43aa7c>Bulk Email Sender</h2><p data-v-7c43aa7c>Send personalized emails to multiple recipients efficiently</p></div></div>',1)),w("div",C9,[w("div",A9,[e[22]||(e[22]=w("div",{class:"section-header"},[w("h3",null,[w("span",{class:"section-icon"},"✉️"),Ke(" Email Content ")])],-1)),w("div",R9,[w("div",k9,[e[15]||(e[15]=w("label",{for:"subject"},"Subject",-1)),Ne(w("input",{id:"subject","onUpdate:modelValue":e[0]||(e[0]=s=>i.emailData.subject=s),type:"text",placeholder:"Enter email subject",required:"",class:"modern-input"},null,512),[[tt,i.emailData.subject]])]),w("div",I9,[e[16]||(e[16]=w("label",{for:"message"},"Message",-1)),Ne(w("textarea",{id:"message","onUpdate:modelValue":e[1]||(e[1]=s=>i.emailData.message=s),placeholder:"Enter your message",rows:"6",required:"",class:"modern-textarea"},null,512),[[tt,i.emailData.message]])]),w("div",x9,[e[20]||(e[20]=w("label",{for:"attachment"},"Attachment",-1)),w("div",P9,[w("input",{ref:"attachmentInput",type:"file",onChange:e[2]||(e[2]=(...s)=>o.handleFileUpload&&o.handleFileUpload(...s)),class:"file-input",accept:".pdf,.doc,.docx,.txt,.jpg,.png,.xlsx,.csv",id:"attachment"},null,544),e[17]||(e[17]=wc('<label for="attachment" class="file-upload-label" data-v-7c43aa7c><div class="upload-icon" data-v-7c43aa7c><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-7c43aa7c><path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-7c43aa7c></path><polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-7c43aa7c></polyline><line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-7c43aa7c></line></svg></div><span data-v-7c43aa7c>Click to upload or drag and drop</span><small data-v-7c43aa7c>PDF, DOC, TXT, JPG, PNG, XLSX, CSV (Max 10MB)</small></label>',1))]),i.attachment?(ge(),me("div",D9,[w("div",M9,[e[18]||(e[18]=w("span",{class:"attachment-icon"},"📎",-1)),w("div",O9,[w("strong",null,ve(i.attachment.name),1),w("small",null,ve(t.formatFileSize(i.attachment.size)),1)])]),w("button",{onClick:e[3]||(e[3]=(...s)=>o.removeAttachment&&o.removeAttachment(...s)),class:"btn-remove-attachment"},e[19]||(e[19]=[w("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[w("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),w("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])):pt("",!0)])]),i.errorMessage?(ge(),me("div",N9,[e[21]||(e[21]=w("span",{class:"error-icon"},"⚠️",-1)),Ke(" "+ve(i.errorMessage),1)])):pt("",!0)]),w("div",L9,[e[32]||(e[32]=w("div",{class:"section-header"},[w("h3",null,[w("span",{class:"section-icon"},"👥"),Ke(" Recipients Management ")])],-1)),w("div",B9,[e[26]||(e[26]=w("h4",null,"Add Individual Recipient",-1)),w("div",V9,[w("div",F9,[e[23]||(e[23]=w("label",{for:"recipientName"},"Name",-1)),Ne(w("input",{id:"recipientName","onUpdate:modelValue":e[4]||(e[4]=s=>i.newRecipient.name=s),type:"text",placeholder:"Recipient name",class:"modern-input"},null,512),[[tt,i.newRecipient.name]])]),w("div",$9,[e[24]||(e[24]=w("label",{for:"recipientEmail"},"Email",-1)),Ne(w("input",{id:"recipientEmail","onUpdate:modelValue":e[5]||(e[5]=s=>i.newRecipient.email=s),type:"email",placeholder:"recipient@example.com",class:"modern-input"},null,512),[[tt,i.newRecipient.email]])]),w("button",{onClick:e[6]||(e[6]=(...s)=>o.addRecipient&&o.addRecipient(...s)),class:"btn-add"},e[25]||(e[25]=[w("span",{class:"btn-icon"},"+",-1),Ke(" Add Recipient ")]))])]),w("div",U9,[e[28]||(e[28]=w("h4",null,[w("span",{class:"section-icon"},"📋"),Ke(" Bulk Import ")],-1)),Ne(w("textarea",{"onUpdate:modelValue":e[7]||(e[7]=s=>i.bulkEmails=s),placeholder:"Enter emails separated by commas or new lines:\\nemail1@example.com, email2@example.com\\nor\\nemail1@example.com\\nemail2@example.com",rows:"4",class:"modern-textarea"},null,512),[[tt,i.bulkEmails]]),w("button",{onClick:e[8]||(e[8]=(...s)=>o.importBulkEmails&&o.importBulkEmails(...s)),class:"btn-import"},e[27]||(e[27]=[w("span",{class:"btn-icon"},"📥",-1),Ke(" Import Emails ")]))]),w("div",z9,[w("div",H9,[w("h4",null,[e[29]||(e[29]=w("span",{class:"section-icon"},"📧",-1)),Ke(" Recipients ("+ve(i.recipients.length)+") ",1)]),i.recipients.length>0?(ge(),me("div",j9,[w("button",{onClick:e[9]||(e[9]=(...s)=>o.selectAllRecipients&&o.selectAllRecipients(...s)),class:"btn-select"},ve(i.allSelected?"Deselect All":"Select All"),1),w("button",{onClick:e[10]||(e[10]=(...s)=>o.clearAllRecipients&&o.clearAllRecipients(...s)),class:"btn-clear"}," Clear All ")])):pt("",!0)]),i.recipients.length===0?(ge(),me("div",W9,e[30]||(e[30]=[w("div",{class:"empty-state"},[w("span",{class:"empty-icon"},"📭"),w("p",null,"No recipients added yet"),w("small",null,"Add recipients individually or import them in bulk")],-1)]))):(ge(),me("div",q9,[(ge(!0),me(Xt,null,Ni(i.recipients,(s,l)=>(ge(),me("div",{key:l,class:Ut(["recipient-card",{selected:i.selectedRecipients.includes(s)}])},[w("div",G9,ve((s.name||s.email).charAt(0).toUpperCase()),1),w("div",Z9,[w("strong",null,ve(s.name||"No Name"),1),w("span",null,ve(s.email),1)]),w("button",{onClick:u=>o.removeRecipient(l),class:"btn-remove"},e[31]||(e[31]=[w("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[w("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),w("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,K9)],2))),128))]))])]),w("div",Y9,[e[39]||(e[39]=w("div",{class:"section-header"},[w("h3",null,[w("span",{class:"section-icon"},"⚙️"),Ke(" Send Options ")])],-1)),w("div",Q9,[w("div",X9,[w("label",J9,[Ne(w("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>i.sendOptions.sendIndividually=s),type:"checkbox",class:"modern-checkbox"},null,512),[[TE,i.sendOptions.sendIndividually]]),e[33]||(e[33]=w("span",{class:"checkmark"},null,-1)),e[34]||(e[34]=w("div",{class:"option-text"},[w("strong",null,"Send individually"),w("small",null,"Recommended for privacy")],-1))])]),w("div",e7,[e[35]||(e[35]=w("label",{for:"batchSize"},"Batch Size",-1)),Ne(w("input",{id:"batchSize","onUpdate:modelValue":e[12]||(e[12]=s=>i.sendOptions.batchSize=s),type:"number",min:"1",max:"10",placeholder:"5",class:"modern-input"},null,512),[[tt,i.sendOptions.batchSize,void 0,{number:!0}]]),e[36]||(e[36]=w("small",null,"Emails per batch",-1))]),w("div",t7,[e[37]||(e[37]=w("label",{for:"delay"},"Delay",-1)),Ne(w("input",{id:"delay","onUpdate:modelValue":e[13]||(e[13]=s=>i.sendOptions.delay=s),type:"number",min:"1",max:"60",placeholder:"2",class:"modern-input"},null,512),[[tt,i.sendOptions.delay,void 0,{number:!0}]]),e[38]||(e[38]=w("small",null,"Seconds between batches",-1))])])]),w("div",n7,[w("button",{onClick:e[14]||(e[14]=(...s)=>o.sendBulkEmails&&o.sendBulkEmails(...s)),disabled:!o.canSendEmails||i.isSending,class:Ut(["btn-send",{sending:i.isSending}])},[i.isSending?(ge(),me("span",i7)):pt("",!0),w("span",o7,ve(i.isSending?"Sending...":`Send to ${i.selectedRecipients.length} Recipients`),1)],10,r7)])]),i.sendProgress.total>0?(ge(),me("div",s7,[w("div",a7,[e[40]||(e[40]=w("h3",null,[w("span",{class:"section-icon"},"📊"),Ke(" Sending Progress ")],-1)),w("div",l7,[w("div",{class:"progress-fill",style:Bh({width:o.progressPercentage+"%"})},null,4)]),w("div",c7,[Ke(ve(i.sendProgress.sent)+" / "+ve(i.sendProgress.total)+" emails sent ",1),i.sendProgress.failed>0?(ge(),me("span",u7," ("+ve(i.sendProgress.failed)+" failed) ",1)):pt("",!0)])])])):pt("",!0),i.sendResults.length>0?(ge(),me("div",d7,[w("div",h7,[e[41]||(e[41]=w("h3",null,[w("span",{class:"section-icon"},"📋"),Ke(" Send Results ")],-1)),w("div",f7,[(ge(!0),me(Xt,null,Ni(i.sendResults,(s,l)=>(ge(),me("div",{key:l,class:Ut(["result-item",s.success?"success":"error"])},[w("div",p7,[s.success?(ge(),me("span",g7,"✅")):(ge(),me("span",m7,"❌"))]),w("div",v7,[w("span",_7,ve(s.email),1),s.success?pt("",!0):(ge(),me("span",y7,ve(s.error),1))]),w("span",b7,ve(s.success?"Sent":"Failed"),1)],2))),128))])])])):pt("",!0)])}const E7=xn(S9,[["render",w7],["__scopeId","data-v-7c43aa7c"]]),S7={class:"container mt-5"},T7={class:"row"},C7={class:"col-md-12"},A7={id:"main-content",role:"main"},R7={__name:"EmailView",setup(t){return(e,n)=>(ge(),me("div",S7,[w("div",T7,[w("div",C7,[w("main",A7,[n[0]||(n[0]=w("h1",{class:"text-center mb-4"},"📧 Email System",-1)),ut(E7)])])])]))}},k7=xn(R7,[["__scopeId","data-v-2f716eae"]]);function TR(t,e){return function(){return t.apply(e,arguments)}}const{toString:I7}=Object.prototype,{getPrototypeOf:Uv}=Object,{iterator:Sf,toStringTag:CR}=Symbol,Tf=(t=>e=>{const n=I7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Dr=t=>(t=t.toLowerCase(),e=>Tf(e)===t),Cf=t=>e=>typeof e===t,{isArray:sl}=Array,Hc=Cf("undefined");function fu(t){return t!==null&&!Hc(t)&&t.constructor!==null&&!Hc(t.constructor)&&Zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const AR=Dr("ArrayBuffer");function x7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AR(t.buffer),e}const P7=Cf("string"),Zn=Cf("function"),RR=Cf("number"),pu=t=>t!==null&&typeof t=="object",D7=t=>t===!0||t===!1,Bd=t=>{if(Tf(t)!=="object")return!1;const e=Uv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(CR in t)&&!(Sf in t)},M7=t=>{if(!pu(t)||fu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},O7=Dr("Date"),N7=Dr("File"),L7=Dr("Blob"),B7=Dr("FileList"),V7=t=>pu(t)&&Zn(t.pipe),F7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Zn(t.append)&&((e=Tf(t))==="formdata"||e==="object"&&Zn(t.toString)&&t.toString()==="[object FormData]"))},$7=Dr("URLSearchParams"),[U7,z7,H7,j7]=["ReadableStream","Request","Response","Headers"].map(Dr),W7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),sl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(fu(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let l;for(r=0;r<s;r++)l=o[r],e.call(null,t[l],l,t)}}function kR(t,e){if(fu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IR=t=>!Hc(t)&&t!==as;function Bg(){const{caseless:t}=IR(this)&&this||{},e={},n=(r,i)=>{const o=t&&kR(e,i)||i;Bd(e[o])&&Bd(r)?e[o]=Bg(e[o],r):Bd(r)?e[o]=Bg({},r):sl(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&gu(arguments[r],n);return e}const q7=(t,e,n,{allOwnKeys:r}={})=>(gu(e,(i,o)=>{n&&Zn(i)?t[o]=TR(i,n):t[o]=i},{allOwnKeys:r}),t),G7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Z7=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},K7=(t,e,n,r)=>{let i,o,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&Uv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Y7=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Q7=t=>{if(!t)return null;if(sl(t))return t;let e=t.length;if(!RR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},X7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Uv(Uint8Array)),J7=(t,e)=>{const r=(t&&t[Sf]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},eW=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},tW=Dr("HTMLFormElement"),nW=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),aw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),rW=Dr("RegExp"),xR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};gu(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},iW=t=>{xR(t,(e,n)=>{if(Zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Zn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oW=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return sl(t)?r(t):r(String(t).split(e)),n},sW=()=>{},aW=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function lW(t){return!!(t&&Zn(t.append)&&t[CR]==="FormData"&&t[Sf])}const cW=t=>{const e=new Array(10),n=(r,i)=>{if(pu(r)){if(e.indexOf(r)>=0)return;if(fu(r))return r;if(!("toJSON"in r)){e[i]=r;const o=sl(r)?[]:{};return gu(r,(s,l)=>{const u=n(s,i+1);!Hc(u)&&(o[l]=u)}),e[i]=void 0,o}}return r};return n(t,0)},uW=Dr("AsyncFunction"),dW=t=>t&&(pu(t)||Zn(t))&&Zn(t.then)&&Zn(t.catch),PR=((t,e)=>t?setImmediate:e?((n,r)=>(as.addEventListener("message",({source:i,data:o})=>{i===as&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),as.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Zn(as.postMessage)),hW=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||PR,fW=t=>t!=null&&Zn(t[Sf]),Y={isArray:sl,isArrayBuffer:AR,isBuffer:fu,isFormData:F7,isArrayBufferView:x7,isString:P7,isNumber:RR,isBoolean:D7,isObject:pu,isPlainObject:Bd,isEmptyObject:M7,isReadableStream:U7,isRequest:z7,isResponse:H7,isHeaders:j7,isUndefined:Hc,isDate:O7,isFile:N7,isBlob:L7,isRegExp:rW,isFunction:Zn,isStream:V7,isURLSearchParams:$7,isTypedArray:X7,isFileList:B7,forEach:gu,merge:Bg,extend:q7,trim:W7,stripBOM:G7,inherits:Z7,toFlatObject:K7,kindOf:Tf,kindOfTest:Dr,endsWith:Y7,toArray:Q7,forEachEntry:J7,matchAll:eW,isHTMLForm:tW,hasOwnProperty:aw,hasOwnProp:aw,reduceDescriptors:xR,freezeMethods:iW,toObjectSet:oW,toCamelCase:nW,noop:sW,toFiniteNumber:aW,findKey:kR,global:as,isContextDefined:IR,isSpecCompliantForm:lW,toJSONObject:cW,isAsyncFn:uW,isThenable:dW,setImmediate:PR,asap:hW,isIterable:fW};function Ye(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Y.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const DR=Ye.prototype,MR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{MR[t]={value:t}});Object.defineProperties(Ye,MR);Object.defineProperty(DR,"isAxiosError",{value:!0});Ye.from=(t,e,n,r,i,o)=>{const s=Object.create(DR);return Y.toFlatObject(t,s,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Ye.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const pW=null;function Vg(t){return Y.isPlainObject(t)||Y.isArray(t)}function OR(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function lw(t,e,n){return t?t.concat(e).map(function(i,o){return i=OR(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function gW(t){return Y.isArray(t)&&!t.some(Vg)}const mW=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function Af(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,A){return!Y.isUndefined(A[T])});const r=n.metaTokens,i=n.visitor||f,o=n.dots,s=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(Y.isDate(S))return S.toISOString();if(Y.isBoolean(S))return S.toString();if(!u&&Y.isBlob(S))throw new Ye("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(S)||Y.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function f(S,T,A){let P=S;if(S&&!A&&typeof S=="object"){if(Y.endsWith(T,"{}"))T=r?T:T.slice(0,-2),S=JSON.stringify(S);else if(Y.isArray(S)&&gW(S)||(Y.isFileList(S)||Y.endsWith(T,"[]"))&&(P=Y.toArray(S)))return T=OR(T),P.forEach(function(U,q){!(Y.isUndefined(U)||U===null)&&e.append(s===!0?lw([T],q,o):s===null?T:T+"[]",h(U))}),!1}return Vg(S)?!0:(e.append(lw(A,T,o),h(S)),!1)}const g=[],v=Object.assign(mW,{defaultVisitor:f,convertValue:h,isVisitable:Vg});function _(S,T){if(!Y.isUndefined(S)){if(g.indexOf(S)!==-1)throw Error("Circular reference detected in "+T.join("."));g.push(S),Y.forEach(S,function(P,M){(!(Y.isUndefined(P)||P===null)&&i.call(e,P,Y.isString(M)?M.trim():M,T,v))===!0&&_(P,T?T.concat(M):[M])}),g.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return _(t),e}function cw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function zv(t,e){this._pairs=[],t&&Af(t,this,e)}const NR=zv.prototype;NR.append=function(e,n){this._pairs.push([e,n])};NR.toString=function(e){const n=e?function(r){return e.call(this,r,cw)}:cw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function vW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LR(t,e,n){if(!e)return t;const r=n&&n.encode||vW;Y.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=Y.isURLSearchParams(e)?e.toString():new zv(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class uw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const BR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_W=typeof URLSearchParams<"u"?URLSearchParams:zv,yW=typeof FormData<"u"?FormData:null,bW=typeof Blob<"u"?Blob:null,wW={isBrowser:!0,classes:{URLSearchParams:_W,FormData:yW,Blob:bW},protocols:["http","https","file","blob","url","data"]},Hv=typeof window<"u"&&typeof document<"u",Fg=typeof navigator=="object"&&navigator||void 0,EW=Hv&&(!Fg||["ReactNative","NativeScript","NS"].indexOf(Fg.product)<0),SW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TW=Hv&&window.location.href||"http://localhost",CW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hv,hasStandardBrowserEnv:EW,hasStandardBrowserWebWorkerEnv:SW,navigator:Fg,origin:TW},Symbol.toStringTag,{value:"Module"})),An={...CW,...wW};function AW(t,e){return Af(t,new An.classes.URLSearchParams,{visitor:function(n,r,i,o){return An.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function RW(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kW(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function VR(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=o>=n.length;return s=!s&&Y.isArray(i)?i.length:s,u?(Y.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!Y.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&Y.isArray(i[s])&&(i[s]=kW(i[s])),!l)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(r,i)=>{e(RW(r),i,n,0)}),n}return null}function IW(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const mu={transitional:BR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Y.isObject(e);if(o&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return i?JSON.stringify(VR(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return AW(e,this.formSerializer).toString();if((l=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Af(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),IW(e)):e}],transformResponse:[function(e){const n=this.transitional||mu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?Ye.from(l,Ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{mu.headers[t]={}});const xW=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PW=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&xW[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},dw=Symbol("internals");function zl(t){return t&&String(t).trim().toLowerCase()}function Vd(t){return t===!1||t==null?t:Y.isArray(t)?t.map(Vd):String(t)}function DW(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const MW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rp(t,e,n,r,i){if(Y.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}function OW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function NW(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Kn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(l,u,h){const f=zl(u);if(!f)throw new Error("header name must be a non-empty string");const g=Y.findKey(i,f);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||u]=Vd(l))}const s=(l,u)=>Y.forEach(l,(h,f)=>o(h,f,u));if(Y.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(Y.isString(e)&&(e=e.trim())&&!MW(e))s(PW(e),n);else if(Y.isObject(e)&&Y.isIterable(e)){let l={},u,h;for(const f of e){if(!Y.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[h=f[0]]=(u=l[h])?Y.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}s(l,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=zl(e),e){const r=Y.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return DW(i);if(Y.isFunction(n))return n.call(this,i,r);if(Y.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=zl(e),e){const r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Rp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=zl(s),s){const l=Y.findKey(r,s);l&&(!n||Rp(r,r[l],l,n))&&(delete r[l],i=!0)}}return Y.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Rp(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return Y.forEach(this,(i,o)=>{const s=Y.findKey(r,o);if(s){n[s]=Vd(i),delete n[o];return}const l=e?OW(o):String(o).trim();l!==o&&delete n[o],n[l]=Vd(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[dw]=this[dw]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=zl(s);r[l]||(NW(i,s),r[l]=!0)}return Y.isArray(e)?e.forEach(o):o(e),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Kn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Y.freezeMethods(Kn);function kp(t,e){const n=this||mu,r=e||n,i=Kn.from(r.headers);let o=r.data;return Y.forEach(t,function(l){o=l.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function FR(t){return!!(t&&t.__CANCEL__)}function al(t,e,n){Ye.call(this,t??"canceled",Ye.ERR_CANCELED,e,n),this.name="CanceledError"}Y.inherits(al,Ye,{__CANCEL__:!0});function $R(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ye("Request failed with status code "+n.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function LW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function BW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=r[o];s||(s=h),n[i]=u,r[i]=h;let g=o,v=0;for(;g!==i;)v+=n[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-s<e)return;const _=f&&h-f;return _?Math.round(v*1e3/_):void 0}}function VW(t,e){let n=0,r=1e3/e,i,o;const s=(h,f=Date.now())=>{n=f,i=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const f=Date.now(),g=f-n;g>=r?s(h,f):(i=h,o||(o=setTimeout(()=>{o=null,s(i)},r-g)))},()=>i&&s(i)]}const Ph=(t,e,n=3)=>{let r=0;const i=BW(50,250);return VW(o=>{const s=o.loaded,l=o.lengthComputable?o.total:void 0,u=s-r,h=i(u),f=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&f?(l-s)/h:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(g)},n)},hw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},fw=t=>(...e)=>Y.asap(()=>t(...e)),FW=An.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,An.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(An.origin),An.navigator&&/(msie|trident)/i.test(An.navigator.userAgent)):()=>!0,$W=An.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];Y.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&s.push("path="+r),Y.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zW(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function UR(t,e,n){let r=!UW(e);return t&&(r||n==!1)?zW(t,e):e}const pw=t=>t instanceof Kn?{...t}:t;function Ts(t,e){e=e||{};const n={};function r(h,f,g,v){return Y.isPlainObject(h)&&Y.isPlainObject(f)?Y.merge.call({caseless:v},h,f):Y.isPlainObject(f)?Y.merge({},f):Y.isArray(f)?f.slice():f}function i(h,f,g,v){if(Y.isUndefined(f)){if(!Y.isUndefined(h))return r(void 0,h,g,v)}else return r(h,f,g,v)}function o(h,f){if(!Y.isUndefined(f))return r(void 0,f)}function s(h,f){if(Y.isUndefined(f)){if(!Y.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,g){if(g in e)return r(h,f);if(g in t)return r(void 0,h)}const u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(h,f,g)=>i(pw(h),pw(f),g,!0)};return Y.forEach(Object.keys({...t,...e}),function(f){const g=u[f]||i,v=g(t[f],e[f],f);Y.isUndefined(v)&&g!==l||(n[f]=v)}),n}const zR=t=>{const e=Ts({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:l}=e;e.headers=s=Kn.from(s),e.url=LR(UR(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Y.isFormData(n)){if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[h,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([h||"multipart/form-data",...f].join("; "))}}if(An.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&FW(e.url))){const h=i&&o&&$W.read(o);h&&s.set(i,h)}return e},HW=typeof XMLHttpRequest<"u",jW=HW&&function(t){return new Promise(function(n,r){const i=zR(t);let o=i.data;const s=Kn.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=i,f,g,v,_,S;function T(){_&&_(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function P(){if(!A)return;const U=Kn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),oe={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:U,config:t,request:A};$R(function(D){n(D),T()},function(D){r(D),T()},oe),A=null}"onloadend"in A?A.onloadend=P:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(P)},A.onabort=function(){A&&(r(new Ye("Request aborted",Ye.ECONNABORTED,t,A)),A=null)},A.onerror=function(){r(new Ye("Network Error",Ye.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const oe=i.transitional||BR;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),r(new Ye(q,oe.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,t,A)),A=null},o===void 0&&s.setContentType(null),"setRequestHeader"in A&&Y.forEach(s.toJSON(),function(q,oe){A.setRequestHeader(oe,q)}),Y.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),h&&([v,S]=Ph(h,!0),A.addEventListener("progress",v)),u&&A.upload&&([g,_]=Ph(u),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(f=U=>{A&&(r(!U||U.type?new al(null,t,A):U),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const M=LW(i.url);if(M&&An.protocols.indexOf(M)===-1){r(new Ye("Unsupported protocol "+M+":",Ye.ERR_BAD_REQUEST,t));return}A.send(o||null)})},WW=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(h){if(!i){i=!0,l();const f=h instanceof Error?h:this.reason;r.abort(f instanceof Ye?f:new al(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{s=null,o(new Ye(`timeout ${e} of ms exceeded`,Ye.ETIMEDOUT))},e);const l=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>Y.asap(l),u}},qW=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},GW=async function*(t,e){for await(const n of ZW(t))yield*qW(n,e)},ZW=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},gw=(t,e,n,r)=>{const i=GW(t,e);let o=0,s,l=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){l(),u.close();return}let g=f.byteLength;if(n){let v=o+=g;n(v)}u.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Rf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",HR=Rf&&typeof ReadableStream=="function",KW=Rf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},YW=HR&&jR(()=>{let t=!1;const e=new Request(An.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),mw=64*1024,$g=HR&&jR(()=>Y.isReadableStream(new Response("").body)),Dh={stream:$g&&(t=>t.body)};Rf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dh[e]&&(Dh[e]=Y.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ye(`Response type '${e}' is not supported`,Ye.ERR_NOT_SUPPORT,r)})})})(new Response);const QW=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(An.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await KW(t)).byteLength},XW=async(t,e)=>{const n=Y.toFiniteNumber(t.getContentLength());return n??QW(e)},JW=Rf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:h,headers:f,withCredentials:g="same-origin",fetchOptions:v}=zR(t);h=h?(h+"").toLowerCase():"text";let _=WW([i,o&&o.toAbortSignal()],s),S;const T=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let A;try{if(u&&YW&&n!=="get"&&n!=="head"&&(A=await XW(f,r))!==0){let oe=new Request(e,{method:"POST",body:r,duplex:"half"}),se;if(Y.isFormData(r)&&(se=oe.headers.get("content-type"))&&f.setContentType(se),oe.body){const[D,k]=hw(A,Ph(fw(u)));r=gw(oe.body,mw,D,k)}}Y.isString(g)||(g=g?"include":"omit");const P="credentials"in Request.prototype;S=new Request(e,{...v,signal:_,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:P?g:void 0});let M=await fetch(S,v);const U=$g&&(h==="stream"||h==="response");if($g&&(l||U&&T)){const oe={};["status","statusText","headers"].forEach(I=>{oe[I]=M[I]});const se=Y.toFiniteNumber(M.headers.get("content-length")),[D,k]=l&&hw(se,Ph(fw(l),!0))||[];M=new Response(gw(M.body,mw,D,()=>{k&&k(),T&&T()}),oe)}h=h||"text";let q=await Dh[Y.findKey(Dh,h)||"text"](M,t);return!U&&T&&T(),await new Promise((oe,se)=>{$R(oe,se,{data:q,headers:Kn.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:S})})}catch(P){throw T&&T(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,t,S),{cause:P.cause||P}):Ye.from(P,P&&P.code,t,S)}}),Ug={http:pW,xhr:jW,fetch:JW};Y.forEach(Ug,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vw=t=>`- ${t}`,e8=t=>Y.isFunction(t)||t===null||t===!1,WR={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!e8(n)&&(r=Ug[(s=String(n)).toLowerCase()],r===void 0))throw new Ye(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(vw).join(`
`):" "+vw(o[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Ug};function Ip(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new al(null,t)}function _w(t){return Ip(t),t.headers=Kn.from(t.headers),t.data=kp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WR.getAdapter(t.adapter||mu.adapter)(t).then(function(r){return Ip(t),r.data=kp.call(t,t.transformResponse,r),r.headers=Kn.from(r.headers),r},function(r){return FR(r)||(Ip(t),r&&r.response&&(r.response.data=kp.call(t,t.transformResponse,r.response),r.response.headers=Kn.from(r.response.headers))),Promise.reject(r)})}const qR="1.11.0",kf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{kf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const yw={};kf.transitional=function(e,n,r){function i(o,s){return"[Axios v"+qR+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(e===!1)throw new Ye(i(s," has been removed"+(n?" in "+n:"")),Ye.ERR_DEPRECATED);return n&&!yw[s]&&(yw[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,l):!0}};kf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function t8(t,e,n){if(typeof t!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const l=t[o],u=l===void 0||s(l,o,t);if(u!==!0)throw new Ye("option "+o+" must be "+u,Ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ye("Unknown option "+o,Ye.ERR_BAD_OPTION)}}const Fd={assertOptions:t8,validators:kf},Fr=Fd.validators;let ps=class{constructor(e){this.defaults=e||{},this.interceptors={request:new uw,response:new uw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ts(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Fd.assertOptions(r,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),i!=null&&(Y.isFunction(i)?n.paramsSerializer={serialize:i}:Fd.assertOptions(i,{encode:Fr.function,serialize:Fr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fd.assertOptions(n,{baseUrl:Fr.spelling("baseURL"),withXsrfToken:Fr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Y.merge(o.common,o[n.method]);o&&Y.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=Kn.concat(s,o);const l=[];let u=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(u=u&&T.synchronous,l.unshift(T.fulfilled,T.rejected))});const h=[];this.interceptors.response.forEach(function(T){h.push(T.fulfilled,T.rejected)});let f,g=0,v;if(!u){const S=[_w.bind(this),void 0];for(S.unshift(...l),S.push(...h),v=S.length,f=Promise.resolve(n);g<v;)f=f.then(S[g++],S[g++]);return f}v=l.length;let _=n;for(g=0;g<v;){const S=l[g++],T=l[g++];try{_=S(_)}catch(A){T.call(this,A);break}}try{f=_w.call(this,_)}catch(S){return Promise.reject(S)}for(g=0,v=h.length;g<v;)f=f.then(h[g++],h[g++]);return f}getUri(e){e=Ts(this.defaults,e);const n=UR(e.baseURL,e.url,e.allowAbsoluteUrls);return LR(n,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){ps.prototype[e]=function(n,r){return this.request(Ts(r||{},{method:e,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,l){return this.request(Ts(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ps.prototype[e]=n(),ps.prototype[e+"Form"]=n(!0)});let n8=class GR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,l){r.reason||(r.reason=new al(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new GR(function(i){e=i}),cancel:e}}};function r8(t){return function(n){return t.apply(null,n)}}function i8(t){return Y.isObject(t)&&t.isAxiosError===!0}const zg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zg).forEach(([t,e])=>{zg[e]=t});function ZR(t){const e=new ps(t),n=TR(ps.prototype.request,e);return Y.extend(n,ps.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ZR(Ts(t,i))},n}const qt=ZR(mu);qt.Axios=ps;qt.CanceledError=al;qt.CancelToken=n8;qt.isCancel=FR;qt.VERSION=qR;qt.toFormData=Af;qt.AxiosError=Ye;qt.Cancel=qt.CanceledError;qt.all=function(e){return Promise.all(e)};qt.spread=r8;qt.isAxiosError=i8;qt.mergeConfig=Ts;qt.AxiosHeaders=Kn;qt.formToJSON=t=>VR(Y.isHTMLForm(t)?new FormData(t):t);qt.getAdapter=WR.getAdapter;qt.HttpStatusCode=zg;qt.default=qt;const{Axios:zee,AxiosError:Hee,CanceledError:jee,isCancel:Wee,CancelToken:qee,VERSION:Gee,all:Zee,Cancel:Kee,isAxiosError:Yee,spread:Qee,toFormData:Xee,AxiosHeaders:Jee,HttpStatusCode:ete,formToJSON:tte,getAdapter:nte,mergeConfig:rte}=qt,o8="2f7ab4bb30d041ddbd457698438269d7",s8={name:"App",data(){return{city:"",weatherData:null,hourlyForecast:[],dailyForecast:[]}},computed:{temperature(){return this.weatherData?Math.floor(this.weatherData.main.temp-273):null},iconUrl(){return this.weatherData?`http://api.openweathermap.org/img/w/${this.weatherData.weather[0].icon}.png`:null}},mounted(){this.fetchCurrentLocationWeather()},methods:{async fetchCurrentLocationWeather(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(async t=>{const{latitude:e,longitude:n}=t.coords,r=`http://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${n}&appid=${o8}`;await this.fetchWeatherData(r)})},async fetchWeatherData(t){try{const e=await qt.get(t);this.weatherData=e.data}catch(e){console.error("Error fetching weather data:",e)}}}},a8={class:"container"},l8={class:"header"},c8={class:"search-bar"};function u8(t,e,n,r,i,o){return ge(),me("div",a8,[w("div",l8,[e[5]||(e[5]=w("h1",null,"WEATHER APP",-1)),w("div",c8,[Ne(w("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>i.city=s),placeholder:"Enter city name",class:"search-input"},null,512),[[tt,i.city]]),w("button",{onClick:e[1]||(e[1]=(...s)=>t.searchByCity&&t.searchByCity(...s)),class:"search-button"}," Search "),e[2]||(e[2]=w("br",null,null,-1)),e[3]||(e[3]=w("br",null,null,-1)),e[4]||(e[4]=Ke(' Please implement "Search Weather by City". '))])])])}const d8=xn(s8,[["render",u8]]),h8=[{path:"/WeatherCheck",name:"WeatherCheck",component:d8},{path:"/",name:"Mental",component:Aj},{path:"/home",name:"Home",component:_D},{path:"/about",name:"About",component:KH,meta:{requiresFirebaseAuth:!0}},{path:"/email",name:"Email",component:k7,meta:{requiresFirebaseAuth:!0}},{path:"/Firelogin",name:"Firelogin",component:Yj},{path:"/Fireregister",name:"Fireregister",component:u9},{path:"/admin-login",name:"AdminLogin",component:()=>Tc(()=>import("./AdminLogin-_IK4ptr6.js"),__vite__mapDeps([0,1]))},{path:"/admin-dashboard",name:"AdminDashboard",component:()=>Tc(()=>import("./AdminDashboard-NvdDzRVX.js"),__vite__mapDeps([2,3]))},{path:"/login",name:"Login",component:dj},{path:"/evaluate",name:"Evaluate",component:Lj}],KR=cP({history:Vx(),routes:h8});KR.beforeEach((t,e,n)=>{const r=Xh();t.meta.requiresFirebaseAuth?rN(r,i=>{i?n():n({path:"/Firelogin",query:{redirect:t.fullPath}})}):t.meta.requiresAuth?JSON.parse(localStorage.getItem("isAuthenticated"))||!1?n():n({path:"/login",query:{redirect:t.fullPath}}):n()});function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bw(Object(n),!0).forEach(function(r){f8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f8(t,e,n){return(e=p8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p8(t){var e=g8(t,"string");return jc(e)=="symbol"?e:e+""}function g8(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m8={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[_n.STARTS_WITH,_n.CONTAINS,_n.NOT_CONTAINS,_n.ENDS_WITH,_n.EQUALS,_n.NOT_EQUALS],numeric:[_n.EQUALS,_n.NOT_EQUALS,_n.LESS_THAN,_n.LESS_THAN_OR_EQUAL_TO,_n.GREATER_THAN,_n.GREATER_THAN_OR_EQUAL_TO],date:[_n.DATE_IS,_n.DATE_IS_NOT,_n.DATE_BEFORE,_n.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},v8=Symbol();function _8(t,e){var n={config:Zc(e)};return t.config.globalProperties.$primevue=n,t.provide(v8,n),y8(),b8(t,n),n}var va=[];function y8(){wi.clear(),va.forEach(function(t){return t?.()}),va=[]}function b8(t,e){var n=et(!1),r=function(){var h;if(((h=e.config)===null||h===void 0?void 0:h.theme)!=="none"&&!wn.isStyleNameLoaded("common")){var f,g,v=((f=ia.getCommonTheme)===null||f===void 0?void 0:f.call(ia))||{},_=v.primitive,S=v.semantic,T=v.global,A=v.style,P={nonce:(g=e.config)===null||g===void 0||(g=g.csp)===null||g===void 0?void 0:g.nonce};ia.load(_?.css,pd({name:"primitive-variables"},P)),ia.load(S?.css,pd({name:"semantic-variables"},P)),ia.load(T?.css,pd({name:"global-variables"},P)),ia.loadStyle(pd({name:"global-style"},P),A),wn.setLoadedStyleName("common")}};wi.on("theme:change",function(u){n.value||(t.config.globalProperties.$primevue.config.theme=u,n.value=!0)});var i=Ti(e.config,function(u,h){Ju.emit("config:change",{newValue:u,oldValue:h})},{immediate:!0,deep:!0}),o=Ti(function(){return e.config.ripple},function(u,h){Ju.emit("config:ripple:change",{newValue:u,oldValue:h})},{immediate:!0,deep:!0}),s=Ti(function(){return e.config.theme},function(u,h){n.value||wn.setTheme(u),e.config.unstyled||r(),n.value=!1,Ju.emit("config:theme:change",{newValue:u,oldValue:h})},{immediate:!0,deep:!1}),l=Ti(function(){return e.config.unstyled},function(u,h){!u&&e.config.theme&&r(),Ju.emit("config:unstyled:change",{newValue:u,oldValue:h})},{immediate:!0,deep:!0});va.push(i),va.push(o),va.push(s),va.push(l)}var w8={install:function(e,n){var r=SP(m8,n);_8(e,r)}},E8={transitionDuration:"{transition.duration}"},S8={borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},T8={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},C8={borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"},A8={root:E8,panel:S8,header:T8,content:C8},R8={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},k8={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},I8={padding:"{list.padding}",gap:"{list.gap}"},x8={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},P8={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},D8={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},M8={borderRadius:"{border.radius.sm}"},O8={padding:"{list.option.padding}"},N8={light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}},L8={root:R8,overlay:k8,list:I8,option:x8,optionGroup:P8,dropdown:D8,chip:M8,emptyMessage:O8,colorScheme:N8},B8={width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},V8={size:"1rem"},F8={borderColor:"{content.background}",offset:"-0.75rem"},$8={width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},U8={width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}},z8={root:B8,icon:V8,group:F8,lg:$8,xl:U8},H8={borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},j8={size:"0.5rem"},W8={fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},q8={fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},G8={fontSize:"1rem",minWidth:"2rem",height:"2rem"},Z8={light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},K8={root:H8,dot:j8,sm:W8,lg:q8,xl:G8,colorScheme:Z8},Y8={borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},Q8={transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},X8={primitive:Y8,semantic:Q8},J8={borderRadius:"{content.border.radius}"},eq={root:J8},tq={padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},nq={color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},rq={color:"{navigation.item.icon.color}"},iq={root:tq,item:nq,separator:rq},oq={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},sq={light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}},aq={root:oq,colorScheme:sq},lq={background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},cq={padding:"1.25rem",gap:"0.5rem"},uq={gap:"0.5rem"},dq={fontSize:"1.25rem",fontWeight:"500"},hq={color:"{text.muted.color}"},fq={root:lq,body:cq,caption:uq,title:dq,subtitle:hq},pq={transitionDuration:"{transition.duration}"},gq={gap:"0.25rem"},mq={padding:"1rem",gap:"0.5rem"},vq={width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},_q={light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}},yq={root:pq,content:gq,indicatorList:mq,indicator:vq,colorScheme:_q},bq={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},wq={width:"2.5rem",color:"{form.field.icon.color}"},Eq={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Sq={padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},Tq={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},Cq={color:"{form.field.icon.color}"},Aq={root:bq,dropdown:wq,overlay:Eq,list:Sq,option:Tq,clearIcon:Cq},Rq={borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},kq={size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}},Iq={root:Rq,icon:kq},xq={borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},Pq={width:"2rem",height:"2rem"},Dq={size:"1rem"},Mq={size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},Oq={light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}},Nq={root:xq,image:Pq,icon:Dq,removeIcon:Mq,colorScheme:Oq},Lq={transitionDuration:"{transition.duration}"},Bq={width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Vq={shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},Fq={light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}},$q={root:Lq,preview:Bq,panel:Vq,colorScheme:Fq},Uq={size:"2rem",color:"{overlay.modal.color}"},zq={gap:"1rem"},Hq={icon:Uq,content:zq},jq={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},Wq={padding:"{overlay.popover.padding}",gap:"1rem"},qq={size:"1.5rem",color:"{overlay.popover.color}"},Gq={gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"},Zq={root:jq,content:Wq,icon:qq,footer:Gq},Kq={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},Yq={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},Qq={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},Xq={mobileIndent:"1rem"},Jq={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},eG={borderColor:"{content.border.color}"},tG={root:Kq,list:Yq,item:Qq,submenu:Xq,submenuIcon:Jq,separator:eG},nG={transitionDuration:"{transition.duration}"},rG={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},iG={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},oG={fontWeight:"600"},sG={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},aG={borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},lG={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},cG={fontWeight:"600"},uG={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},dG={color:"{primary.color}"},hG={width:"0.5rem"},fG={width:"1px",color:"{primary.color}"},pG={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},gG={size:"2rem"},mG={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},vG={inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},_G={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},yG={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},bG={light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},wG={root:nG,header:rG,headerCell:iG,columnTitle:oG,row:sG,bodyCell:aG,footerCell:lG,columnFooter:cG,footer:uG,dropPoint:dG,columnResizer:hG,resizeIndicator:fG,sortIcon:pG,loadingIcon:gG,rowToggleButton:mG,filter:vG,paginatorTop:_G,paginatorBottom:yG,colorScheme:bG},EG={borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},SG={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},TG={background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},CG={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},AG={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},RG={borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},kG={root:EG,header:SG,content:TG,footer:CG,paginatorTop:AG,paginatorBottom:RG},IG={transitionDuration:"{transition.duration}"},xG={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},PG={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},DG={gap:"0.5rem",fontWeight:"500"},MG={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},OG={color:"{form.field.icon.color}"},NG={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},LG={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},BG={borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},VG={margin:"0.5rem 0 0 0"},FG={padding:"0.25rem",fontWeight:"500",color:"{content.color}"},$G={hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},UG={margin:"0.5rem 0 0 0"},zG={padding:"0.375rem",borderRadius:"{content.border.radius}"},HG={margin:"0.5rem 0 0 0"},jG={padding:"0.375rem",borderRadius:"{content.border.radius}"},WG={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},qG={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},GG={light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}},ZG={root:IG,panel:xG,header:PG,title:DG,dropdown:MG,inputIcon:OG,selectMonth:NG,selectYear:LG,group:BG,dayView:VG,weekDay:FG,date:$G,monthView:UG,month:zG,yearView:HG,year:jG,buttonbar:WG,timePicker:qG,colorScheme:GG},KG={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},YG={padding:"{overlay.modal.padding}",gap:"0.5rem"},QG={fontSize:"1.25rem",fontWeight:"600"},XG={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},JG={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"},eZ={root:KG,header:YG,title:QG,content:XG,footer:JG},tZ={borderColor:"{content.border.color}"},nZ={background:"{content.background}",color:"{text.color}"},rZ={margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},iZ={margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}},oZ={root:tZ,content:nZ,horizontal:rZ,vertical:iZ},sZ={background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},aZ={borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},lZ={root:sZ,item:aZ},cZ={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},uZ={padding:"{overlay.modal.padding}"},dZ={fontSize:"1.5rem",fontWeight:"600"},hZ={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},fZ={padding:"{overlay.modal.padding}"},pZ={root:cZ,header:uZ,title:dZ,content:hZ,footer:fZ},gZ={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},mZ={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},vZ={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},_Z={focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},yZ={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},bZ={toolbar:gZ,toolbarItem:mZ,overlay:vZ,overlayOption:_Z,content:yZ},wZ={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},EZ={background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},SZ={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},TZ={padding:"0"},CZ={root:wZ,legend:EZ,toggleIcon:SZ,content:TZ},AZ={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},RZ={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},kZ={highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},IZ={padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},xZ={gap:"0.5rem"},PZ={height:"0.25rem"},DZ={gap:"0.5rem"},MZ={root:AZ,header:RZ,content:kZ,file:IZ,fileList:xZ,progressbar:PZ,basic:DZ},OZ={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},NZ={active:{top:"-1.25rem"}},LZ={input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},BZ={borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}},VZ={root:OZ,over:NZ,in:LZ,on:BZ},FZ={borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},$Z={background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},UZ={size:"1.5rem"},zZ={background:"{content.background}",padding:"1rem 0.25rem"},HZ={size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},jZ={size:"1rem"},WZ={background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},qZ={gap:"0.5rem",padding:"1rem"},GZ={width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ZZ={background:"rgba(0, 0, 0, 0.5)"},KZ={background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},YZ={size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},QZ={size:"1.5rem"},XZ={light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}},JZ={root:FZ,navButton:$Z,navIcon:UZ,thumbnailsContent:zZ,thumbnailNavButton:HZ,thumbnailNavButtonIcon:jZ,caption:WZ,indicatorList:qZ,indicatorButton:GZ,insetIndicatorList:ZZ,insetIndicatorButton:KZ,closeButton:YZ,closeButtonIcon:QZ,colorScheme:XZ},eK={color:"{form.field.icon.color}"},tK={icon:eK},nK={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},rK={paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},iK={root:nK,input:rK},oK={transitionDuration:"{transition.duration}"},sK={icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},aK={position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},lK={hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},cK={root:oK,preview:sK,toolbar:aK,action:lK},uK={size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},dK={handle:uK},hK={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},fK={fontWeight:"500"},pK={size:"1rem"},gK={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}},mK={root:hK,text:fK,icon:pK,colorScheme:gK},vK={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},_K={hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"},yK={root:vK,display:_K},bK={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},wK={borderRadius:"{border.radius.sm}"},EK={light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}},SK={root:bK,chip:wK,colorScheme:EK},TK={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"},CK={addon:TK},AK={transitionDuration:"{transition.duration}"},RK={width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},kK={light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}},IK={root:AK,button:RK,colorScheme:kK},xK={gap:"0.5rem"},PK={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}},DK={root:xK,input:PK},MK={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},OK={root:MK},NK={transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},LK={background:"{primary.color}"},BK={background:"{content.border.color}"},VK={color:"{text.muted.color}"},FK={root:NK,value:LK,range:BK,text:VK},$K={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},UK={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},zK={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},HK={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},jK={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},WK={padding:"{list.option.padding}"},qK={light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}},GK={root:$K,list:UK,option:zK,optionGroup:HK,checkmark:jK,emptyMessage:WK,colorScheme:qK},ZK={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},KK={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},YK={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},QK={padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},XK={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},JK={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},eY={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},tY={borderColor:"{content.border.color}"},nY={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},rY={root:ZK,baseItem:KK,item:YK,overlay:QK,submenu:XK,submenuLabel:JK,submenuIcon:eY,separator:tY,mobileButton:nY},iY={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},oY={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},sY={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},aY={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},lY={borderColor:"{content.border.color}"},cY={root:iY,list:oY,item:sY,submenuLabel:aY,separator:lY},uY={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},dY={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},hY={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},fY={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},pY={borderColor:"{content.border.color}"},gY={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},mY={root:uY,baseItem:dY,item:hY,submenu:fY,separator:pY,mobileButton:gY},vY={borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},_Y={padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},yY={fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},bY={size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},wY={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},EY={size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},SY={root:{borderWidth:"1px"}},TY={content:{padding:"0"}},CY={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}},AY={root:vY,content:_Y,text:yY,icon:bY,closeButton:wY,closeIcon:EY,outlined:SY,simple:TY,colorScheme:CY},RY={borderRadius:"{content.border.radius}",gap:"1rem"},kY={background:"{content.border.color}",size:"0.5rem"},IY={gap:"0.5rem"},xY={size:"0.5rem"},PY={size:"1rem"},DY={verticalGap:"0.5rem",horizontalGap:"1rem"},MY={root:RY,meters:kY,label:IY,labelMarker:xY,labelIcon:PY,labelList:DY},OY={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},NY={width:"2.5rem",color:"{form.field.icon.color}"},LY={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},BY={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},VY={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},FY={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},$Y={color:"{form.field.icon.color}"},UY={borderRadius:"{border.radius.sm}"},zY={padding:"{list.option.padding}"},HY={root:OY,dropdown:NY,overlay:LY,list:BY,option:VY,optionGroup:FY,chip:UY,clearIcon:$Y,emptyMessage:zY},jY={gap:"1.125rem"},WY={gap:"0.5rem"},qY={root:jY,controls:WY},GY={gutter:"0.75rem",transitionDuration:"{transition.duration}"},ZY={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},KY={background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},YY={color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"},QY={root:GY,node:ZY,nodeToggleButton:KY,connector:YY},XY={outline:{width:"2px",color:"{content.background}"}},JY={root:XY},eQ={padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},tQ={background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},nQ={color:"{text.muted.color}"},rQ={maxWidth:"2.5rem"},iQ={root:eQ,navButton:tQ,currentPageReport:nQ,jumpToPageInput:rQ},oQ={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},sQ={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},aQ={padding:"0.375rem 1.125rem"},lQ={fontWeight:"600"},cQ={padding:"0 1.125rem 1.125rem 1.125rem"},uQ={padding:"0 1.125rem 1.125rem 1.125rem"},dQ={root:oQ,header:sQ,toggleableHeader:aQ,title:lQ,content:cQ,footer:uQ},hQ={gap:"0.5rem",transitionDuration:"{transition.duration}"},fQ={background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},pQ={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},gQ={indent:"1rem"},mQ={color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"},vQ={root:hQ,panel:fQ,item:pQ,submenu:gQ,submenuIcon:mQ},_Q={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},yQ={color:"{form.field.icon.color}"},bQ={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},wQ={gap:"0.5rem"},EQ={light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}},SQ={meter:_Q,icon:yQ,overlay:bQ,content:wQ,colorScheme:EQ},TQ={gap:"1.125rem"},CQ={gap:"0.5rem"},AQ={root:TQ,controls:CQ},RQ={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},kQ={padding:"{overlay.popover.padding}"},IQ={root:RQ,content:kQ},xQ={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},PQ={background:"{primary.color}"},DQ={color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"},MQ={root:xQ,value:PQ,label:DQ},OQ={light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}},NQ={colorScheme:OQ},LQ={width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},BQ={size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}},VQ={root:LQ,icon:BQ},FQ={gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},$Q={size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"},UQ={root:FQ,icon:$Q},zQ={light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}},HQ={colorScheme:zQ},jQ={transitionDuration:"{transition.duration}"},WQ={size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},qQ={light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}},GQ={root:jQ,bar:WQ,colorScheme:qQ},ZQ={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},KQ={width:"2.5rem",color:"{form.field.icon.color}"},YQ={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},QQ={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},XQ={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},JQ={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},eX={color:"{form.field.icon.color}"},tX={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},nX={padding:"{list.option.padding}"},rX={root:ZQ,dropdown:KQ,overlay:YQ,list:QQ,option:XQ,optionGroup:JQ,clearIcon:eX,checkmark:tX,emptyMessage:nX},iX={borderRadius:"{form.field.border.radius}"},oX={light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}},sX={root:iX,colorScheme:oX},aX={borderRadius:"{content.border.radius}"},lX={light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}},cX={root:aX,colorScheme:lX},uX={transitionDuration:"{transition.duration}"},dX={background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},hX={background:"{primary.color}"},fX={width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},pX={light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}},gX={root:uX,track:dX,range:hX,handle:fX,colorScheme:pX},mX={gap:"0.5rem",transitionDuration:"{transition.duration}"},vX={root:mX},_X={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},yX={root:_X},bX={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},wX={background:"{content.border.color}"},EX={size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},SX={root:bX,gutter:wX,handle:EX},TX={transitionDuration:"{transition.duration}"},CX={background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},AX={padding:"0.5rem",gap:"1rem"},RX={padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},kX={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},IX={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},xX={padding:"0.875rem 0.5rem 1.125rem 0.5rem"},PX={background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"},DX={root:TX,separator:CX,step:AX,stepHeader:RX,stepTitle:kX,stepNumber:IX,steppanels:xX,steppanel:PX},MX={transitionDuration:"{transition.duration}"},OX={background:"{content.border.color}"},NX={borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},LX={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},BX={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},VX={root:MX,separator:OX,itemLink:NX,itemLabel:LX,itemNumber:BX},FX={transitionDuration:"{transition.duration}"},$X={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},UX={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},zX={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},HX={height:"1px",bottom:"-1px",background:"{primary.color}"},jX={root:FX,tablist:$X,item:UX,itemIcon:zX,activeBar:HX},WX={transitionDuration:"{transition.duration}"},qX={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},GX={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},ZX={background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},KX={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},YX={height:"1px",bottom:"-1px",background:"{primary.color}"},QX={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},XX={root:WX,tablist:qX,tab:GX,tabpanel:ZX,navButton:KX,activeBar:YX,colorScheme:QX},JX={transitionDuration:"{transition.duration}"},eJ={background:"{content.background}",borderColor:"{content.border.color}"},tJ={borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},nJ={background:"{content.background}",color:"{content.color}"},rJ={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},iJ={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},oJ={root:JX,tabList:eJ,tab:tJ,tabPanel:nJ,navButton:rJ,colorScheme:iJ},sJ={fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},aJ={size:"0.75rem"},lJ={light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},cJ={root:sJ,icon:aJ,colorScheme:lJ},uJ={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},dJ={gap:"0.25rem"},hJ={margin:"2px 0"},fJ={root:uJ,prompt:dJ,commandResponse:hJ},pJ={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},gJ={root:pJ},mJ={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},vJ={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},_J={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},yJ={mobileIndent:"1rem"},bJ={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},wJ={borderColor:"{content.border.color}"},EJ={root:mJ,list:vJ,item:_J,submenu:yJ,submenuIcon:bJ,separator:wJ},SJ={minHeight:"5rem"},TJ={eventContent:{padding:"1rem 0"}},CJ={eventContent:{padding:"0 1rem"}},AJ={size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},RJ={color:"{content.border.color}",size:"2px"},kJ={event:SJ,horizontal:TJ,vertical:CJ,eventMarker:AJ,eventConnector:RJ},IJ={width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},xJ={size:"1.125rem"},PJ={padding:"{overlay.popover.padding}",gap:"0.5rem"},DJ={gap:"0.5rem"},MJ={fontWeight:"500",fontSize:"1rem"},OJ={fontWeight:"500",fontSize:"0.875rem"},NJ={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},LJ={size:"1rem"},BJ={light:{root:{blur:"1.5px"},info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{root:{blur:"10px"},info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}},VJ={root:IJ,icon:xJ,content:PJ,text:DJ,summary:MJ,detail:OJ,closeButton:NJ,closeIcon:LJ,colorScheme:BJ},FJ={padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},$J={disabledColor:"{form.field.disabled.color}"},UJ={padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},zJ={light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}},HJ={root:FJ,icon:$J,content:UJ,colorScheme:zJ},jJ={width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},WJ={borderRadius:"50%",size:"1rem"},qJ={light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}},GJ={root:jJ,handle:WJ,colorScheme:qJ},ZJ={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},KJ={root:ZJ},YJ={maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},QJ={light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}},XJ={root:YJ,colorScheme:QJ},JJ={background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},eee={padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},tee={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nee={borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ree={size:"2rem"},iee={margin:"0 0 0.5rem 0"},oee={root:JJ,node:eee,nodeIcon:tee,nodeToggleButton:nee,loadingIcon:ree,filter:iee},see={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},aee={width:"2.5rem",color:"{form.field.icon.color}"},lee={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},cee={padding:"{list.padding}"},uee={padding:"{list.option.padding}"},dee={borderRadius:"{border.radius.sm}"},hee={color:"{form.field.icon.color}"},fee={root:see,dropdown:aee,overlay:lee,tree:cee,emptyMessage:uee,chip:dee,clearIcon:hee},pee={transitionDuration:"{transition.duration}"},gee={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},mee={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},vee={fontWeight:"600"},_ee={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},yee={borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},bee={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},wee={fontWeight:"600"},Eee={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},See={width:"0.5rem"},Tee={width:"1px",color:"{primary.color}"},Cee={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},Aee={size:"2rem"},Ree={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},kee={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},Iee={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},xee={light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},Pee={root:pee,header:gee,headerCell:mee,columnTitle:vee,row:_ee,bodyCell:yee,footerCell:bee,columnFooter:wee,footer:Eee,columnResizer:See,resizeIndicator:Tee,sortIcon:Cee,loadingIcon:Aee,nodeToggleButton:Ree,paginatorTop:kee,paginatorBottom:Iee,colorScheme:xee},Dee={mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}},Mee={loader:Dee};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=Nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=Lee(t,"string");return Wc(e)=="symbol"?e:e+""}function Lee(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bee=Ew(Ew({},X8),{},{components:{accordion:A8,autocomplete:L8,avatar:z8,badge:K8,blockui:eq,breadcrumb:iq,button:aq,datepicker:ZG,card:fq,carousel:yq,cascadeselect:Aq,checkbox:Iq,chip:Nq,colorpicker:$q,confirmdialog:Hq,confirmpopup:Zq,contextmenu:tG,dataview:kG,datatable:wG,dialog:eZ,divider:oZ,dock:lZ,drawer:pZ,editor:bZ,fieldset:CZ,fileupload:MZ,iftalabel:iK,floatlabel:VZ,galleria:JZ,iconfield:tK,image:cK,imagecompare:dK,inlinemessage:mK,inplace:yK,inputchips:SK,inputgroup:CK,inputnumber:IK,inputotp:DK,inputtext:OK,knob:FK,listbox:GK,megamenu:rY,menu:cY,menubar:mY,message:AY,metergroup:MY,multiselect:HY,orderlist:qY,organizationchart:QY,overlaybadge:JY,popover:IQ,paginator:iQ,password:SQ,panel:dQ,panelmenu:vQ,picklist:AQ,progressbar:MQ,progressspinner:NQ,radiobutton:VQ,rating:UQ,ripple:HQ,scrollpanel:GQ,select:rX,selectbutton:sX,skeleton:cX,slider:gX,speeddial:vX,splitter:SX,splitbutton:yX,stepper:DX,steps:VX,tabmenu:jX,tabs:XX,tabview:oJ,textarea:gJ,tieredmenu:EJ,tag:cJ,terminal:fJ,timeline:kJ,togglebutton:HJ,toggleswitch:GJ,tree:oee,treeselect:fee,treetable:Pee,toast:VJ,toolbar:KJ,tooltip:XJ,virtualscroller:Mee}});const jv=H1(ox);jv.use(w8,{theme:{preset:Bee}});jv.use(KR);jv.mount("#app");export{Xt as F,xn as _,w as a,pt as b,me as c,Ne as d,Ke as e,f5 as f,Xh as g,et as h,Bn as i,Cs as j,Tc as k,Fee as l,k6 as m,Ut as n,ge as o,Ni as r,ve as t,dm as u,tt as v,As as w};
